#!/usr/bin/env node
/*! For license information please see back.cjs.LICENSE.txt */
(()=>{var t,e,i={211:function(t,e){var i;!function(n){"use strict";var r=function(){var t=Array.prototype.slice.call(arguments);"function"==typeof t[0]&&t[0].apply(null,t.splice(1))},s=function(t){"function"==typeof setImmediate?setImmediate(t):"undefined"!=typeof process&&process.nextTick?process.nextTick(t):setTimeout(t,0)},o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=function(t,e,i){var n=i?s:r;if(e=e||function(){},!o(t)){var a=new Error("First argument to waterfall must be an array of functions");return e(a)}if(!t.length)return e();var l=function(t){return function(i){if(i)e.apply(null,arguments),e=function(){};else{var r=Array.prototype.slice.call(arguments,1),s=t.next();s?r.push(l(s)):r.push(e),n((function(){t.apply(null,r)}))}}};l(function(t){var e=function(i){var n=function(){return t.length&&t[i].apply(null,arguments),n.next()};return n.next=function(){return i<t.length-1?e(i+1):null},n};return e(0)}(t))()};void 0===(i=function(){return a}.apply(e,[]))||(t.exports=i)}()},2578:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5157),r=i(4100),s={returnIndex:!1},o=(t,e,i,n)=>{const s=Array.isArray(i),o=s?i[0]:i;if(!s&&"string"!=typeof o)throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));const a=r(o,!1);for(let t=0;t<e.length;t++)if((0,e[t])(a))return!!n&&-1;const l=s&&[a].concat(i.slice(1));for(let e=0;e<t.length;e++){const i=t[e];if(s?i(...l):i(a))return!n||e}return!!n&&-1},a=(t,e,i=s)=>{if(null==t)throw new TypeError("anymatch: specify first argument");const r="boolean"==typeof i?{returnIndex:i}:i,a=r.returnIndex||!1,l=(c=t,Array.isArray(c)?c:[c]);var c;const u=l.filter((t=>"string"==typeof t&&"!"===t.charAt(0))).map((t=>t.slice(1))).map((t=>n(t,r))),h=l.filter((t=>"string"!=typeof t||"string"==typeof t&&"!"!==t.charAt(0))).map((t=>((t,e)=>{if("function"==typeof t)return t;if("string"==typeof t){const i=n(t,e);return e=>t===e||i(e)}return t instanceof RegExp?e=>t.test(e):t=>!1})(t,r)));return null==e?(t,e=!1)=>o(h,u,t,"boolean"==typeof e&&e):o(h,u,e,a)};a.default=a,t.exports=a},983:(t,e,i)=>{"use strict";var n=i(7342),r=[];function s(){this.task=null,this.domain=null}t.exports=function(t){var e;(e=r.length?r.pop():new s).task=t,e.domain=process.domain,n(e)},s.prototype.call=function(){this.domain&&this.domain.enter();var t=!0;try{this.task.call(),t=!1,this.domain&&this.domain.exit()}finally{t&&n.requestFlush(),this.task=null,this.domain=null,r.push(this)}}},7342:(t,e,i)=>{"use strict";var n,r="function"==typeof setImmediate;function s(t){o.length||(h(),a=!0),o[o.length]=t}t.exports=s;var o=[],a=!1,l=0,c=1024;function u(){for(;l<o.length;){var t=l;if(l+=1,o[t].call(),l>c){for(var e=0,i=o.length-l;e<i;e++)o[e]=o[e+l];o.length-=l,l=0}}o.length=0,l=0,a=!1}function h(){var t=process.domain;t&&(n||(n=i(3167)),n.active=process.domain=null),a&&r?setImmediate(u):process.nextTick(u),t&&(n.active=process.domain=t)}s.requestFlush=h},8505:t=>{"use strict";function e(t,e,r){t instanceof RegExp&&(t=i(t,r)),e instanceof RegExp&&(e=i(e,r));var s=n(t,e,r);return s&&{start:s[0],end:s[1],pre:r.slice(0,s[0]),body:r.slice(s[0]+t.length,s[1]),post:r.slice(s[1]+e.length)}}function i(t,e){var i=e.match(t);return i?i[0]:null}function n(t,e,i){var n,r,s,o,a,l=i.indexOf(t),c=i.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=i.length;u>=0&&!a;)u==l?(n.push(u),l=i.indexOf(t,u+1)):1==n.length?a=[n.pop(),c]:((r=n.pop())<s&&(s=r,o=c),c=i.indexOf(e,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[s,o])}return a}t.exports=e,e.range=n},1493:(t,e,i)=>{t.exports=i(6548)},8928:(t,e,i)=>{var n=i(8505);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),g(function(t){return t.split("\\\\").join(r).split("\\{").join(s).split("\\}").join(o).split("\\,").join(a).split("\\.").join(l)}(t),!0).map(u)):[]};var r="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function c(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function u(t){return t.split(r).join("\\").split(s).join("{").split(o).join("}").split(a).join(",").split(l).join(".")}function h(t){if(!t)return[""];var e=[],i=n("{","}",t);if(!i)return t.split(",");var r=i.pre,s=i.body,o=i.post,a=r.split(",");a[a.length-1]+="{"+s+"}";var l=h(o);return o.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),e.push.apply(e,a),e}function p(t){return"{"+t+"}"}function f(t){return/^-?0\d/.test(t)}function d(t,e){return t<=e}function m(t,e){return t>=e}function g(t,e){var i=[],r=n("{","}",t);if(!r)return[t];var s=r.pre,a=r.post.length?g(r.post,!1):[""];if(/\$$/.test(r.pre))for(var l=0;l<a.length;l++){var u=s+"{"+r.body+"}"+a[l];i.push(u)}else{var y,b,_=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),v=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),w=_||v,x=r.body.indexOf(",")>=0;if(!w&&!x)return r.post.match(/,.*\}/)?g(t=r.pre+"{"+r.body+o+r.post):[t];if(w)y=r.body.split(/\.\./);else if(1===(y=h(r.body)).length&&1===(y=g(y[0],!1).map(p)).length)return a.map((function(t){return r.pre+y[0]+t}));if(w){var k=c(y[0]),E=c(y[1]),A=Math.max(y[0].length,y[1].length),S=3==y.length?Math.abs(c(y[2])):1,O=d;E<k&&(S*=-1,O=m);var T=y.some(f);b=[];for(var C=k;O(C,E);C+=S){var N;if(v)"\\"===(N=String.fromCharCode(C))&&(N="");else if(N=String(C),T){var I=A-N.length;if(I>0){var L=new Array(I+1).join("0");N=C<0?"-"+L+N.slice(1):L+N}}b.push(N)}}else{b=[];for(var R=0;R<y.length;R++)b.push.apply(b,g(y[R],!1))}for(R=0;R<b.length;R++)for(l=0;l<a.length;l++)u=s+b[R]+a[l],(!e||w||u)&&i.push(u)}return i}},4537:(t,e,i)=>{"use strict";const n=i(3720),r=i(8712),s=i(8697),o=i(2598),a=(t,e={})=>{let i=[];if(Array.isArray(t))for(const n of t){const t=a.create(n,e);Array.isArray(t)?i.push(...t):i.push(t)}else i=[].concat(a.create(t,e));return e&&!0===e.expand&&!0===e.nodupes&&(i=[...new Set(i)]),i};a.parse=(t,e={})=>o(t,e),a.stringify=(t,e={})=>n("string"==typeof t?a.parse(t,e):t,e),a.compile=(t,e={})=>("string"==typeof t&&(t=a.parse(t,e)),r(t,e)),a.expand=(t,e={})=>{"string"==typeof t&&(t=a.parse(t,e));let i=s(t,e);return!0===e.noempty&&(i=i.filter(Boolean)),!0===e.nodupes&&(i=[...new Set(i)]),i},a.create=(t,e={})=>""===t||t.length<3?[t]:!0!==e.expand?a.compile(t,e):a.expand(t,e),t.exports=a},8712:(t,e,i)=>{"use strict";const n=i(7028),r=i(7612);t.exports=(t,e={})=>{const i=(t,s={})=>{const o=r.isInvalidBrace(s),a=!0===t.invalid&&!0===e.escapeInvalid,l=!0===o||!0===a,c=!0===e.escapeInvalid?"\\":"";let u="";if(!0===t.isOpen)return c+t.value;if(!0===t.isClose)return console.log("node.isClose",c,t.value),c+t.value;if("open"===t.type)return l?c+t.value:"(";if("close"===t.type)return l?c+t.value:")";if("comma"===t.type)return"comma"===t.prev.type?"":l?t.value:"|";if(t.value)return t.value;if(t.nodes&&t.ranges>0){const i=r.reduce(t.nodes),s=n(...i,{...e,wrap:!1,toRegex:!0,strictZeros:!0});if(0!==s.length)return i.length>1&&s.length>1?`(${s})`:s}if(t.nodes)for(const e of t.nodes)u+=i(e,t);return u};return i(t)}},8776:t=>{"use strict";t.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"Â ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},8697:(t,e,i)=>{"use strict";const n=i(7028),r=i(3720),s=i(7612),o=(t="",e="",i=!1)=>{const n=[];if(t=[].concat(t),!(e=[].concat(e)).length)return t;if(!t.length)return i?s.flatten(e).map((t=>`{${t}}`)):e;for(const r of t)if(Array.isArray(r))for(const t of r)n.push(o(t,e,i));else for(let t of e)!0===i&&"string"==typeof t&&(t=`{${t}}`),n.push(Array.isArray(t)?o(r,t,i):r+t);return s.flatten(n)};t.exports=(t,e={})=>{const i=void 0===e.rangeLimit?1e3:e.rangeLimit,a=(t,l={})=>{t.queue=[];let c=l,u=l.queue;for(;"brace"!==c.type&&"root"!==c.type&&c.parent;)c=c.parent,u=c.queue;if(t.invalid||t.dollar)return void u.push(o(u.pop(),r(t,e)));if("brace"===t.type&&!0!==t.invalid&&2===t.nodes.length)return void u.push(o(u.pop(),["{}"]));if(t.nodes&&t.ranges>0){const a=s.reduce(t.nodes);if(s.exceedsLimit(...a,e.step,i))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=n(...a,e);return 0===l.length&&(l=r(t,e)),u.push(o(u.pop(),l)),void(t.nodes=[])}const h=s.encloseBrace(t);let p=t.queue,f=t;for(;"brace"!==f.type&&"root"!==f.type&&f.parent;)f=f.parent,p=f.queue;for(let e=0;e<t.nodes.length;e++){const i=t.nodes[e];"comma"!==i.type||"brace"!==t.type?"close"!==i.type?i.value&&"open"!==i.type?p.push(o(p.pop(),i.value)):i.nodes&&a(i,t):u.push(o(u.pop(),p,h)):(1===e&&p.push(""),p.push(""))}return p};return s.flatten(a(t))}},2598:(t,e,i)=>{"use strict";const n=i(3720),{MAX_LENGTH:r,CHAR_BACKSLASH:s,CHAR_BACKTICK:o,CHAR_COMMA:a,CHAR_DOT:l,CHAR_LEFT_PARENTHESES:c,CHAR_RIGHT_PARENTHESES:u,CHAR_LEFT_CURLY_BRACE:h,CHAR_RIGHT_CURLY_BRACE:p,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_RIGHT_SQUARE_BRACKET:d,CHAR_DOUBLE_QUOTE:m,CHAR_SINGLE_QUOTE:g,CHAR_NO_BREAK_SPACE:y,CHAR_ZERO_WIDTH_NOBREAK_SPACE:b}=i(8776);t.exports=(t,e={})=>{if("string"!=typeof t)throw new TypeError("Expected a string");const i=e||{},_="number"==typeof i.maxLength?Math.min(r,i.maxLength):r;if(t.length>_)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${_})`);const v={type:"root",input:t,nodes:[]},w=[v];let x=v,k=v,E=0;const A=t.length;let S,O=0,T=0;const C=()=>t[O++],N=t=>{if("text"===t.type&&"dot"===k.type&&(k.type="text"),!k||"text"!==k.type||"text"!==t.type)return x.nodes.push(t),t.parent=x,t.prev=k,k=t,t;k.value+=t.value};for(N({type:"bos"});O<A;)if(x=w[w.length-1],S=C(),S!==b&&S!==y)if(S!==s)if(S!==d)if(S!==f)if(S!==c)if(S!==u)if(S!==m&&S!==g&&S!==o)if(S!==h)if(S!==p)if(S===a&&T>0){if(x.ranges>0){x.ranges=0;const t=x.nodes.shift();x.nodes=[t,{type:"text",value:n(x)}]}N({type:"comma",value:S}),x.commas++}else if(S===l&&T>0&&0===x.commas){const t=x.nodes;if(0===T||0===t.length){N({type:"text",value:S});continue}if("dot"===k.type){if(x.range=[],k.value+=S,k.type="range",3!==x.nodes.length&&5!==x.nodes.length){x.invalid=!0,x.ranges=0,k.type="text";continue}x.ranges++,x.args=[];continue}if("range"===k.type){t.pop();const e=t[t.length-1];e.value+=k.value+S,k=e,x.ranges--;continue}N({type:"dot",value:S})}else N({type:"text",value:S});else{if("brace"!==x.type){N({type:"text",value:S});continue}const t="close";x=w.pop(),x.close=!0,N({type:t,value:S}),T--,x=w[w.length-1]}else{T++;const t=k.value&&"$"===k.value.slice(-1)||!0===x.dollar;x=N({type:"brace",open:!0,close:!1,dollar:t,depth:T,commas:0,ranges:0,nodes:[]}),w.push(x),N({type:"open",value:S})}else{const t=S;let i;for(!0!==e.keepQuotes&&(S="");O<A&&(i=C());)if(i!==s){if(i===t){!0===e.keepQuotes&&(S+=i);break}S+=i}else S+=i+C();N({type:"text",value:S})}else{if("paren"!==x.type){N({type:"text",value:S});continue}x=w.pop(),N({type:"text",value:S}),x=w[w.length-1]}else x=N({type:"paren",nodes:[]}),w.push(x),N({type:"text",value:S});else{let t;for(E++;O<A&&(t=C());)if(S+=t,t!==f)if(t!==s){if(t===d&&(E--,0===E))break}else S+=C();else E++;N({type:"text",value:S})}else N({type:"text",value:"\\"+S});else N({type:"text",value:(e.keepEscaping?S:"")+C()});do{if(x=w.pop(),"root"!==x.type){x.nodes.forEach((t=>{t.nodes||("open"===t.type&&(t.isOpen=!0),"close"===t.type&&(t.isClose=!0),t.nodes||(t.type="text"),t.invalid=!0)}));const t=w[w.length-1],e=t.nodes.indexOf(x);t.nodes.splice(e,1,...x.nodes)}}while(w.length>0);return N({type:"eos"}),v}},3720:(t,e,i)=>{"use strict";const n=i(7612);t.exports=(t,e={})=>{const i=(t,r={})=>{const s=e.escapeInvalid&&n.isInvalidBrace(r),o=!0===t.invalid&&!0===e.escapeInvalid;let a="";if(t.value)return(s||o)&&n.isOpenOrClose(t)?"\\"+t.value:t.value;if(t.value)return t.value;if(t.nodes)for(const e of t.nodes)a+=i(e);return a};return i(t)}},7612:(t,e)=>{"use strict";e.isInteger=t=>"number"==typeof t?Number.isInteger(t):"string"==typeof t&&""!==t.trim()&&Number.isInteger(Number(t)),e.find=(t,e)=>t.nodes.find((t=>t.type===e)),e.exceedsLimit=(t,i,n=1,r)=>!1!==r&&!(!e.isInteger(t)||!e.isInteger(i))&&(Number(i)-Number(t))/Number(n)>=r,e.escapeNode=(t,e=0,i)=>{const n=t.nodes[e];n&&(i&&n.type===i||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},e.encloseBrace=t=>!("brace"!==t.type||t.commas>>0+t.ranges||(t.invalid=!0,0)),e.isInvalidBrace=t=>!("brace"!==t.type||!0!==t.invalid&&!t.dollar&&(t.commas>>0+t.ranges&&!0===t.open&&!0===t.close||(t.invalid=!0,0))),e.isOpenOrClose=t=>"open"===t.type||"close"===t.type||!0===t.open||!0===t.close,e.reduce=t=>t.reduce(((t,e)=>("text"===e.type&&t.push(e.value),"range"===e.type&&(e.type="text"),t)),[]),e.flatten=(...t)=>{const e=[],i=t=>{for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)?i(r):void 0!==r&&e.push(r)}return e};return i(t),e}},158:(t,e,i)=>{"use strict";const{EventEmitter:n}=i(4434),r=i(9896),s=i(6928),{promisify:o}=i(9023),a=i(9084),l=i(2578).default,c=i(5014),u=i(2382),h=i(4537),p=i(4100),f=i(1150),d=i(5995),{EV_ALL:m,EV_READY:g,EV_ADD:y,EV_CHANGE:b,EV_UNLINK:_,EV_ADD_DIR:v,EV_UNLINK_DIR:w,EV_RAW:x,EV_ERROR:k,STR_CLOSE:E,STR_END:A,BACK_SLASH_RE:S,DOUBLE_SLASH_RE:O,SLASH_OR_BACK_SLASH_RE:T,DOT_RE:C,REPLACER_RE:N,SLASH:I,SLASH_SLASH:L,BRACE_START:R,BANG:D,ONE_DOT:M,TWO_DOTS:P,GLOBSTAR:F,SLASH_GLOBSTAR:j,ANYMATCH_OPTS:B,STRING_TYPE:$,FUNCTION_TYPE:z,EMPTY_STR:U,EMPTY_FN:q,isWindows:G,isMacos:V,isIBMi:H}=i(6163),W=o(r.stat),K=o(r.readdir),X=(t=[])=>Array.isArray(t)?t:[t],Y=(t,e=[])=>(t.forEach((t=>{Array.isArray(t)?Y(t,e):e.push(t)})),e),J=t=>{const e=Y(X(t));if(!e.every((t=>typeof t===$)))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(Q)},Z=t=>{let e=t.replace(S,I),i=!1;for(e.startsWith(L)&&(i=!0);e.match(O);)e=e.replace(O,I);return i&&(e=I+e),e},Q=t=>Z(s.normalize(Z(t))),tt=(t=U)=>e=>typeof e!==$?e:Q(s.isAbsolute(e)?e:s.join(t,e)),et=(t,e)=>void 0===t[e];class it{constructor(t,e){this.path=t,this._removeWatcher=e,this.items=new Set}add(t){const{items:e}=this;e&&t!==M&&t!==P&&e.add(t)}async remove(t){const{items:e}=this;if(!e)return;if(e.delete(t),e.size>0)return;const i=this.path;try{await K(i)}catch(t){this._removeWatcher&&this._removeWatcher(s.dirname(i),s.basename(i))}}has(t){const{items:e}=this;if(e)return e.has(t)}getChildren(){const{items:t}=this;if(t)return[...t.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}}class nt{constructor(t,e,i,n){this.fsw=n,this.path=t=t.replace(N,U),this.watchPath=e,this.fullWatchPath=s.resolve(e),this.hasGlob=e!==t,t===U&&(this.hasGlob=!1),this.globSymlink=!(!this.hasGlob||!i)&&void 0,this.globFilter=!!this.hasGlob&&l(t,void 0,B),this.dirParts=this.getDirParts(t),this.dirParts.forEach((t=>{t.length>1&&t.pop()})),this.followSymlinks=i,this.statMethod=i?"stat":"lstat"}checkGlobSymlink(t){return void 0===this.globSymlink&&(this.globSymlink=t.fullParentDir!==this.fullWatchPath&&{realPath:t.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?t.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):t.fullPath}entryPath(t){return s.join(this.watchPath,s.relative(this.watchPath,this.checkGlobSymlink(t)))}filterPath(t){const{stats:e}=t;if(e&&e.isSymbolicLink())return this.filterDir(t);const i=this.entryPath(t);return(!this.hasGlob||typeof this.globFilter!==z||this.globFilter(i))&&this.fsw._isntIgnored(i,e)&&this.fsw._hasReadPermissions(e)}getDirParts(t){if(!this.hasGlob)return[];const e=[];return(t.includes(R)?h.expand(t):[t]).forEach((t=>{e.push(s.relative(this.watchPath,t).split(T))})),e}filterDir(t){if(this.hasGlob){const e=this.getDirParts(this.checkGlobSymlink(t));let i=!1;this.unmatchedGlob=!this.dirParts.some((t=>t.every(((t,n)=>(t===F&&(i=!0),i||!e[0][n]||l(t,e[0][n],B))))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(t),t.stats)}}class rt extends n{constructor(t){super();const e={};t&&Object.assign(e,t),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,et(e,"persistent")&&(e.persistent=!0),et(e,"ignoreInitial")&&(e.ignoreInitial=!1),et(e,"ignorePermissionErrors")&&(e.ignorePermissionErrors=!1),et(e,"interval")&&(e.interval=100),et(e,"binaryInterval")&&(e.binaryInterval=300),et(e,"disableGlobbing")&&(e.disableGlobbing=!1),e.enableBinaryInterval=e.binaryInterval!==e.interval,et(e,"useFsEvents")&&(e.useFsEvents=!e.usePolling),d.canUse()||(e.useFsEvents=!1),et(e,"usePolling")&&!e.useFsEvents&&(e.usePolling=V),H&&(e.usePolling=!0);const i=process.env.CHOKIDAR_USEPOLLING;if(void 0!==i){const t=i.toLowerCase();e.usePolling="false"!==t&&"0"!==t&&("true"===t||"1"===t||!!t)}const n=process.env.CHOKIDAR_INTERVAL;n&&(e.interval=Number.parseInt(n,10)),et(e,"atomic")&&(e.atomic=!e.usePolling&&!e.useFsEvents),e.atomic&&(this._pendingUnlinks=new Map),et(e,"followSymlinks")&&(e.followSymlinks=!0),et(e,"awaitWriteFinish")&&(e.awaitWriteFinish=!1),!0===e.awaitWriteFinish&&(e.awaitWriteFinish={});const r=e.awaitWriteFinish;r&&(r.stabilityThreshold||(r.stabilityThreshold=2e3),r.pollInterval||(r.pollInterval=100),this._pendingWrites=new Map),e.ignored&&(e.ignored=X(e.ignored));let s=0;this._emitReady=()=>{s++,s>=this._readyCount&&(this._emitReady=q,this._readyEmitted=!0,process.nextTick((()=>this.emit(g))))},this._emitRaw=(...t)=>this.emit(x,...t),this._readyEmitted=!1,this.options=e,e.useFsEvents?this._fsEventsHandler=new d(this):this._nodeFsHandler=new f(this),Object.freeze(e)}add(t,e,i){const{cwd:n,disableGlobbing:r}=this.options;this.closed=!1;let o=J(t);return n&&(o=o.map((t=>{const e=((t,e)=>s.isAbsolute(t)?t:t.startsWith(D)?D+s.join(e,t.slice(1)):s.join(e,t))(t,n);return r||!u(t)?e:p(e)}))),o=o.filter((t=>t.startsWith(D)?(this._ignoredPaths.add(t.slice(1)),!1):(this._ignoredPaths.delete(t),this._ignoredPaths.delete(t+j),this._userIgnored=void 0,!0))),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=o.length),this.options.persistent&&(this._readyCount*=2),o.forEach((t=>this._fsEventsHandler._addToFsEvents(t)))):(this._readyCount||(this._readyCount=0),this._readyCount+=o.length,Promise.all(o.map((async t=>{const n=await this._nodeFsHandler._addToNodeFs(t,!i,0,0,e);return n&&this._emitReady(),n}))).then((t=>{this.closed||t.filter((t=>t)).forEach((t=>{this.add(s.dirname(t),s.basename(e||t))}))}))),this}unwatch(t){if(this.closed)return this;const e=J(t),{cwd:i}=this.options;return e.forEach((t=>{s.isAbsolute(t)||this._closers.has(t)||(i&&(t=s.join(i,t)),t=s.resolve(t)),this._closePath(t),this._ignoredPaths.add(t),this._watched.has(t)&&this._ignoredPaths.add(t+j),this._userIgnored=void 0})),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();const t=[];return this._closers.forEach((e=>e.forEach((e=>{const i=e();i instanceof Promise&&t.push(i)})))),this._streams.forEach((t=>t.destroy())),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach((t=>t.dispose())),["closers","watched","streams","symlinkPaths","throttled"].forEach((t=>{this[`_${t}`].clear()})),this._closePromise=t.length?Promise.all(t).then((()=>{})):Promise.resolve(),this._closePromise}getWatched(){const t={};return this._watched.forEach(((e,i)=>{const n=this.options.cwd?s.relative(this.options.cwd,i):i;t[n||M]=e.getChildren().sort()})),t}emitWithAll(t,e){this.emit(...e),t!==k&&this.emit(m,...e)}async _emit(t,e,i,n,r){if(this.closed)return;const o=this.options;G&&(e=s.normalize(e)),o.cwd&&(e=s.relative(o.cwd,e));const a=[t,e];void 0!==r?a.push(i,n,r):void 0!==n?a.push(i,n):void 0!==i&&a.push(i);const l=o.awaitWriteFinish;let c;if(l&&(c=this._pendingWrites.get(e)))return c.lastChange=new Date,this;if(o.atomic){if(t===_)return this._pendingUnlinks.set(e,a),setTimeout((()=>{this._pendingUnlinks.forEach(((t,e)=>{this.emit(...t),this.emit(m,...t),this._pendingUnlinks.delete(e)}))}),"number"==typeof o.atomic?o.atomic:100),this;t===y&&this._pendingUnlinks.has(e)&&(t=a[0]=b,this._pendingUnlinks.delete(e))}if(l&&(t===y||t===b)&&this._readyEmitted){const i=(e,i)=>{e?(t=a[0]=k,a[1]=e,this.emitWithAll(t,a)):i&&(a.length>2?a[2]=i:a.push(i),this.emitWithAll(t,a))};return this._awaitWriteFinish(e,l.stabilityThreshold,t,i),this}if(t===b&&!this._throttle(b,e,50))return this;if(o.alwaysStat&&void 0===i&&(t===y||t===v||t===b)){const t=o.cwd?s.join(o.cwd,e):e;let i;try{i=await W(t)}catch(t){}if(!i||this.closed)return;a.push(i)}return this.emitWithAll(t,a),this}_handleError(t){const e=t&&t.code;return t&&"ENOENT"!==e&&"ENOTDIR"!==e&&(!this.options.ignorePermissionErrors||"EPERM"!==e&&"EACCES"!==e)&&this.emit(k,t),t||this.closed}_throttle(t,e,i){this._throttled.has(t)||this._throttled.set(t,new Map);const n=this._throttled.get(t),r=n.get(e);if(r)return r.count++,!1;let s;const o=()=>{const t=n.get(e),i=t?t.count:0;return n.delete(e),clearTimeout(s),t&&clearTimeout(t.timeoutObject),i};s=setTimeout(o,i);const a={timeoutObject:s,clear:o,count:0};return n.set(e,a),a}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(t,e,i,n){let o,a=t;this.options.cwd&&!s.isAbsolute(t)&&(a=s.join(this.options.cwd,t));const l=new Date,c=i=>{r.stat(a,((r,s)=>{if(r||!this._pendingWrites.has(t))return void(r&&"ENOENT"!==r.code&&n(r));const a=Number(new Date);i&&s.size!==i.size&&(this._pendingWrites.get(t).lastChange=a),a-this._pendingWrites.get(t).lastChange>=e?(this._pendingWrites.delete(t),n(void 0,s)):o=setTimeout(c,this.options.awaitWriteFinish.pollInterval,s)}))};this._pendingWrites.has(t)||(this._pendingWrites.set(t,{lastChange:l,cancelWait:()=>(this._pendingWrites.delete(t),clearTimeout(o),i)}),o=setTimeout(c,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(t,e){if(this.options.atomic&&C.test(t))return!0;if(!this._userIgnored){const{cwd:t}=this.options,e=this.options.ignored,i=e&&e.map(tt(t)),n=X(i).filter((t=>typeof t===$&&!u(t))).map((t=>t+j)),r=this._getGlobIgnored().map(tt(t)).concat(i,n);this._userIgnored=l(r,void 0,B)}return this._userIgnored([t,e])}_isntIgnored(t,e){return!this._isIgnored(t,e)}_getWatchHelpers(t,e){const i=e||this.options.disableGlobbing||!u(t)?t:c(t),n=this.options.followSymlinks;return new nt(t,i,n,this)}_getWatchedDir(t){this._boundRemove||(this._boundRemove=this._remove.bind(this));const e=s.resolve(t);return this._watched.has(e)||this._watched.set(e,new it(e,this._boundRemove)),this._watched.get(e)}_hasReadPermissions(t){if(this.options.ignorePermissionErrors)return!0;const e=511&(t&&Number.parseInt(t.mode,10)),i=Number.parseInt(e.toString(8)[0],10);return Boolean(4&i)}_remove(t,e,i){const n=s.join(t,e),r=s.resolve(n);if(i=null!=i?i:this._watched.has(n)||this._watched.has(r),!this._throttle("remove",n,100))return;i||this.options.useFsEvents||1!==this._watched.size||this.add(t,e,!0),this._getWatchedDir(n).getChildren().forEach((t=>this._remove(n,t)));const o=this._getWatchedDir(t),a=o.has(e);o.remove(e),this._symlinkPaths.has(r)&&this._symlinkPaths.delete(r);let l=n;if(this.options.cwd&&(l=s.relative(this.options.cwd,n)),this.options.awaitWriteFinish&&this._pendingWrites.has(l)&&this._pendingWrites.get(l).cancelWait()===y)return;this._watched.delete(n),this._watched.delete(r);const c=i?w:_;a&&!this._isIgnored(n)&&this._emit(c,n),this.options.useFsEvents||this._closePath(n)}_closePath(t){this._closeFile(t);const e=s.dirname(t);this._getWatchedDir(e).remove(s.basename(t))}_closeFile(t){const e=this._closers.get(t);e&&(e.forEach((t=>t())),this._closers.delete(t))}_addPathCloser(t,e){if(!e)return;let i=this._closers.get(t);i||(i=[],this._closers.set(t,i)),i.push(e)}_readdirp(t,e){if(this.closed)return;const i={type:m,alwaysStat:!0,lstat:!0,...e};let n=a(t,i);return this._streams.add(n),n.once(E,(()=>{n=void 0})),n.once(A,(()=>{n&&(this._streams.delete(n),n=void 0)})),n}}e.FSWatcher=rt,e.watch=(t,e)=>{const i=new rt(e);return i.add(t),i}},6163:(t,e,i)=>{"use strict";const{sep:n}=i(6928),{platform:r}=process,s=i(857);e.EV_ALL="all",e.EV_READY="ready",e.EV_ADD="add",e.EV_CHANGE="change",e.EV_ADD_DIR="addDir",e.EV_UNLINK="unlink",e.EV_UNLINK_DIR="unlinkDir",e.EV_RAW="raw",e.EV_ERROR="error",e.STR_DATA="data",e.STR_END="end",e.STR_CLOSE="close",e.FSEVENT_CREATED="created",e.FSEVENT_MODIFIED="modified",e.FSEVENT_DELETED="deleted",e.FSEVENT_MOVED="moved",e.FSEVENT_CLONED="cloned",e.FSEVENT_UNKNOWN="unknown",e.FSEVENT_TYPE_FILE="file",e.FSEVENT_TYPE_DIRECTORY="directory",e.FSEVENT_TYPE_SYMLINK="symlink",e.KEY_LISTENERS="listeners",e.KEY_ERR="errHandlers",e.KEY_RAW="rawEmitters",e.HANDLER_KEYS=[e.KEY_LISTENERS,e.KEY_ERR,e.KEY_RAW],e.DOT_SLASH=`.${n}`,e.BACK_SLASH_RE=/\\/g,e.DOUBLE_SLASH_RE=/\/\//,e.SLASH_OR_BACK_SLASH_RE=/[/\\]/,e.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,e.REPLACER_RE=/^\.[/\\]/,e.SLASH="/",e.SLASH_SLASH="//",e.BRACE_START="{",e.BANG="!",e.ONE_DOT=".",e.TWO_DOTS="..",e.STAR="*",e.GLOBSTAR="**",e.ROOT_GLOBSTAR="/**/*",e.SLASH_GLOBSTAR="/**",e.DIR_SUFFIX="Dir",e.ANYMATCH_OPTS={dot:!0},e.STRING_TYPE="string",e.FUNCTION_TYPE="function",e.EMPTY_STR="",e.EMPTY_FN=()=>{},e.IDENTITY_FN=t=>t,e.isWindows="win32"===r,e.isMacos="darwin"===r,e.isLinux="linux"===r,e.isIBMi="OS400"===s.type()},5995:(t,e,i)=>{"use strict";const n=i(9896),r=i(6928),{promisify:s}=i(9023);let o;try{o=i(Object(function(){var t=new Error("Cannot find module 'fsevents'");throw t.code="MODULE_NOT_FOUND",t}()))}catch(t){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(t)}if(o){const t=process.version.match(/v(\d+)\.(\d+)/);if(t&&t[1]&&t[2]){const e=Number.parseInt(t[1],10),i=Number.parseInt(t[2],10);8===e&&i<16&&(o=void 0)}}const{EV_ADD:a,EV_CHANGE:l,EV_ADD_DIR:c,EV_UNLINK:u,EV_ERROR:h,STR_DATA:p,STR_END:f,FSEVENT_CREATED:d,FSEVENT_MODIFIED:m,FSEVENT_DELETED:g,FSEVENT_MOVED:y,FSEVENT_UNKNOWN:b,FSEVENT_TYPE_FILE:_,FSEVENT_TYPE_DIRECTORY:v,FSEVENT_TYPE_SYMLINK:w,ROOT_GLOBSTAR:x,DIR_SUFFIX:k,DOT_SLASH:E,FUNCTION_TYPE:A,EMPTY_FN:S,IDENTITY_FN:O}=i(6163),T=s(n.stat),C=s(n.lstat),N=s(n.realpath),I={stat:T,lstat:C},L=new Map,R=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),D=(t,e)=>({stop:o.watch(t,e)}),M=(t,e)=>{let i=0;for(;!t.indexOf(e)&&(t=r.dirname(t))!==e;)i++;return i},P=(t,e)=>t.type===v&&e.isDirectory()||t.type===w&&e.isSymbolicLink()||t.type===_&&e.isFile();t.exports=class{constructor(t){this.fsw=t}checkIgnored(t,e){const i=this.fsw._ignoredPaths;if(this.fsw._isIgnored(t,e))return i.add(t),e&&e.isDirectory()&&i.add(t+x),!0;i.delete(t),i.delete(t+x)}addOrChange(t,e,i,n,r,s,o,c){const u=r.has(s)?l:a;this.handleEvent(u,t,e,i,n,r,s,o,c)}async checkExists(t,e,i,n,r,s,o,a){try{const l=await T(t);if(this.fsw.closed)return;P(o,l)?this.addOrChange(t,e,i,n,r,s,o,a):this.handleEvent(u,t,e,i,n,r,s,o,a)}catch(l){"EACCES"===l.code?this.addOrChange(t,e,i,n,r,s,o,a):this.handleEvent(u,t,e,i,n,r,s,o,a)}}handleEvent(t,e,i,n,r,s,o,l,h){if(!this.fsw.closed&&!this.checkIgnored(e))if(t===u){const t=l.type===v;(t||s.has(o))&&this.fsw._remove(r,o,t)}else{if(t===a){if(l.type===v&&this.fsw._getWatchedDir(e),l.type===w&&h.followSymlinks){const t=void 0===h.depth?void 0:M(i,n)+1;return this._addToFsEvents(e,!1,!0,t)}this.fsw._getWatchedDir(r).add(o)}const s=l.type===v?t+k:t;this.fsw._emit(s,e),s===c&&this._addToFsEvents(e,!1,!0)}}_watchWithFsEvents(t,e,i,n){if(this.fsw.closed||this.fsw._isIgnored(t))return;const s=this.fsw.options,a=function(t,e,i,n){let s=r.extname(e)?r.dirname(e):e;const a=r.dirname(s);let l=L.get(s);(t=>{let e=0;for(const i of L.keys())if(0===i.indexOf(t)&&(e++,e>=10))return!0;return!1})(a)&&(s=a);const c=r.resolve(t),u=c!==e,h=(t,n,s)=>{u&&(t=t.replace(e,c)),t!==c&&t.indexOf(c+r.sep)||i(t,n,s)};let p=!1;for(const t of L.keys())if(0===e.indexOf(r.resolve(t)+r.sep)){s=t,l=L.get(s),p=!0;break}return l||p?l.listeners.add(h):(l={listeners:new Set([h]),rawEmitter:n,watcher:D(s,((t,e)=>{if(!l.listeners.size)return;const i=o.getInfo(t,e);l.listeners.forEach((n=>{n(t,e,i)})),l.rawEmitter(i.event,t,i)}))},L.set(s,l)),()=>{const t=l.listeners;if(t.delete(h),!t.size&&(L.delete(s),l.watcher))return l.watcher.stop().then((()=>{l.rawEmitter=l.watcher=void 0,Object.freeze(l)}))}}(t,e,(async(o,a,l)=>{if(this.fsw.closed)return;if(void 0!==s.depth&&M(o,e)>s.depth)return;const c=i(r.join(t,r.relative(t,o)));if(n&&!n(c))return;const h=r.dirname(c),p=r.basename(c),f=this.fsw._getWatchedDir(l.type===v?c:h);if(R.has(a)||l.event===b)if(typeof s.ignored===A){let t;try{t=await T(c)}catch(t){}if(this.fsw.closed)return;if(this.checkIgnored(c,t))return;P(l,t)?this.addOrChange(c,o,e,h,f,p,l,s):this.handleEvent(u,c,o,e,h,f,p,l,s)}else this.checkExists(c,o,e,h,f,p,l,s);else switch(l.event){case d:case m:return this.addOrChange(c,o,e,h,f,p,l,s);case g:case y:return this.checkExists(c,o,e,h,f,p,l,s)}}),this.fsw._emitRaw);return this.fsw._emitReady(),a}async _handleFsEventsSymlink(t,e,i,n){if(!this.fsw.closed&&!this.fsw._symlinkPaths.has(e)){this.fsw._symlinkPaths.set(e,!0),this.fsw._incrReadyCount();try{const e=await N(t);if(this.fsw.closed)return;if(this.fsw._isIgnored(e))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(e||t,(n=>{let s=t;return e&&e!==E?s=n.replace(e,t):n!==E&&(s=r.join(t,n)),i(s)}),!1,n)}catch(t){if(this.fsw._handleError(t))return this.fsw._emitReady()}}}emitAdd(t,e,i,n,s){const o=i(t),l=e.isDirectory(),u=this.fsw._getWatchedDir(r.dirname(o)),h=r.basename(o);l&&this.fsw._getWatchedDir(o),u.has(h)||(u.add(h),n.ignoreInitial&&!0!==s||this.fsw._emit(l?c:a,o,e))}initWatch(t,e,i,n){if(this.fsw.closed)return;const s=this._watchWithFsEvents(i.watchPath,r.resolve(t||i.watchPath),n,i.globFilter);this.fsw._addPathCloser(e,s)}async _addToFsEvents(t,e,i,n){if(this.fsw.closed)return;const s=this.fsw.options,o=typeof e===A?e:O,a=this.fsw._getWatchHelpers(t);try{const e=await I[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,e))throw null;if(e.isDirectory()){if(a.globFilter||this.emitAdd(o(t),e,o,s,i),n&&n>s.depth)return;this.fsw._readdirp(a.watchPath,{fileFilter:t=>a.filterPath(t),directoryFilter:t=>a.filterDir(t),...(l=s.depth-(n||0),isNaN(l)?{}:{depth:l})}).on(p,(t=>{if(this.fsw.closed)return;if(t.stats.isDirectory()&&!a.filterPath(t))return;const e=r.join(a.watchPath,t.path),{fullPath:n}=t;if(a.followSymlinks&&t.stats.isSymbolicLink()){const t=void 0===s.depth?void 0:M(e,r.resolve(a.watchPath))+1;this._handleFsEventsSymlink(e,n,o,t)}else this.emitAdd(e,t.stats,o,s,i)})).on(h,S).on(f,(()=>{this.fsw._emitReady()}))}else this.emitAdd(a.watchPath,e,o,s,i),this.fsw._emitReady()}catch(t){t&&!this.fsw._handleError(t)||(this.fsw._emitReady(),this.fsw._emitReady())}var l;if(s.persistent&&!0!==i)if(typeof e===A)this.initWatch(void 0,t,a,o);else{let e;try{e=await N(a.watchPath)}catch(t){}this.initWatch(e,t,a,o)}}},t.exports.canUse=()=>o&&L.size<128},1150:(t,e,i)=>{"use strict";const n=i(9896),r=i(6928),{promisify:s}=i(9023),o=i(3843),{isWindows:a,isLinux:l,EMPTY_FN:c,EMPTY_STR:u,KEY_LISTENERS:h,KEY_ERR:p,KEY_RAW:f,HANDLER_KEYS:d,EV_CHANGE:m,EV_ADD:g,EV_ADD_DIR:y,EV_ERROR:b,STR_DATA:_,STR_END:v,BRACE_START:w,STAR:x}=i(6163),k=s(n.open),E=s(n.stat),A=s(n.lstat),S=s(n.close),O=s(n.realpath),T={lstat:A,stat:E},C=(t,e)=>{t instanceof Set?t.forEach(e):e(t)},N=(t,e,i)=>{let n=t[e];n instanceof Set||(t[e]=n=new Set([n])),n.add(i)},I=(t,e,i)=>{const n=t[e];n instanceof Set?n.delete(i):n===i&&delete t[e]},L=t=>t instanceof Set?0===t.size:!t,R=new Map;function D(t,e,i,s,o){const a=(e,n)=>{i(t),o(e,n,{watchedPath:t}),n&&t!==n&&M(r.resolve(t,n),h,r.join(t,n))};try{return n.watch(t,e,a)}catch(t){s(t)}}const M=(t,e,i,n,r)=>{const s=R.get(t);s&&C(s[e],(t=>{t(i,n,r)}))},P=new Map;t.exports=class{constructor(t){this.fsw=t,this._boundHandleError=e=>t._handleError(e)}_watchWithNodeFs(t,e){const i=this.fsw.options,s=r.dirname(t),l=r.basename(t);this.fsw._getWatchedDir(s).add(l);const u=r.resolve(t),g={persistent:i.persistent};let y;return e||(e=c),i.usePolling?(g.interval=i.enableBinaryInterval&&o(l)?i.binaryInterval:i.interval,y=((t,e,i,r)=>{const{listener:s,rawEmitter:o}=r;let a=P.get(e),l=new Set,c=new Set;const u=a&&a.options;return u&&(u.persistent<i.persistent||u.interval>i.interval)&&(l=a.listeners,c=a.rawEmitters,n.unwatchFile(e),a=void 0),a?(N(a,h,s),N(a,f,o)):(a={listeners:s,rawEmitters:o,options:i,watcher:n.watchFile(e,i,((i,n)=>{C(a.rawEmitters,(t=>{t(m,e,{curr:i,prev:n})}));const r=i.mtimeMs;(i.size!==n.size||r>n.mtimeMs||0===r)&&C(a.listeners,(e=>e(t,i)))}))},P.set(e,a)),()=>{I(a,h,s),I(a,f,o),L(a.listeners)&&(P.delete(e),n.unwatchFile(e),a.options=a.watcher=void 0,Object.freeze(a))}})(t,u,g,{listener:e,rawEmitter:this.fsw._emitRaw})):y=((t,e,i,n)=>{const{listener:r,errHandler:s,rawEmitter:o}=n;let l,c=R.get(e);if(!i.persistent)return l=D(t,i,r,s,o),l.close.bind(l);if(c)N(c,h,r),N(c,p,s),N(c,f,o);else{if(l=D(t,i,M.bind(null,e,h),s,M.bind(null,e,f)),!l)return;l.on(b,(async i=>{const n=M.bind(null,e,p);if(c.watcherUnusable=!0,a&&"EPERM"===i.code)try{const e=await k(t,"r");await S(e),n(i)}catch(t){}else n(i)})),c={listeners:r,errHandlers:s,rawEmitters:o,watcher:l},R.set(e,c)}return()=>{I(c,h,r),I(c,p,s),I(c,f,o),L(c.listeners)&&(c.watcher.close(),R.delete(e),d.forEach((t=>e=>{const i=t[e];i instanceof Set?i.clear():delete t[e]})(c)),c.watcher=void 0,Object.freeze(c))}})(t,u,g,{listener:e,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),y}_handleFile(t,e,i){if(this.fsw.closed)return;const n=r.dirname(t),s=r.basename(t),o=this.fsw._getWatchedDir(n);let a=e;if(o.has(s))return;const c=async(e,i)=>{if(this.fsw._throttle("watch",t,5))if(i&&0!==i.mtimeMs){if(o.has(s)){const e=i.atimeMs,n=i.mtimeMs;(!e||e<=n||n!==a.mtimeMs)&&this.fsw._emit(m,t,i),a=i}}else try{const i=await E(t);if(this.fsw.closed)return;const n=i.atimeMs,r=i.mtimeMs;(!n||n<=r||r!==a.mtimeMs)&&this.fsw._emit(m,t,i),l&&a.ino!==i.ino?(this.fsw._closeFile(e),a=i,this.fsw._addPathCloser(e,this._watchWithNodeFs(t,c))):a=i}catch(t){this.fsw._remove(n,s)}},u=this._watchWithNodeFs(t,c);if((!i||!this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(t)){if(!this.fsw._throttle(g,t,0))return;this.fsw._emit(g,t,e)}return u}async _handleSymlink(t,e,i,n){if(this.fsw.closed)return;const r=t.fullPath,s=this.fsw._getWatchedDir(e);if(!this.fsw.options.followSymlinks){let e;this.fsw._incrReadyCount();try{e=await O(i)}catch(t){return this.fsw._emitReady(),!0}if(this.fsw.closed)return;return s.has(n)?this.fsw._symlinkPaths.get(r)!==e&&(this.fsw._symlinkPaths.set(r,e),this.fsw._emit(m,i,t.stats)):(s.add(n),this.fsw._symlinkPaths.set(r,e),this.fsw._emit(g,i,t.stats)),this.fsw._emitReady(),!0}if(this.fsw._symlinkPaths.has(r))return!0;this.fsw._symlinkPaths.set(r,!0)}_handleRead(t,e,i,n,s,o,a){if(t=r.join(t,u),!i.hasGlob&&!(a=this.fsw._throttle("readdir",t,1e3)))return;const l=this.fsw._getWatchedDir(i.path),c=new Set;let h=this.fsw._readdirp(t,{fileFilter:t=>i.filterPath(t),directoryFilter:t=>i.filterDir(t),depth:0}).on(_,(async a=>{if(this.fsw.closed)return void(h=void 0);const u=a.path;let p=r.join(t,u);c.add(u),a.stats.isSymbolicLink()&&await this._handleSymlink(a,t,p,u)||(this.fsw.closed?h=void 0:u!==n&&(n||l.has(u))||(this.fsw._incrReadyCount(),p=r.join(s,r.relative(s,p)),this._addToNodeFs(p,e,i,o+1)))})).on(b,this._boundHandleError);return new Promise((e=>h.once(v,(()=>{if(this.fsw.closed)return void(h=void 0);const u=!!a&&a.clear();e(),l.getChildren().filter((e=>e!==t&&!c.has(e)&&(!i.hasGlob||i.filterPath({fullPath:r.resolve(t,e)})))).forEach((e=>{this.fsw._remove(t,e)})),h=void 0,u&&this._handleRead(t,!1,i,n,s,o,a)}))))}async _handleDir(t,e,i,n,s,o,a){const l=this.fsw._getWatchedDir(r.dirname(t)),c=l.has(r.basename(t));let u,h;i&&this.fsw.options.ignoreInitial||s||c||o.hasGlob&&!o.globFilter(t)||this.fsw._emit(y,t,e),l.add(r.basename(t)),this.fsw._getWatchedDir(t);const p=this.fsw.options.depth;if((null==p||n<=p)&&!this.fsw._symlinkPaths.has(a)){if(!s&&(await this._handleRead(t,i,o,s,t,n,u),this.fsw.closed))return;h=this._watchWithNodeFs(t,((e,i)=>{i&&0===i.mtimeMs||this._handleRead(e,!1,o,s,t,n,u)}))}return h}async _addToNodeFs(t,e,i,n,s){const o=this.fsw._emitReady;if(this.fsw._isIgnored(t)||this.fsw.closed)return o(),!1;const a=this.fsw._getWatchHelpers(t,n);!a.hasGlob&&i&&(a.hasGlob=i.hasGlob,a.globFilter=i.globFilter,a.filterPath=t=>i.filterPath(t),a.filterDir=t=>i.filterDir(t));try{const i=await T[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,i))return o(),!1;const l=this.fsw.options.followSymlinks&&!t.includes(x)&&!t.includes(w);let c;if(i.isDirectory()){const o=r.resolve(t),u=l?await O(t):t;if(this.fsw.closed)return;if(c=await this._handleDir(a.watchPath,i,e,n,s,a,u),this.fsw.closed)return;o!==u&&void 0!==u&&this.fsw._symlinkPaths.set(o,u)}else if(i.isSymbolicLink()){const s=l?await O(t):t;if(this.fsw.closed)return;const o=r.dirname(a.watchPath);if(this.fsw._getWatchedDir(o).add(a.watchPath),this.fsw._emit(g,a.watchPath,i),c=await this._handleDir(o,i,e,n,t,a,s),this.fsw.closed)return;void 0!==s&&this.fsw._symlinkPaths.set(r.resolve(t),s)}else c=this._handleFile(a.watchPath,i,e);return o(),this.fsw._addPathCloser(t,c),!1}catch(e){if(this.fsw._handleError(e))return o(),t}}}},7828:t=>{"use strict";var e,i,n,r,s,o,a,l,c,u,h={PROCESSOR_VERSION:"1.4.61",error:function(t){throw"undefined"==typeof Error?new Error("citeproc-js error: "+t):"citeproc-js error: "+t},debug:function(t){"undefined"==typeof console?dump("CSL: "+t+"\n"):console.log("citeproc-js warning: "+t)},toLocaleUpperCase(t){var e=this.tmp.lang_array;try{t=t.toLocaleUpperCase(e)}catch(e){t=t.toUpperCase()}return t},toLocaleLowerCase(t){var e=this.tmp.lang_array;try{t=t.toLocaleLowerCase(e)}catch(e){t=t.toLowerCase()}return t},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function(t){"note"===t.opt.xclass?(this.depth=0,this.update=function(t){for(var e=(t=t||"").split(/([\(\)])/),i=1,n=e.length;i<n;i+=2)"("===e[i]?(1==this.depth%2&&(e[i]="["),this.depth+=1):")"===e[i]&&(0==this.depth%2&&(e[i]="]"),this.depth-=1);return e.join("")}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function(t,e,i){var n=null;if(t.opt.availableAbbrevDomains&&e&&"default"!==e){var r=t.locale[t.opt.lang].opts["jurisdiction-preference"],s=null;if(t.locale[i]&&(s=t.locale[i].opts["jurisdiction-preference"]),s)for(var o=s.length-1;o>-1;o--)if(t.opt.availableAbbrevDomains[e].indexOf(s[o])>-1){n=s[o];break}if(!n&&r)for(o=r.length-1;o>-1;o--)if(t.opt.availableAbbrevDomains[e].indexOf(r[o])>-1){n=r[o];break}}return n},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(t){if(this.opt.development_extensions.locator_date_and_revision&&t.locator){t.locator=""+t.locator;var e=t.locator.indexOf("|");if(e>-1){var i=t.locator;t.locator=i.slice(0,e);var n=(i=i.slice(e+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);n&&(t["locator-date"]=this.fun.dateparser.parseDateToObject(n[1]),i=i.slice(n[1].length)),t["locator-extra"]=i.replace(/^\s+/,"").replace(/\s+$/,"")}}return t.locator&&(t.locator=(""+t.locator).replace(/\s+$/,"")),t},normalizeLocaleStr:function(t){if(t){var e=t.split("-");return e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase()),e.join("-")}},parseNoteFieldHacks:function(t,e,i){if("string"==typeof t.note){for(var n=[],r=t.note.split("\n"),s=0,o=r.length;s<o;s++){n=[];var a=(d=r[s]).match(h.NOTE_FIELDS_REGEXP);if(a){for(var l=d.split(h.NOTE_FIELDS_REGEXP),c=0,u=l.length-1;c<u;c++)n.push(l[c]),n.push(a[c]);for(n.push(l[l.length-1]),c=1,u=n.length;c<u&&(!n[c-1].trim()||!(s>0||c>1)||n[c-1].match(h.NOTE_FIELD_REGEXP));c+=2)n[c]="\n"+n[c].slice(2,-1).trim()+"\n";r[s]=n.join("")}}var p=0,f={};for(s=0,o=(r=r.join("\n").split("\n")).length;s<o;s++){var d,m=(d=r[s]).match(h.NOTE_FIELD_REGEXP);if(d.trim()){if(!m){if(0===s)continue;p=s;break}var g=m[1],y=m[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===g)t.type=y,r[s]="";else if(h.DATE_VARIABLES.indexOf(g.replace(/^alt-/,""))>-1)t[g]&&!i||(t[g]=h.DateParser.parseDateToArray(y),(!e||e[g]&&this.isDateString(y))&&(r[s]=""));else if(!t[g]){if(h.NAME_VARIABLES.indexOf(g.replace(/^alt-/,""))>-1){f[g]||(f[g]=[]);var b=y.split(/\s*\|\|\s*/);if(1===b.length)f[g].push({literal:b[0]});else if(2===b.length){var _={family:b[0],given:b[1]};h.parseParticles(_),f[g].push(_)}}else t[g]=y;e&&!e[g]||(r[s]="")}}}for(var g in f)t[g]=f[g];if(e)for(r[p].trim()&&(r[p]="\n"+r[p]),s=p-1;s>-1;s--)r[s].trim()||(r=r.slice(0,s).concat(r.slice(s+1)));t.note=r.join("\n").trim()}},checkPrefixSpaceAppend:function(t,e){e||(e="");var i="",n=e.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),r=n.slice(-1);return(n.match(h.ENDSWITH_ROMANESQUE_REGEXP)||h.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(r)>-1||r.match(/[\)\],0-9]/))&&(i=" "),(e+i).replace(/\s+/g," ")},checkIgnorePredecessor:function(t,e){var i=e.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,"").slice(-1);return h.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(i)>-1&&e.trim().indexOf(" ")>-1&&(t.tmp.term_predecessor=!1,!0)},checkSuffixSpacePrepend:function(t,e){return e?((e.match(h.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(e.slice(0,1))>-1)&&(e=" "+e),e):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],CREATORS:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","part-number","printing-number","section","supplement-number","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(t){for(var e=["title","short","main","sub","subjoin"],i={},n=0,r=e.length;n<r;n++)i[e[n]]=t+"title"+("title"===e[n]?"":"-"+e[n]);return i},demoteNoiseWords:function(t,e,i){var n=t.locale[t.opt.lang].opts["leading-noise-words"];if(e&&i){(e=e.split(/\s+/)).reverse();for(var r=[],s=e.length-1;s>-1&&n.indexOf(e[s].toLowerCase())>-1;s+=-1)r.push(e.pop());e.reverse();var o=e.join(" "),a=r.join(" ");"drop"!==i&&a?"demote"===i&&(e=[o,a].join(", ")):e=o}return e},extractTitleAndSubtitle:function(t,e){var i=e?"â¯":"",n=[""];this.opt.development_extensions.split_container_title&&n.push("container-");for(var r=0,s=n.length;r<s;r++){var o=n[r],a=h.TITLE_FIELD_SPLITS(o),l=[!1];if(t.multi)for(var c in t.multi._keys[a.short])l.push(c);for(var u=0,p=l.length;u<p;u++){var f={};(c=l[u])?(t.multi._keys[a.title]&&(f[a.title]=t.multi._keys[a.title][c]),t.multi._keys[a.short]&&(f[a.short]=t.multi._keys[a.short][c])):(f[a.title]=t[a.title],f[a.short]=t[a.short]),f[a.main]=f[a.title],f[a.sub]=!1;var d=f[a.short];if(f[a.title]){if(d&&d.toLowerCase()===f[a.title].toLowerCase())f[a.main]=f[a.title],f[a.subjoin]="",f[a.sub]="";else if(d){var m=f[a.title].slice(d.replace(/[\?\!]+$/,"").length),g=f[a.title].replace(m.replace(/^[\?\!]+/,""),"").trim();(_=h.TITLE_SPLIT_REGEXP.matchfirst.exec(m))&&g.toLowerCase()===d.toLowerCase()?(f[a.main]=g,f[a.subjoin]=_[1].replace(/[\?\!]+(\s*)$/,"$1"),f[a.sub]=m.replace(h.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(f[a.short]=f[a.main])):3==(y=h.TITLE_SPLIT(f[a.title])).length?(f[a.main]=y[0],f[a.subjoin]=y[1],f[a.sub]=y[2]):(f[a.main]=f[a.title],f[a.subjoin]="",f[a.sub]="")}else{var y;if(3==(y=h.TITLE_SPLIT(f[a.title])).length){if(f[a.main]=y[0],f[a.subjoin]=y[1],f[a.sub]=y[2],this.opt.development_extensions.implicit_short_title&&"legal_case"!==t.type&&!t[a.short]&&!f[a.main].match(/^[\-\.[0-9]+$/)){var b=f[a.subjoin].trim();-1===["?","!"].indexOf(b)&&(b=""),f[a.short]=f[a.main]+b}}else f[a.main]=f[a.title],f[a.subjoin]="",f[a.sub]=""}if(f[a.subjoin]&&f[a.subjoin].match(/([\?\!])/)){var _=f[a.subjoin].match(/(\s*)$/);f[a.main]=f[a.main]+i+f[a.subjoin].trim(),f[a.subjoin]=_[1]}}if(f[a.subjoin]&&(f[a.subjoin].indexOf(":")>-1&&(f[a.subjoin]=i+": "),(f[a.subjoin].indexOf("-")>-1||f[a.subjoin].indexOf("â")>-1)&&(f[a.subjoin]="â")),c)for(var v in f)t.multi._keys[v]||(t.multi._keys[v]={}),t.multi._keys[v][c]=f[v];else for(var v in f)t[v]=f[v]}}},titlecaseSentenceOrNormal:function(t,e,i,n,r){var s=h.TITLE_FIELD_SPLITS(i),o={};if(n&&e.multi?(e.multi._keys[s.title]&&(o[s.title]=e.multi._keys[s.title][n]),e.multi._keys[s.main]&&(o[s.main]=e.multi._keys[s.main][n]),e.multi._keys[s.sub]&&(o[s.sub]=e.multi._keys[s.sub][n]),e.multi._keys[s.subjoin]&&(o[s.subjoin]=e.multi._keys[s.subjoin][n])):(o[s.title]=e[s.title],o[s.main]=e[s.main],o[s.sub]=e[s.sub],o[s.subjoin]=e[s.subjoin]),o[s.main]&&o[s.sub]){var a=o[s.main],l=o[s.subjoin],c=o[s.sub];return r?(a=h.Output.Formatters.sentence(t,a),c=h.Output.Formatters.sentence(t,c)):t.opt.development_extensions.uppercase_subtitles&&(c=h.Output.Formatters["capitalize-first"](t,c)),[a,l,c].join("")}if(o[s.title]){if(r)return h.Output.Formatters.sentence(t,o[s.title]);if(t.opt.development_extensions.uppercase_subtitles){for(var u=h.TITLE_SPLIT(o[s.title]),p=0,f=u.length;p<f;p+=2)u[p]=h.Output.Formatters["capitalize-first"](t,u[p]);for(p=1,f=u.length-1;p<f;p+=2){var d=u[p].match(/([:\?\!] )/);if(d){var m="fr"===t.opt["default-locale"][0].slice(0,2).toLowerCase()?"â¯":"";u[p]=m+d[1]}(u[p].indexOf("-")>-1||u[p].indexOf("â")>-1)&&(u[p]="â")}return o[s.title]=u.join(""),o[s.title]}return o[s.title]}return""},getSafeEscape:function(t){if(["bibliography","citation"].indexOf(t.tmp.area)>-1){var e=[];return t.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===t.opt.mode&&e.push((function(t){return t.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')})),e.length?function(i){for(var n=0,r=e.length;n<r;n+=1)i=e[n](i);return h.Output.Formats[t.opt.mode].text_escape(i)}:h.Output.Formats[t.opt.mode].text_escape}return function(t){return t}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-Ã -vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (BokmÃ¥l)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{Âª:"a","Â²":"2","Â³":"3","Â¹":"1",Âº:"o",Ê°:"h",Ê±:"É¦",Ê²:"j",Ê³:"r",Ê´:"É¹",Êµ:"É»",Ê¶:"Ê",Ê·:"w",Ê¸:"y",Ë :"É£",Ë¡:"l",Ë¢:"s",Ë£:"x",Ë¤:"Ê",á´¬:"A",á´­:"Ã",á´®:"B",á´°:"D",á´±:"E",á´²:"Æ",á´³:"G",á´´:"H",á´µ:"I",á´¶:"J",á´·:"K",á´¸:"L",á´¹:"M",á´º:"N",á´¼:"O",á´½:"È¢",á´¾:"P",á´¿:"R",áµ:"T",áµ:"U",áµ:"W",áµ:"a",áµ:"É",áµ:"É",áµ:"á´",áµ:"b",áµ:"d",áµ:"e",áµ:"É",áµ:"É",áµ:"É",áµ:"g",áµ:"k",áµ:"m",áµ:"Å",áµ:"o",áµ:"É",áµ:"á´",áµ:"á´",áµ:"p",áµ:"t",áµ:"u",áµ:"á´",áµ:"É¯",áµ:"v",áµ:"á´¥",áµ:"Î²",áµ:"Î³",áµ:"Î´",áµ :"Ï",áµ¡:"Ï","â°":"0",â±:"i","â´":"4","âµ":"5","â¶":"6","â·":"7","â¸":"8","â¹":"9","âº":"+","â»":"â","â¼":"=","â½":"(","â¾":")",â¿:"n","â ":"SM","â¢":"TM","ã":"ä¸","ã":"äº","ã":"ä¸","ã":"å","ã":"ä¸","ã":"ä¸­","ã":"ä¸","ã":"ç²","ã":"ä¹","ã":"ä¸","ã":"ä¸","ã":"å¤©","ã":"å°","ã":"äºº",Ë:"Ê",Ë:"Ê",Û¥:"Ù",Û¦:"Ù"},SUPERSCRIPTS_REGEXP:new RegExp("[ÂªÂ²Â³Â¹ÂºÊ°Ê±Ê²Ê³Ê´ÊµÊ¶Ê·Ê¸Ë Ë¡Ë¢Ë£Ë¤á´¬á´­á´®á´°á´±á´²á´³á´´á´µá´¶á´·á´¸á´¹á´ºá´¼á´½á´¾á´¿áµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµ áµ¡â°â±â´âµâ¶â·â¸â¹âºâ»â¼â½â¾â¿â â¢ããããããããããããããËËÛ¥Û¦]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(t,e,i,n,r){if(t.opt.use_context_condition){var s=t.tmp.group_context.tip;s.condition?(s.condition.termtxt||(s.condition.termtxt=e,s.condition.valueTerm=i),s.value_seen||"comma-safe-numbers-only"!==s.condition.test||r&&(s.value_seen=!0,r.match(/^[0-9]/)||(t.tmp.just_did_number=!1))):n&&n.decorations.filter((t=>"@vertical-align"===t[0])).length>0||n&&n.strings.suffix?t.tmp.just_did_number=!1:e&&(e.match(/[0-9]$/)?t.tmp.just_did_number=!0:t.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function(t,e){if(t.opt.use_context_condition){var i,n="comma-safe-numbers-only"===e.condition.test;if("empty-label"===e.condition.test)i=!e.condition.termtxt;else if("empty-label-no-decor"===e.condition.test)i=!e.condition.termtxt||e.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(e.condition.test)>-1){var r=e.condition.termtxt,s=!1;e.condition.termtxt&&(s=e.condition.termtxt.slice(0,1).match(h.ALL_ROMANESQUE_REGEXP)),i=t.tmp.just_did_number?e.condition.valueTerm?!n:!r||(s?!n:["always","after-number"].indexOf(t.opt.require_comma_on_symbol)>-1):!e.condition.valueTerm&&!!r&&(s?!n:"always"===t.opt.require_comma_on_symbol)}if(i)var o=!1;else o=!0;return e.condition.not&&(o=!o),o}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:(e=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*â\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"],{match:new RegExp("("+e.join("|")+")","g"),matchfirst:new RegExp("^("+e.join("|")+")"),split:new RegExp("(?:"+e.join("|")+")")}),TITLE_SPLIT:function(t){if(!t)return t;for(var e=t.match(h.TITLE_SPLIT_REGEXP.match),i=t.split(h.TITLE_SPLIT_REGEXP.split),n=i.length-2;n>-1;n--)i[n]=i[n].trim(),i[n]&&i[n].slice(-1).toLowerCase()!==i[n].slice(-1)?(i[n]=i[n]+e[n]+i[n+1],i=i.slice(0,n+1).concat(i.slice(n+2))):i=i.slice(0,n+1).concat([e[n]]).concat(i.slice(n+1));return i},GET_COURT_CLASS:function(t,e,i){var n="",r=null,s=e.jurisdiction?e.jurisdiction.split(":")[0]:null,o="court_condition_classes";return i&&(o="court_key_classes"),s&&e.authority&&("string"==typeof e.authority?r=e.authority:e.authority[0]&&e.authority[0].literal&&(r=e.authority[0].literal)),r&&(this.lang&&t.locale[this.lang].opts[o]&&t.locale[this.lang].opts[o][s]&&t.locale[this.lang].opts[o][s][r]?n=t.locale[this.lang].opts[o][s][r]:t.locale[t.opt["default-locale"][0]].opts[o]&&t.locale[t.opt["default-locale"][0]].opts[o][s]&&t.locale[t.opt["default-locale"][0]].opts[o][s][r]&&(n=t.locale[t.opt["default-locale"][0]].opts[o][s][r])),n},SET_COURT_CLASSES:function(t,e,i,n){for(var r=i.getNodesByName(n,"court-class"),s=0,o=i.numberofnodes(r);s<o;s+=1){var a=r[s],l=i.attributes(a),c=l["@name"],u=l["@country"],h=l["@courts"],p="court_key_classes";if(t.registry&&(p="court_condition_classes"),c&&u&&h){h=h.trim().split(/\s+/),t.locale[e].opts[p]||(t.locale[e].opts[p]={}),t.locale[e].opts[p][u]||(t.locale[e].opts[p][u]={});for(var f=0,d=h.length;f<d;f++)t.locale[e].opts[p][u][h[f]]=c}}},INIT_JURISDICTION_MACROS:function(t,e,i,n){if(e["best-jurisdiction"])return!0;if(!t.sys.retrieveStyleModule||!h.MODULE_MACROS[n]||!e.jurisdiction)return!1;var r=t.getJurisdictionList(e.jurisdiction);if(!t.opt.jurisdictions_seen[r[0]]){var s=t.retrieveAllStyleModules(r);for(var o in s){var a=t.loadStyleModule(o,s[o]);a&&(s[a]||(Object.assign(s,t.retrieveAllStyleModules([a])),t.loadStyleModule(a,s[a],!0)))}}r=t.getJurisdictionList(e.jurisdiction),t.opt.parallel.enable&&(t.parallel||(t.parallel=new h.Parallel(t)));for(var l=0,c=r.length;l<c;l++)if(o=r[l],i&&t.juris[o]&&!i["best-jurisdiction"]&&t.juris[o].types.locator&&(e["best-jurisdiction"]=o),t.juris[o]&&t.juris[o].types[e.type])return e["best-jurisdiction"]=o,!0;return!1},XmlJSON:function(t){this.dataObj=t,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}}};h.XmlJSON.prototype.clean=function(t){return t},h.XmlJSON.prototype.getStyleId=function(t,e){var i="id";e&&(i="title");for(var n="",r=t.children,s=0,o=r.length;s<o;s++)if("info"===r[s].name)for(var a=r[s].children,l=0,c=a.length;l<c;l++)a[l].name===i&&(n=a[l].children[0]);return n},h.XmlJSON.prototype.children=function(t){return!(!t||!t.children.length)&&t.children.slice()},h.XmlJSON.prototype.nodename=function(t){return t?t.name:null},h.XmlJSON.prototype.attributes=function(t){var e={};for(var i in t.attrs)e["@"+i]=t.attrs[i];return e},h.XmlJSON.prototype.content=function(t){var e="";if(!t||!t.children)return e;for(var i=0,n=t.children.length;i<n;i+=1)"string"==typeof t.children[i]&&(e+=t.children[i]);return e},h.XmlJSON.prototype.namespace={},h.XmlJSON.prototype.numberofnodes=function(t){return t&&"number"==typeof t.length?t.length:0},h.XmlJSON.prototype.getAttributeValue=function(t,e,i){var n="";return i&&(e=i+":"+e),t&&t.attrs&&(n=t.attrs[e]?t.attrs[e]:""),n},h.XmlJSON.prototype.getNodeValue=function(t,e){var i="";if(e)for(var n=0,r=t.children.length;n<r;n+=1)t.children[n].name===e&&(i=t.children[n].children.length?t.children[n]:"");else t&&(i=t);return i&&i.children&&1==i.children.length&&"string"==typeof i.children[0]&&(i=i.children[0]),i},h.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,i,n,r){"@"===n.slice(0,1)&&(n=n.slice(1));for(var s=0,o=t.children.length;s<o;s+=1)t.children[s].name===e&&t.children[s].attrs.name===i&&(t.children[s].attrs[n]=r)},h.XmlJSON.prototype.deleteNodeByNameAttribute=function(t,e){var i,n;for(i=0,n=t.children.length;i<n;i+=1)t.children[i]&&"string"!=typeof t.children[i]&&t.children[i].attrs.name==e&&(t.children=t.children.slice(0,i).concat(t.children.slice(i+1)))},h.XmlJSON.prototype.deleteAttribute=function(t,e){void 0!==t.attrs[e]&&t.attrs.pop(e)},h.XmlJSON.prototype.setAttribute=function(t,e,i){return t.attrs[e]=i,!1},h.XmlJSON.prototype.nodeCopy=function(t,e){if(e||(e={}),"object"==typeof e&&void 0===e.length)for(var i in t)"string"==typeof t[i]?e[i]=t[i]:"object"==typeof t[i]&&(void 0===t[i].length?e[i]=this.nodeCopy(t[i],{}):e[i]=this.nodeCopy(t[i],[]));else for(var n=0,r=t.length;n<r;n+=1)"string"==typeof t[n]?e[n]=t[n]:e[n]=this.nodeCopy(t[n],{});return e},h.XmlJSON.prototype.getNodesByName=function(t,e,i,n){if(n||(n=[]),!t||!t.children)return n;e===t.name&&(i?i===t.attrs.name&&n.push(t):n.push(t));for(var r=0,s=t.children.length;r<s;r+=1)"object"==typeof t.children[r]&&this.getNodesByName(t.children[r],e,i,n);return n},h.XmlJSON.prototype.nodeNameIs=function(t,e){return void 0!==t&&e==t.name},h.XmlJSON.prototype.makeXml=function(t){return"string"==typeof t&&(t="<"===t.slice(0,1)?this.jsonStringWalker.walkToObject(t):JSON.parse(t)),t},h.XmlJSON.prototype.insertChildNodeAfter=function(t,e,i,n){for(var r=0,s=t.children.length;r<s;r+=1)if(e===t.children[r]){t.children=t.children.slice(0,r).concat([n]).concat(t.children.slice(r+1));break}return t},h.XmlJSON.prototype.insertPublisherAndPlace=function(t){if("group"===t.name){for(var e=!0,i=["publisher","publisher-place"],n=0,r=t.children.length;n<r;n+=1){var s=i.indexOf(t.children[n].attrs.variable);if(!("text"===t.children[n].name&&s>-1)||t.children[n].attrs.prefix||t.children[n].attrs.suffix){e=!1;break}i=i.slice(0,s).concat(i.slice(s+1))}e&&!i.length&&(t.attrs["has-publisher-and-publisher-place"]=!0)}for(n=0,r=t.children.length;n<r;n+=1)"object"==typeof t.children[n]&&this.insertPublisherAndPlace(t.children[n])},h.XmlJSON.prototype.isChildOfSubstitute=function(t){if(t.length>0){var e=t.slice();return"substitute"===e.pop()||this.isChildOfSubstitute(e)}return!1},h.XmlJSON.prototype.addMissingNameNodes=function(t,e){if(e||(e=[]),"names"===t.name&&!this.isChildOfSubstitute(e)){for(var i=!0,n=0,r=t.children.length;n<r;n++)if("name"===t.children[n].name){i=!1;break}i&&(t.children=[{name:"name",attrs:{},children:[]}].concat(t.children))}for(e.push(t.name),n=0,r=t.children.length;n<r;n+=1)"object"==typeof t.children[n]&&this.addMissingNameNodes(t.children[n],e);e.pop()},h.XmlJSON.prototype.addInstitutionNodes=function(t){if("names"===t.name){for(var e={},i=-1,n=0,r=t.children.length;n<r;n+=1){if("name"==t.children[n].name){for(var s in t.children[n].attrs)e[s]=t.children[n].attrs[s];e.delimiter=t.children[n].attrs.delimiter,e.and=t.children[n].attrs.and,i=n;for(var o=0,a=t.children[n].children.length;o<a;o+=1)if("family"===t.children[n].children[o].attrs.name)for(var s in t.children[n].children[o].attrs)e[s]=t.children[n].children[o].attrs[s]}if("institution"==t.children[n].name){i=-1;break}}if(i>-1){var l=this.nodeCopy(this.institution);for(n=0,r=h.INSTITUTION_KEYS.length;n<r;n+=1){var c=h.INSTITUTION_KEYS[n];void 0!==e[c]&&(l.children[0].attrs[c]=e[c]),e.delimiter&&(l.attrs.delimiter=e.delimiter),e.and&&(l.attrs.and=e.and)}t.children=t.children.slice(0,i+1).concat([l]).concat(t.children.slice(i+1))}}for(n=0,r=t.children.length;n<r;n+=1)"string"!=typeof t.children[n]&&this.addInstitutionNodes(t.children[n])},h.XmlJSON.prototype.flagDateMacros=function(t){for(var e=0,i=t.children.length;e<i;e+=1)"macro"===t.children[e].name&&this.inspectDateMacros(t.children[e])&&(t.children[e].attrs["macro-has-date"]="true")},h.XmlJSON.prototype.inspectDateMacros=function(t){if(!t||!t.children)return!1;if("date"===t.name)return!0;for(var e=0,i=t.children.length;e<i;e+=1)if(this.inspectDateMacros(t.children[e]))return!0;return!1},h.stripXmlProcessingInstruction=function(t){return t?t=(t=(t=(t=t.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):t},h.parseXml=function(t){var e,i,n={children:[]},r=[n.children];function s(t){return t.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,(function(t,e){var i=parseInt(e,10);return String.fromCharCode(i)})).replace(/&#x([a-f0-9]{1,6});/gi,(function(t,e){var i=parseInt(e,16);return String.fromCharCode(i)}))}function o(t,e){var i=RegExp("^.*[\t ]+"+e+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),n=t.match(i);return n?n[1].slice(1,-1):null}function a(t){var e=RegExp("^<([^\t />]+)"),i=t.match(e);return i?i[1]:null}function l(t){var e={};e.name=a(t),e.attrs={};var i=function(t){var e=t.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(e)for(var i=0,n=e.length;i<n;i++)e[i]=e[i].replace(/=.*/,"");return e}(t);if(i)for(var n=0,r=i.length;n<r;n++){var l={name:i[n],value:o(t,i[n])};e.attrs[l.name]=s(l.value)}return e.children=[],e}function c(t){return s(t.match(/^.*>([^<]*)<.*$/)[1])}function u(t){r.slice(-1)[0].push(t)}for(var h=function(t){for(var e=(t=t.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),i=null,n=0,r=e.length;n<r;n++)n>0&&(e[n]="<"+e[n]),n<e.length-1&&(e[n]=e[n]+">"),"number"!=typeof i&&("<style "!==e[n].slice(0,7)&&"<locale "!=e[n].slice(0,8)||(i=n));for(n=(e=e.slice(i)).length-2;n>-1;n--)if(-1===e[n].slice(1).indexOf("<")){var s=e[n].slice(0,5);"/>"!==e[n].slice(-2)&&("<term"===s?"</term"===e[n+1].slice(0,6)&&(e[n]=e[n]+e[n+1],e=e.slice(0,n+1).concat(e.slice(n+2))):["<sing","<mult"].indexOf(s)>-1&&"/>"!==e[n].slice(-2)&&"<"===e[n+1].slice(0,1)&&(e[n]=e[n]+e[n+1],e=e.slice(0,n+1).concat(e.slice(n+2))))}return e}(t),p=0,f=h.length;p<f;p++)e=h[p],i=void 0,e.slice(1).indexOf("<")>-1?((i=l(e.slice(0,e.indexOf(">")+1))).children=[c(e)],u(i)):"/>"===e.slice(-2)?(i=l(e),"term"===a(e)&&i.children.push(""),u(i)):"</"===e.slice(0,2)?r.pop():(u(i=l(e)),function(t){r.push(t.children)}(i));return n.children[0]},h.XmlDOM=function(t){this.dataObj=t,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(t,e){var i;return"undefined"!=typeof ActiveXObject?((i=new ActiveXObject("MSXML.DomDocument")).async=!1,i.loadXML(t),i):"undefined"!=typeof XMLHttpRequest?(e||(e="text/xml"),(i=new XMLHttpRequest).open("GET","data:"+e+";charset=utf-8,"+encodeURIComponent(t),!1),i.overrideMimeType&&i.overrideMimeType(e),i.send(null),i.responseXML):"undefined"!=typeof marknote?(new marknote.Parser).parse(t):void 0},this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)}):this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)},this.importNode=function(t,e){return void 0===t.importNode?this._importNode(t,e,!0):t.importNode(e,!0)},this._importNode=function(t,e,i){if(1===e.nodeType){var n=t.createElement(e.nodeName);if(e.attributes&&e.attributes.length>0)for(var r=0,s=e.attributes.length;r<s;)n.setAttribute(e.attributes[r].nodeName,e.getAttribute(e.attributes[r++].nodeName));if(i&&e.childNodes&&e.childNodes.length>0)for(r=0,s=e.childNodes.length;r<s;)n.appendChild(this._importNode(t,e.childNodes[r++],i));return n}},this.parser=new DOMParser;var e=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),i=e.getElementsByTagName("institution");this.institution=i.item(0);var n=e.getElementsByTagName("institution-part");this.institutionpart=n.item(0),this.ns="http://purl.org/net/xbiblio/csl"},h.XmlDOM.prototype.clean=function(t){return(t=(t=(t=(t=t.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},h.XmlDOM.prototype.getStyleId=function(t,e){var i="",n="id";e&&(n="title");var r=t.getElementsByTagName(n);return r&&r.length&&(r=r.item(0)),r&&(i=r.textContent),i||(i=r.innerText),i||(i=r.innerHTML),i},h.XmlDOM.prototype.children=function(t){var e,i,n,r;if(t){for(r=[],i=0,n=(e=t.childNodes).length;i<n;i+=1)"#text"!=e[i].nodeName&&r.push(e[i]);return r}return[]},h.XmlDOM.prototype.nodename=function(t){return t.nodeName},h.XmlDOM.prototype.attributes=function(t){var e,i,n,r,s;if(e=new Object,t&&this.hasAttributes(t))for(r=0,s=(i=t.attributes).length;r<s;r+=1)e["@"+(n=i[r]).name]=n.value;return e},h.XmlDOM.prototype.content=function(t){return void 0!==t.textContent?t.textContent:void 0!==t.innerText?t.innerText:t.txt},h.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},h.XmlDOM.prototype.numberofnodes=function(t){return t?t.length:0},h.XmlDOM.prototype.getAttributeName=function(t){return t.name},h.XmlDOM.prototype.getAttributeValue=function(t,e,i){var n="";return i&&(e=i+":"+e),t&&this.hasAttributes(t)&&t.getAttribute(e)&&(n=t.getAttribute(e)),n},h.XmlDOM.prototype.getNodeValue=function(t,e){var i=null;if(e){var n=t.getElementsByTagName(e);n.length>0&&(i=void 0!==n[0].textContent?n[0].textContent:void 0!==n[0].innerText?n[0].innerText:n[0].text)}return null===i&&t&&t.childNodes&&(0==t.childNodes.length||1==t.childNodes.length&&"#text"==t.firstChild.nodeName)&&(i=void 0!==t.textContent?t.textContent:void 0!==t.innerText?t.innerText:t.text),null===i&&(i=t),i},h.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,i,n,r){var s,o,a,l;for("@"===n.slice(0,1)&&(n=n.slice(1)),s=0,o=(a=t.getElementsByTagName(e)).length;s<o;s+=1)(l=a[s]).getAttribute("name")==i&&l.setAttribute(n,r)},h.XmlDOM.prototype.deleteNodeByNameAttribute=function(t,e){var i,n,r,s;for(i=0,n=(s=t.childNodes).length;i<n;i+=1)(r=s[i])&&r.nodeType!=r.TEXT_NODE&&this.hasAttributes(r)&&r.getAttribute("name")==e&&t.removeChild(s[i])},h.XmlDOM.prototype.deleteAttribute=function(t,e){t.removeAttribute(e)},h.XmlDOM.prototype.setAttribute=function(t,e,i){return t.ownerDocument||(t=t.firstChild),["function","unknown"].indexOf(typeof t.setAttribute)>-1&&t.setAttribute(e,i),!1},h.XmlDOM.prototype.nodeCopy=function(t){return t.cloneNode(!0)},h.XmlDOM.prototype.getNodesByName=function(t,e,i){var n,r,s,o,a;for(n=[],o=0,a=(r=t.getElementsByTagName(e)).length;o<a;o+=1)s=r.item(o),(!i||this.hasAttributes(s)&&s.getAttribute("name")==i)&&n.push(s);return n},h.XmlDOM.prototype.nodeNameIs=function(t,e){return e==t.nodeName},h.XmlDOM.prototype.makeXml=function(t){return t||(t="<docco><bogus/></docco>"),t=t.replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(t,"application/xml").firstChild},h.XmlDOM.prototype.insertChildNodeAfter=function(t,e,i,n){var r;return r=this.importNode(e.ownerDocument,n),t.replaceChild(r,e),t},h.XmlDOM.prototype.insertPublisherAndPlace=function(t){for(var e=t.getElementsByTagName("group"),i=0,n=e.length;i<n;i+=1){for(var r=e.item(i),s=[],o=0,a=r.childNodes.length;o<a;o+=1)1!==r.childNodes.item(o).nodeType&&s.push(o);if(r.childNodes.length-s.length==2){var l=[];for(o=0,a=2;o<a;o+=1)if(!(s.indexOf(o)>-1)){for(var c=r.childNodes.item(o),u=[],h=0,p=c.childNodes.length;h<p;h+=1)1!==c.childNodes.item(h).nodeType&&u.push(h);if(c.childNodes.length-u.length==0&&(l.push(c.getAttribute("variable")),c.getAttribute("suffix")||c.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&r.setAttribute("has-publisher-and-publisher-place",!0)}}},h.XmlDOM.prototype.isChildOfSubstitute=function(t){return!!t.parentNode&&("substitute"===t.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(t.parentNode))},h.XmlDOM.prototype.addMissingNameNodes=function(t){for(var e=t.getElementsByTagName("names"),i=0,n=e.length;i<n;i+=1){var r=e.item(i),s=r.getElementsByTagName("name");if(!(s&&0!==s.length||this.isChildOfSubstitute(r))){var o=r.ownerDocument.createElement("name");r.appendChild(o)}}},h.XmlDOM.prototype.addInstitutionNodes=function(t){var e,i,n,r,s,o,a,l;for(a=0,l=(e=t.getElementsByTagName("names")).length;a<l;a+=1)if(0!=(s=(i=e.item(a)).getElementsByTagName("name")).length&&0==i.getElementsByTagName("institution").length){r=(n=this.importNode(t.ownerDocument,this.institution)).getElementsByTagName("institution-part").item(0),o=s.item(0),i.insertBefore(n,o.nextSibling);for(var c=0,u=h.INSTITUTION_KEYS.length;c<u;c+=1){var p=h.INSTITUTION_KEYS[c];(g=o.getAttribute(p))&&r.setAttribute(p,g)}var f=o.getElementsByTagName("name-part");for(c=0,u=f.length;c<u;c+=1)if("family"===f[c].getAttribute("name"))for(var d=0,m=h.INSTITUTION_KEYS.length;d<m;d+=1){var g;p=h.INSTITUTION_KEYS[d],(g=f[c].getAttribute(p))&&r.setAttribute(p,g)}}},h.XmlDOM.prototype.flagDateMacros=function(t){var e,i,n,r=t.getElementsByTagName("macro");for(e=0,i=r.length;e<i;e+=1)(n=r.item(e)).getElementsByTagName("date").length&&n.setAttribute("macro-has-date","true")},h.setupXml=function(t){var e={},i=null;return void 0!==t?"string"==typeof t?(e="<"===(t=t.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?h.parseXml(t):JSON.parse(t),i=new h.XmlJSON(e)):i=void 0!==t.getAttribute?new h.XmlDOM(t):void 0!==t.toXMLString?new h.XmlE4X(t):new h.XmlJSON(t):h.error("unable to parse XML input"),i||h.error("citeproc-js error: unable to parse CSL style or locale object"),i},h.getSortCompare=function(t){if(h.stringCompare)return h.stringCompare;var e,i=this,n={sensitivity:"base",ignorePunctuation:!0,numeric:!0};t||(t="en-US");var r=function(t){return t.replace(/^[\[\]\'\"]*/g,"")},s=!!(e=function(e,r){return h.toLocaleLowerCase.call(i,e).localeCompare(h.toLocaleLowerCase.call(i,r),t,n)})("[x","x")&&function(t,i){return e(r(t),r(i))};return function(t,i){return s?s(t,i):e(t,i)}},h.ambigConfigDiff=function(t,e){var i,n,r,s;if(t.names.length!==e.names.length)return 1;for(i=0,n=t.names.length;i<n;i+=1){if(t.names[i]!==e.names[i])return 1;for(r=0,s=t.givens[i];r<s;r+=1)if(t.givens[i][r]!==e.givens[i][r])return 1}return t.disambiguate!=e.disambiguate||t.year_suffix!==e.year_suffix?1:0},h.cloneAmbigConfig=function(t,e){var i,n,r,s,o,a={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(i=0,n=t.names.length;i<n;i+=1)o=t.names[i],a.names[i]=o;for(i=0,n=t.givens.length;i<n;i+=1){for(o=[],r=0,s=t.givens[i].length;r<s;r+=1)o.push(t.givens[i][r]);a.givens.push(o)}return e?(a.year_suffix=e.year_suffix,a.disambiguate=e.disambiguate):(a.year_suffix=t.year_suffix,a.disambiguate=t.disambiguate),a},h.getAmbigConfig=function(){var t;return(t=this.tmp.disambig_request)||(t=this.tmp.disambig_settings),h.cloneAmbigConfig(t)},h.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},h.getMinVal=function(){return this.tmp["et-al-min"]},h.tokenExec=function(t,e,i){var n,r;n=t.next,r=!1,t.test&&(n=function(e){return e?(this.tmp.jump.replace("succeed"),t.succeed):(this.tmp.jump.replace("fail"),t.fail)}.call(this,t.test(e,i)));for(var s=0,o=t.execs.length;s<o;s++)(r=t.execs[s].call(t,this,e,i))&&(n=r);return n},h.expandMacro=function(t,e){var i,n,r;i=t.postponed_macro;var s=t.strings.sort_direction;t=new h.Token("group",h.START);var o=!1,a=!1;(n=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",i)).length&&(a=this.cslXml.getAttributeValue(n[0],"cslid"),o=this.cslXml.getAttributeValue(n[0],"macro-has-date")),o&&(i=i+"@"+this.build.current_default_locale,u=function(t){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!0)},t.execs.push(u)),this.build.macro_stack.indexOf(i)>-1?h.error('CSL processor error: call to macro "'+i+'" would cause an infinite loop'):this.build.macro_stack.push(i),t.cslid=a,h.MODULE_MACROS[i]&&(t.juris=i,this.opt.update_mode=h.POSITION),h.Node.group.build.call(t,this,e,!0),this.cslXml.getNodeValue(n)||h.error('CSL style error: undefined macro "'+i+'"');var l,c=h.getMacroTarget.call(this,i);if(c&&(h.buildMacro.call(this,c,n),h.configureMacro.call(this,c)),!this.build.extension){var u=(l=i,function(t,e,i){for(var n=0;n<t.macros[l].length;)n=h.tokenExec.call(t,t.macros[l][n],e,i)}),p=new h.Token("text",h.SINGLETON);p.execs.push(u),e.push(p)}(r=new h.Token("group",h.END)).strings.sort_direction=s,o&&(u=function(t){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!1)},r.execs.push(u)),t.juris&&(r.juris=i),h.Node.group.build.call(r,this,e,!0),this.build.macro_stack.pop()},h.getMacroTarget=function(t){var e=!1;return this.build.extension?e=this[this.build.root+this.build.extension].tokens:this.macros[t]||(e=[],this.macros[t]=e),e},h.buildMacro=function(t,e){h.makeBuilder(this,t)(void 0===e.length?e:e[0])},h.configureMacro=function(t){this.build.extension||this.configureTokenList(t)},h.XmlToToken=function(t,e,i,n){var r,s,o,a,l,c;if(r=t.cslXml.nodename(this),!t.build.skip||t.build.skip===r)if(r){if(h.Node[t.cslXml.nodename(this)]||h.error('Undefined node name "'+r+'".'),o=t.cslXml.attributes(this),a=h.setDecorations.call(this,t,o),l=new h.Token(r,e),e!==h.END||"if"===r||"else-if"===r||"layout"===r){for(var u in o)if(o.hasOwnProperty(u)){if(e===h.END&&"@language"!==u&&"@locale"!==u)continue;if(o.hasOwnProperty(u))if(h.Attributes[u])try{h.Attributes[u].call(l,t,""+o[u])}catch(t){h.error(u+" attribute: "+t)}else h.debug('warning: undefined attribute "'+u+'" in style')}l.decorations=a,h.DATE_VARIABLES.indexOf(o["@variable"])>-1&&n.push(l.variables)}else e===h.END&&o["@variable"]&&(l.hasVariable=!0,h.DATE_VARIABLES.indexOf(o["@variable"])>-1&&(l.variables=n.pop()));c=i||t[t.build.area].tokens,h.Node[r].build.call(l,t,c,!0)}else(s=t.cslXml.content(this))&&(t.build.text=s)},h.DateParser=function(){for(var t=[["ææ²»",1867],["å¤§æ­£",1911],["æ­å",1925],["å¹³æ",1988]],e={},i=0,n=t.length;i<n;i++){var r=t[i][0],s=t[i][1];e[r]=s}var o=[],a={};for(i=0,n=t.length;i<n;i++){var l=t[i];s=l[0],o.push(s),a[l[0]]=l[1]}var c=o.join("|"),u=new RegExp("(?:"+c+")(?:[0-9]+)"),p=new RegExp("(?:"+c+")(?:[0-9]+)","g"),f=/(\u6708|\u5E74)/g,d=/\u65E5/g,m=/\u301c/g,g="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",y=new RegExp(g.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),b=new RegExp(g.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),_=new RegExp(g.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var t=0,e=this.monthStrings.length;t<e;t++)this.monthSets.push([this.monthStrings[t]]);for(this.monthAbbrevs=[],t=0,e=this.monthSets.length;t<e;t++){this.monthAbbrevs.push([]);for(var i=0,n=this.monthSets[t].length;i<n;i++)this.monthAbbrevs[t].push(this.monthSets[t][0].slice(0,3))}for(this.monthRexes=[],t=0,e=this.monthAbbrevs.length;t<e;t++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[t].join("|")+")"))},this.addDateParserMonths=function(t){if("string"==typeof t&&(t=t.split(/\s+/)),12===t.length||16===t.length){for(var e=0,i=t.length;e<i;e++){for(var n=null,r=!1,s=3,o={},a=0,l=this.monthAbbrevs.length;a<l;a++){if(o[a]={},a===e){for(var c=0,u=this.monthAbbrevs[e].length;c<u;c++)if(this.monthAbbrevs[e][c]===t[e].slice(0,this.monthAbbrevs[e][c].length)){r=!0;break}}else for(c=0,u=this.monthAbbrevs[a].length;c<u;c++)if(n=this.monthAbbrevs[a][c].length,this.monthAbbrevs[a][c]===t[e].slice(0,n)){for(;this.monthSets[a][c].slice(0,n)===t[e].slice(0,n);){if(n>t[e].length||n>this.monthSets[a][c].length){h.debug("unable to disambiguate month string in date parser: "+t[e]);break}n+=1}s=n,o[a][c]=n}for(var p in o)for(var f in o[p])n=o[p][f],p=parseInt(p,10),f=parseInt(f,10),this.monthAbbrevs[p][f]=this.monthSets[p][f].slice(0,n)}r||(this.monthSets[e].push(t[e]),this.monthAbbrevs[e].push(t[e].slice(0,s)))}for(this.monthRexes=[],this.monthRexStrs=[],e=0,i=this.monthAbbrevs.length;e<i;e++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[e].join("|")+")");if(18===this.monthAbbrevs.length)for(e=12,i=14;e<i;e++)this.monthRexes[e+4]=new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")"),this.monthRexStrs[e+4]="^(?:"+this.monthAbbrevs[e].join("|")+")"}else h.debug("month [+season] list of "+t.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(t){t["date-parts"]=[],t["date-parts"].push([]);for(var e,i=0,n=0,r=3;n<r&&t[e=["year","month","day"][n]];n++)i+=1,t["date-parts"][0].push(t[e]),delete t[e];for(t["date-parts"].push([]),n=0,r=i;n<r&&t[e=["year_end","month_end","day_end"][n]];n++)t["date-parts"][1].push(t[e]),delete t[e];return t["date-parts"][0].length!==t["date-parts"][1].length&&t["date-parts"].pop(),t},this.convertDateObjectToString=function(t){for(var e=[],i=0;i<3&&t[h.DATE_PARTS_ALL[i]];i+=1)e.push(t[h.DATE_PARTS_ALL[i]]);return e.join("-")},this._parseNumericDate=function(t,e,i,n){i||(i="");for(var r=n.split(e),s=0,o=r.length;s<o;s++)if(4===r[s].length){t["year"+i]=r[s].replace(/^0*/,""),r=s?r.slice(0,s):r.slice(1);break}for(s=0,o=r.length;s<o;s++)r[s]=parseInt(r[s],10);if(1===r.length||2===r.length&&!r[1])(a=r[0])&&(t["month"+i]=""+r[0]);else if(2===r.length)if(r[this.monthGuess]>12){var a=r[this.dayGuess],l=r[this.monthGuess];a&&(t["month"+i]=""+a,l&&(t["day"+i]=""+l))}else a=r[this.monthGuess],l=r[this.dayGuess],a&&(t["month"+i]=""+a,l&&(t["day"+i]=""+l))},this.parseDateToObject=function(t){var e,i=t,n=-1,r=-1,s=!1;if(t){if("-"===(t=t.replace(/^(.*[0-9])T[0-9].*/,"$1")).slice(0,1)&&(s=!0,t=t.slice(1)),t.match(/^[0-9]{1,3}$/))for(;t.length<4;)t="0"+t;if(T=(t=(t=""+t).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(f)){var o=(t=(t=(t=(t=(t=(t=t.replace(/\s+/g,"")).replace(d,"")).replace(f,"-")).replace(m,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(u);e=[];var l=t.match(p);if(l){for(var c=[],g=0,v=l.length;g<v;g++)c=c.concat(l[g].match(/([^0-9]+)([0-9]+)/).slice(1));for(g=0,v=o.length;g<v;g++)if(e.push(o[g]),g!==v-1){var w=2*g;e.push(c[w]),e.push(c[w+1])}}else e=o;for(g=1,v=e.length;g<v;g+=3)e[g+1]=a[e[g]]+parseInt(e[g+1],10),e[g]="";n=(t=(t=(t=(t=e.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),r=t.indexOf("-")}}var x,k,E="",A="",S={};if('"'===(t=t.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===t.slice(-1))return S.literal=t.slice(1,-1),S;n>-1&&r>-1?t.split("/").length>3?(x="-",k="/",e=(t=t.replace(/\_/g,"-")).split(_)):(x="/",k="-",e=(t=t.replace(/\_/g,"/")).split(b)):(x="-",k="-",e=(t=(t=t.replace(/\//g,"-")).replace(/\_/g,"-")).split(y));var O=[];for(g=0,v=e.length;g<v;g++){var T;(T=e[g].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&O.push(T[1])}var C=O.indexOf(x),N=[],I=!1;C>-1?(N.push([0,C]),N.push([C+1,O.length]),I=!0):N.push([0,O.length]);var L="";for(g=0,v=N.length;g<v;g++){var R=N[g],D=O.slice(R[0],R[1]);t:for(var M=0,P=D.length;M<P;M++){var F=D[M];if(F.indexOf(k)>-1)this._parseNumericDate(S,k,L,F);else if(F.match(/[0-9]{4}/))S["year"+L]=F.replace(/^0*/,"");else{("~"===F||"?"===F||"c"===F||F.match(/^cir/))&&(S.circa=!0);for(var j=0,B=this.monthRexes.length;j<B;j++)if(F.toLocaleLowerCase().match(this.monthRexes[j])){S["month"+L]=""+(parseInt(j,10)+1);continue t}F.match(/^[0-9]+$/)&&(E=F),F.toLocaleLowerCase().match(/^bc/)&&E?(S["year"+L]=""+-1*E,E=""):F.toLocaleLowerCase().match(/^ad/)&&E?(S["year"+L]=""+E,E=""):!F.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||S["season"+L]||(A=F)}}E&&(S["day"+L]=E,E=""),A&&!S["season"+L]&&(S["season"+L]=A.trim(),A=""),L="_end"}if(I)for(M=0,P=h.DATE_PARTS_ALL.length;M<P;M++){var $=h.DATE_PARTS_ALL[M];S[$]&&!S[$+"_end"]?S[$+"_end"]=S[$]:!S[$]&&S[$+"_end"]&&(S[$]=S[$+"_end"])}(!S.year||S.year&&S.day&&!S.month)&&(S={literal:i});var z=["year","month","day","year_end","month_end","day_end"];for(g=0,v=z.length;g<v;g++){var U=z[g];"string"==typeof S[U]&&S[U].match(/^[0-9]+$/)&&(S[U]=parseInt(S[U],10))}return s&&Object.keys(S).indexOf("year")>-1&&(S.year=-1*S.year),S},this.parseDateToArray=function(t){return this.convertDateObjectToArray(this.parseDateToObject(t))},this.parseDateToString=function(t){return this.convertDateObjectToString(this.parseDateToObject(t))},this.parse=function(t){return this.parseDateToObject(t)},this.setOrderMonthDay(),this.resetDateParserMonths()},h.DateParser=new h.DateParser,h.Engine=function(t,e,i,n){var r,s;for(var o in this.processor_version=h.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=t,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},writable:!0,configurable:!0}),t.variableWrapper&&(h.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(h.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),h.retrieveStyleModule&&(this.sys.retrieveStyleModule=h.retrieveStyleModule),h.getAbbreviation&&(this.sys.getAbbreviation=h.getAbbreviation),this.sys.stringCompare&&(h.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=h.AbbreviationSegments,this.transform=new h.Transform(this),this.setParseNames=function(t){this.opt["parse-names"]=t},this.opt=new h.Engine.Opt,this.tmp=new h.Engine.Tmp,this.build=new h.Engine.Build,this.fun=new h.Engine.Fun(this),this.configure=new h.Engine.Configure,this.citation_sort=new h.Engine.CitationSort,this.bibliography_sort=new h.Engine.BibliographySort,this.citation=new h.Engine.Citation(this),this.bibliography=new h.Engine.Bibliography,this.intext=new h.Engine.InText,this.output=new h.Output.Queue(this),this.dateput=new h.Output.Queue(this),this.cslXml=h.setupXml(e),h.SYS_OPTIONS){var a=h.SYS_OPTIONS[o];"boolean"==typeof this.sys[a]&&(this.opt.development_extensions[a]=this.sys[a])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(t,e){var i=this.cslXml.children(t);this.cslXml.setAttribute(t,"cslid",this.build.cslNodeId),this.opt.nodenames.push(e),this.build.cslNodeId+=1;for(var n=0,r=this.cslXml.numberofnodes(i);n<r;n+=1)(e=this.cslXml.nodename(i[n]))&&this.setCslNodeIds(i[n],e)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),void 0===this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),i&&(i=i.replace("_","-"),i=h.normalizeLocaleStr(i)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=h.normalizeLocaleStr(this.opt["default-locale"][0])),i&&n&&(this.opt["default-locale"]=[i]),i&&!n&&this.opt["default-locale"][0]&&(i=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(i||(i="en-US"),this.opt["default-locale"].push("en-US")),i||(i=this.opt["default-locale"][0]),r=h.localeResolve(i),this.opt.lang=r.best,this.opt["default-locale"][0]=r.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(r),this.locale[this.opt.lang].opts["skip-words-regexp"]=(s=(s=this.locale[this.opt.lang].opts["skip-words"]).slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+s.join("|")+")(?=[!?:]*\\s+|-|$))","g")),this.output.adjust=new h.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new h.Registry(this),this.macros={},this.build.area="citation";var l=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(l,this[this.build.area].tokens),this.build.area="bibliography",l=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area),this.buildTokenLists(l,this[this.build.area].tokens),this.build.area="intext",l=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area),this.buildTokenLists(l,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new h.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new h.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=h.DateParser,this.fun.flipflopper=new h.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=h.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=h.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},h.Engine.prototype.setCloseQuotesArray=function(){var t;(t=[]).push(this.getTerm("close-quote")),t.push(this.getTerm("close-inner-quote")),t.push('"'),t.push("'"),this.opt.close_quotes_array=t},h.makeBuilder=function(t,e){var i=[],n=[];function r(r){n.push(r),h.XmlToToken.call(r,t,h.START,e,i)}function s(){var r=n.pop();h.XmlToToken.call(r,t,h.END,e,i)}function o(n){h.XmlToToken.call(n,t,h.SINGLETON,e,i)}return function e(i,n,a){a||(a=[]),i||(i=[]),void 0===i.length&&(i=[i]);for(var l=0;l<i.length;l++){var c=i[l];null!==t.cslXml.nodename(c)&&(n&&"date"===t.cslXml.nodename(c)&&(h.Util.fixDateNode.call(t,n,l,c),c=t.cslXml.children(n)[l]),t.cslXml.numberofnodes(t.cslXml.children(c))?(r(c),e(t.cslXml.children(c),c,a),s()):o(c))}}},h.Engine.prototype.buildTokenLists=function(t,e){this.cslXml.getNodeValue(t)&&h.makeBuilder(this,e)(void 0===t.length?t:t[0])},h.Engine.prototype.setStyleAttributes=function(){var t,e,i={};for(e in i.name=this.cslXml.nodename(this.cslXml.dataObj),t=this.cslXml.attributes(this.cslXml.dataObj))t.hasOwnProperty(e)&&h.Attributes[e].call(i,this,t[e])},h.Engine.prototype.getTerm=function(t,e,i,n,r,s){var o;t&&t.match(/[A-Z]/)&&t===t.toUpperCase()&&(h.debug("Warning: term key is in uppercase form: "+t),t=t.toLowerCase()),o=s?this.opt["default-locale"][0]:this.opt.lang;var a=h.Engine.getField(h.LOOSE,this.locale[o].terms,t,e,i,n);return a||"range-delimiter"!==t||(a="â"),void 0===a&&(r===h.STRICT?h.error('Error in getTerm: term "'+t+'" does not exist.'):r===h.TOLERANT&&(a="")),a&&(this.tmp.cite_renders_content=!0),a},h.Engine.prototype.getDate=function(t,e){var i;return i=e?this.opt["default-locale"]:this.opt.lang,!!this.locale[i].dates[t]&&this.locale[i].dates[t]},h.Engine.prototype.getOpt=function(t){return void 0!==this.locale[this.opt.lang].opts[t]&&this.locale[this.opt.lang].opts[t]},h.Engine.prototype.getVariable=function(t,e,i,n){return h.Engine.getField(h.LOOSE,t,e,i,n)},h.Engine.prototype.getDateNum=function(t,e){return void 0===t?0:t[e]},h.Engine.getField=function(t,e,i,n,r,s){var o,a,l,c,u,p;if(o="",void 0===e[i]){if(t!==h.STRICT)return;h.error('Error in getField: term "'+i+'" does not exist.')}for(p=s&&e[i][s]?e[i][s]:e[i],a=[],"symbol"===n?a=["symbol","short"]:"verb-short"===n?a=["verb-short","verb"]:"long"!==n&&(a=[n]),u=(a=a.concat(["long"])).length,c=0;c<u;c+=1)if(l=a[c],"string"==typeof p||"number"==typeof p)o=p;else if(void 0!==p[l]){o="string"==typeof p[l]||"number"==typeof p[l]?p[l]:"number"==typeof r?p[l][r]:p[l][0];break}return o},h.Engine.prototype.configureTokenLists=function(){var t,e;for(e=h.AREAS.length,t=0;t<e;t+=1){var i=this[h.AREAS[t]].tokens;this.configureTokenList(i)}return this.version=h.version,this.state},h.Engine.prototype.configureTokenList=function(t){var e,i,n,r,s,o;for(e=["year","month","day"],r=t.length-1;r>-1;r+=-1){if("date"===(i=t[r]).name&&h.END===i.tokentype&&(n=[]),"date-part"===i.name&&i.strings.name)for(o=e.length,s=0;s<o;s+=1)e[s]===i.strings.name&&n.push(i.strings.name);"date"===i.name&&h.START===i.tokentype&&(n.reverse(),i.dateparts=n),i.next=r+1,i.name&&h.Node[i.name].configure&&h.Node[i.name].configure.call(i,this,r)}},h.Engine.prototype.refetchItems=function(t){for(var e=[],i=0,n=t.length;i<n;i+=1)e.push(this.refetchItem(""+t[i]));return e},h.ITERATION=0,h.Engine.prototype.retrieveItem=function(t){var e,i;if(this.tmp.loadedItemIDs[t])return this.registry.refhash[t];if(this.tmp.loadedItemIDs[t]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var n=0,r=this.opt["default-locale"].length;n<r;n+=1)this.opt["default-locale"][n]=this.opt["default-locale"][n].toLowerCase();for(n=0,r=this.opt["locale-translit"].length;n<r;n+=1)this.opt["locale-translit"][n]=this.opt["locale-translit"][n].toLowerCase();for(n=0,r=this.opt["locale-translat"].length;n<r;n+=1)this.opt["locale-translat"][n]=this.opt["locale-translat"][n].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(h.ITERATION+=1,e=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+t))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(e.multi){if(e.multi._keys)for(var s in e.multi._keys)for(var o in e.multi._keys[s])o!==o.toLowerCase()&&(e.multi._keys[s][o.toLowerCase()]=e.multi._keys[s][o],delete e.multi._keys[s][o]);if(e.multi.main)for(var s in e.multi.main)e.multi.main[s]=e.multi.main[s].toLowerCase()}for(n=0,r=h.NAME_VARIABLES.length;n>r;n+=1){var a=h.NAME_VARIABLES[n];if(e[a]&&e[a].multi)for(var l=0,c=e[a].length;l<c;l+=1){var u=e[a][l];if(u.multi){if(u.multi._key)for(var o in u.multi._key)o!==o.toLowerCase()&&(u.multi._key[o.toLowerCase()]=u.multi._key[o],delete u.multi._key[o]);u.multi.main&&(u.multi.main=u.multi.main.toLowerCase())}}}}for(var o in e.language&&e.language.match(/[><]/)&&("<"===(i=e.language.match(/(.*?)([<>])(.*)/))[2]?(e["language-name"]=i[1],e["language-name-original"]=i[3]):(e["language-name"]=i[3],e["language-name-original"]=i[1]),this.opt.multi_layout?e["language-name-original"]&&(e.language=e["language-name-original"]):e["language-name"]&&(e.language=e["language-name"])),e.page&&(e["page-first"]=e.page,"\\"!==(i=(""+e.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(e["page-first"]=i[0])),this.opt.development_extensions.field_hack&&e.note&&h.parseNoteFieldHacks(e,!1,this.opt.development_extensions.allow_field_hack_date_override),e)if(h.DATE_VARIABLES.indexOf(o.replace(/^alt-/,""))>-1){var p=e[o];p&&(this.opt.development_extensions.raw_date_parsing&&(!p.raw||p["date-parts"]&&0!==p["date-parts"].length||(p=this.fun.dateparser.parseDateToObject(p.raw))),e[o]=this.dateParseArray(p))}if(this.opt.development_extensions.consolidate_legal_items&&e.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1){var f=[];for(n=0,r=(g=["type","title","jurisdiction","genre","volume","container-title"]).length;n<r;n+=1)e[m=g[n]]&&f.push(e[m]);for(n=0,r=(g=["original-date","issued"]).length;n<r;n+=1)if(e[m=g[n]]&&e[m].year){var d=e[m].year;f.push(d);break}e.legislation_id=f.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(e.type)>-1){var m,g,y=[];for(n=0,r=(g=["type","container-title","publisher","edition"]).length;n<r;n+=1)e[m=g[n]]&&y.push(e[m]);e.container_id=y.join("::")}if(this.opt.development_extensions.force_jurisdiction&&"string"==typeof e.authority&&(e.authority=[{literal:e.authority,multi:{_key:{}}}],e.multi&&e.multi._keys&&e.multi._keys.authority))for(var o in e.authority[0].multi._key={},e.multi._keys.authority)e.authority[0].multi._key[o]={literal:e.multi._keys.authority[o]};if(e["title-short"]||(e["title-short"]=e.shortTitle),this.opt.development_extensions.main_title_from_short_title){var b="fr"===this.opt["default-locale"][0].slice(0,2).toLowerCase();h.extractTitleAndSubtitle.call(this,e,b)}var _,v=["bill","legal_case","legislation","gazette","regulation"].indexOf(e.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&v&&(e.jurisdiction||(e.jurisdiction="us")),!v&&e.title&&this.sys.getAbbreviation){e.jurisdiction,_=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey("title",e.title):e.title;var w=this.transform.loadAbbreviation(e.jurisdiction,"title",_,e.language);this.transform.abbrevs[w].title&&this.transform.abbrevs[w].title[_]&&(e["title-short"]=this.transform.abbrevs[w].title[_])}if(e["container-title-short"]||(e["container-title-short"]=e.journalAbbreviation),e["container-title"]&&this.sys.getAbbreviation&&(_=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(e["container-title"]):e["container-title"],w=this.transform.loadAbbreviation(e.jurisdiction,"container-title",_,e.language),this.transform.abbrevs[w]["container-title"]&&this.transform.abbrevs[w]["container-title"][_]&&(e["container-title-short"]=this.transform.abbrevs[w]["container-title"][_])),e.jurisdiction&&(e.country=e.jurisdiction.split(":")[0]),this.registry.refhash[t]){if(JSON.stringify(this.registry.refhash[t])!=JSON.stringify(e)){for(var o in this.registry.refhash[t])delete this.registry.refhash[t][o];this.tmp.taintedItemIDs[e.id]=!0,Object.assign(this.registry.refhash[t],e)}}else this.registry.refhash[t]=e;return this.registry.refhash[t]},h.Engine.prototype.refetchItem=function(t){return this.registry.refhash[t]},h.Engine.prototype.setOpt=function(t,e,i){"style"===t.name||"cslstyle"===t.name?(this.opt.inheritedAttributes[e]=i,this.citation.opt.inheritedAttributes[e]=i,this.bibliography.opt.inheritedAttributes[e]=i):["citation","bibliography"].indexOf(t.name)>-1?this[t.name].opt.inheritedAttributes[e]=i:t.strings[e]=i},h.Engine.prototype.inheritOpt=function(t,e,i,n){if(void 0!==t.strings[e])return t.strings[e];var r=this[this.tmp.root].opt.inheritedAttributes[i||e];return void 0!==r?r:n},h.Engine.prototype.remapSectionVariable=function(t){for(var e=0,i=t.length;e<i;e+=1){var n=t[e][0],r=t[e][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(n.type)>-1){r.locator&&(r.locator=r.locator.trim(),(o=r.locator.match(h.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||(r.label?r.locator=h.STATUTE_SUBDIV_STRINGS_REVERSE[r.label]+" "+r.locator:r.locator="p. "+r.locator));var s=null;if(n.section&&(n.section=n.section.trim(),(o=n.section.match(h.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?s=o[0].trim():(n.section="sec. "+n.section,s="sec.")),n.section)if(r.locator){var o,a=" ";(o=r.locator.match(/^([^ ]*)\s*(.*)/))?("p."===o[1]&&"p."!==s&&(r.locator=o[2]),["[","(",".",",",";",":","?"].indexOf(r.locator.slice(0,1))>-1&&(a="")):a="",r.locator=n.section+a+r.locator}else r.locator=n.section;r.label=""}}},h.Engine.prototype.setNumberLabels=function(t){if(t.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var e=""+t.number,i=(e=e.split("\\").join("")).split(/\s+/)[0],n=h.STATUTE_SUBDIV_STRINGS[i];if(n){var r=e.split(h.STATUTE_SUBDIV_PLAIN_REGEX);if(r.length>1){for(var s=[],o=1,a=r.length;o<a;o+=1)s.push(r[o].replace(/\s*$/,"").replace(/^\s*/,""));e=s.join(" ")}else e=r[0];this.tmp.shadow_numbers.number.label=n,this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!0}},h.substituteOne=function(t){return function(e,i){return i?t.replace("%%STRING%%",i):""}},h.substituteTwo=function(t){return function(e){var i=t.replace("%%PARAM%%",e);return function(t,e){return e?i.replace("%%STRING%%",e):""}}},h.Mode=function(t){var e,i,n,r,s,o;for(n in e={},i=h.Output.Formats[t])"@"===n.slice(0,1)?(r=!1,s=i[n],o=n.split("/"),"string"==typeof s&&s.indexOf("%%STRING%%")>-1?r=s.indexOf("%%PARAM%%")>-1?h.substituteTwo(s):h.substituteOne(s):"boolean"!=typeof s||s?"function"==typeof s?r=s:h.error("Bad "+t+" config entry for "+n+": "+s):r=h.Output.Formatters.passthrough,1===o.length?e[o[0]]=r:2===o.length&&(e[o[0]]||(e[o[0]]={}),e[o[0]][o[1]]=r)):e[n]=i[n];return e},h.setDecorations=function(t,e){var i,n;for(n in i=[],h.FORMAT_KEY_SEQUENCE){var r;e[r=h.FORMAT_KEY_SEQUENCE[n]]&&(i.push([r,e[r]]),delete e[r])}return i},h.Doppeler=function(t,e){var i=new RegExp("("+t+")","g"),n=new RegExp(t,"g");this.split=function(t){e&&(t=e(t));var r=t.match(i);if(!r)return{tags:[],strings:[t]};for(var s=t.split(n),o=r.length-1;o>-1;o--)"number"==typeof r[o]&&(r[o]=""),"'"===r[o]&&s[o+1].length>0&&(s[o+1]=r[o]+s[o+1],r[o]="");return{tags:r,strings:s,origStrings:s.slice()}},this.join=function(t){for(var e=t.strings.slice(-1),i=t.tags.length-1;i>-1;i--)e.push(t.tags[i]),e.push(t.strings[i]);return e.reverse(),e.join("")}},h.Engine.prototype.normalDecorIsOrphan=function(t,e){if("normal"===e[1]){for(var i,n=!1,r=(i="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(t.alldecor):t.alldecor).length-1;r>-1;r+=-1)for(var s=i[r].length-1;s>-1;s+=-1)i[r][s][0]===e[0]&&"normal"!==i[r][s][1]&&(n=!0);if(!n)return!0}return!1},h.Engine.prototype.getCitationLabel=function(t){var e="",i=this.getTrigraphParams(),n=i[0],r=this.getTerm("reference","short",0);void 0===r&&(r="reference"),r=(r=r.replace(".","")).slice(0,1).toUpperCase()+r.slice(1);for(var s=0,o=h.NAME_VARIABLES.length;s<o;s+=1){var a=h.NAME_VARIABLES[s];if(t[a]){var l=t[a];n=l.length>i.length?i[i.length-1]:i[l.length-1];for(var c=0,u=l.length;c<u&&c!==n.authors.length;c+=1){var p=this.nameOutput.getName(l[c],"locale-translit",!0).name;p&&p.family?r=(r=p.family).replace(/^([ \'\u2019a-z]+\s+)/,""):p&&p.literal&&(r=p.literal);var f=r.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(f&&(r=r.slice(f[1].length)),!(r=r.replace(h.ROMANESQUE_NOT_REGEXP,"")))break;(r=r.slice(0,n.authors[c])).length>1?r=r.slice(0,1).toUpperCase()+r.slice(1).toLowerCase():1===r.length&&(r=r.toUpperCase()),e+=r}break}}if(!e&&t.title){var d=this.locale[this.opt.lang].opts["skip-words"],m=t.title.split(/\s+/);for(s=m.length-1;s>-1;s--)d.indexOf(m[s])>-1&&(m=m.slice(0,s).concat(m.slice(s+1)));var g=m.join("");(g=g.slice(0,i[0].authors[0])).length>1?g=g.slice(0,1).toUpperCase()+g.slice(1).toLowerCase():1===g.length&&(g=g.toUpperCase()),e=g}var y="0000";return t.issued&&t.issued.year&&(y=""+t.issued.year),e+y.slice(-1*n.year)},h.Engine.prototype.getTrigraphParams=function(){var t=[],e=this.opt.trigraph.split(":");this.opt.trigraph&&"A"===this.opt.trigraph.slice(0,1)||h.error("Bad trigraph definition: "+this.opt.trigraph);for(var i=0,n=e.length;i<n;i+=1){for(var r=e[i],s={authors:[],year:0},o=0,a=r.length;o<a;o+=1)switch(r.slice(o,o+1)){case"A":s.authors.push(1);break;case"a":s.authors[s.authors.length-1]+=1;break;case"0":s.year+=1;break;default:h.error("Invalid character in trigraph definition: "+this.opt.trigraph)}t.push(s)}return t},h.Engine.prototype.setOutputFormat=function(t){this.opt.mode=t,this.fun.decorate=h.Mode(t),this.output[t]||(this.output[t]={},this.output[t].tmp={})},h.Engine.prototype.getSortFunc=function(){return function(t,e){return t=t.split("-"),e=e.split("-"),t.length<e.length?1:t.length>e.length?-1:(t=t.slice(-1)[0],e=e.slice(-1)[0],t.length<e.length?1:t.length>e.length?-1:0)}},h.Engine.prototype.setLangTagsForCslSort=function(t){var e,i;if(t)for(this.opt["locale-sort"]=[],e=0,i=t.length;e<i;e+=1)this.opt["locale-sort"].push(t[e]);this.opt["locale-sort"].sort(this.getSortFunc())},h.Engine.prototype.setLangTagsForCslTransliteration=function(t){var e,i;if(this.opt["locale-translit"]=[],t)for(e=0,i=t.length;e<i;e+=1)this.opt["locale-translit"].push(t[e]);this.opt["locale-translit"].sort(this.getSortFunc())},h.Engine.prototype.setLangTagsForCslTranslation=function(t){var e,i;if(this.opt["locale-translat"]=[],t)for(e=0,i=t.length;e<i;e+=1)this.opt["locale-translat"].push(t[e]);this.opt["locale-translat"].sort(this.getSortFunc())},h.Engine.prototype.setLangPrefsForCites=function(t,e){var i=this.opt["cite-lang-prefs"];e||(e=function(t){return t.toLowerCase()});for(var n=["Persons","Institutions","Titles","Journals","Publishers","Places"],r=0,s=n.length;r<s;r+=1){var o=e(n[r]),a=n[r].toLowerCase();if(t[o]){for(var l=[];t[o].length>1;)l.push(t[o].pop());var c={orig:1,translit:2,translat:3};for(2===l.length&&c[l[0]]<c[l[1]]&&l.reverse();l.length;)t[o].push(l.pop());for(var u=i[a];u.length;)u.pop();for(var h=0,p=t[o].length;h<p;h+=1)u.push(t[o][h])}}},h.Engine.prototype.setLangPrefsForCiteAffixes=function(t){if(t&&48===t.length){for(var e,i=this.opt.citeAffixes,n=0,r=["persons","institutions","titles","journals","publishers","places"],s=["translit","orig","translit","translat"],o=0,a=r.length;o<a;o+=1)for(var l=0,c=s.length;l<c;l+=1)e="",n%8==4&&(i[r[o]]["locale-"+s[l]].prefix||i[r[o]]["locale-"+s[l]].suffix)||(e=t[n]?t[n]:"",i[r[o]]["locale-"+s[l]].prefix=e,e=t[n]?t[n+1]:"",i[r[o]]["locale-"+s[l]].suffix=e),n+=2;this.opt.citeAffixes=i}},h.Engine.prototype.setAutoVietnameseNamesOption=function(t){this.opt["auto-vietnamese-names"]=!!t},h.Engine.prototype.setAbbreviations=function(t){this.sys.setAbbreviations&&this.sys.setAbbreviations(t)},h.Engine.prototype.setSuppressTrailingPunctuation=function(t){this.citation.opt.suppressTrailingPunctuation=!!t},h.Output={},h.Output.Queue=function(t){this.levelname=["top"],this.state=t,this.queue=[],this.empty=new h.Token("empty");var e={};e.empty=this.empty,this.formats=new h.Stack(e),this.current=new h.Stack(this.queue)},h.Output.Queue.prototype.pop=function(){var t=this.current.value();return t.length?t.pop():t.blobs.pop()},h.Output.Queue.prototype.getToken=function(t){return this.formats.value()[t]},h.Output.Queue.prototype.mergeTokenStrings=function(t,e){var i,n,r;if(r=i=this.formats.value()[t],n=this.formats.value()[e]){i||((i=new h.Token(t,h.SINGLETON)).decorations=[]),r=new h.Token(t,h.SINGLETON);var s="";for(var s in i.strings)i.strings.hasOwnProperty(s)&&(r.strings[s]=i.strings[s]);for(var s in n.strings)n.strings.hasOwnProperty(s)&&(r.strings[s]=n.strings[s]);r.decorations=i.decorations.concat(n.decorations)}return r},h.Output.Queue.prototype.addToken=function(t,e,i){var n,r;if(n=new h.Token("output"),"string"==typeof i&&(i=this.formats.value()[i]),i&&i.strings){for(r in i.strings)i.strings.hasOwnProperty(r)&&(n.strings[r]=i.strings[r]);n.decorations=i.decorations}"string"==typeof e&&(n.strings.delimiter=e),this.formats.value()[t]=n},h.Output.Queue.prototype.pushFormats=function(t){t||(t={}),t.empty=this.empty,this.formats.push(t)},h.Output.Queue.prototype.popFormats=function(){this.formats.pop()},h.Output.Queue.prototype.startTag=function(t,e){var i={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(e=this.empty,t="empty"),i[t]=e,this.pushFormats(i),this.openLevel(t)},h.Output.Queue.prototype.endTag=function(t){this.closeLevel(t),this.popFormats()},h.Output.Queue.prototype.openLevel=function(t){var e,i;"object"==typeof t?e=new h.Blob(void 0,t):void 0===t?e=new h.Blob(void 0,this.formats.value().empty,"empty"):(this.formats.value()&&this.formats.value()[t]||h.error('CSL processor error: call to nonexistent format token "'+t+'"'),e=new h.Blob(void 0,this.formats.value()[t],t)),i=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.prefix=this.checkNestedBrace.update(e.strings.prefix)),i.push(e),this.current.push(e)},h.Output.Queue.prototype.closeLevel=function(t){t&&t!==this.current.value().levelname&&h.error("Level mismatch error:  wanted "+t+" but found "+this.current.value().levelname);var e=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.suffix=this.checkNestedBrace.update(e.strings.suffix))},h.Output.Queue.prototype.append=function(t,e,i,n,r){var s,o,a,l=!0;if(i&&(n=!0),this.state.tmp["doing-macro-with-date"]&&!i){if("macro-with-date"!==e)return!1;"macro-with-date"===e&&(e="empty")}if(void 0===t)return!1;if("number"==typeof t&&(t=""+t),!i&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(o=!1,e?"literal"===e?(s=!0,l=!1):s="string"==typeof e?this.formats.value()[e]:e:s=this.formats.value().empty,s||h.error("CSL processor error: unknown format token name: "+e),s.strings&&void 0===s.strings.delimiter&&(s.strings.delimiter=""),"string"==typeof t&&t.length&&(t=t.replace(/ ([:;?!\u00bb])/g,"â¯$1").replace(/\u00ab /g,"Â«â¯"),this.last_char_rendered=t.slice(-1),t=t.replace(/\s+'/g," '"),i||(t=t.replace(/^'/g," '")),n?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),o=new h.Blob(t,s),void 0===(a=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),a=this.current.value()),"string"==typeof o.blobs&&(n?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),"string"==typeof t){if("string"==typeof o.blobs&&" "!==o.blobs.slice(0,1)){for(var c="",u=o.blobs;h.TERMINAL_PUNCTUATION.indexOf(u.slice(0,1))>-1;)c+=u.slice(0,1),u=u.slice(1);u&&c&&(o.strings.prefix=o.strings.prefix+c,o.blobs=u)}o.strings["text-case"]&&(o.blobs=h.Output.Formatters[o.strings["text-case"]](this.state,t)),this.state.tmp.strip_periods&&!r&&(o.blobs=o.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var p=o.decorations.length-1;p>-1;p+=-1)"@quotes"===o.decorations[p][0]&&"false"!==o.decorations[p][1]&&(o.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),o.blobs.match(h.ROMANESQUE_REGEXP)||"@font-style"===o.decorations[p][0]&&(o.decorations=o.decorations.slice(0,p).concat(o.decorations.slice(p+1)));a.push(o),this.state.fun.flipflopper.processTags(o)}else l?a.push(o):a.push(t);return!0},h.Output.Queue.prototype.string=function(t,e,i){var n,r=h.getSafeEscape(this.state),s=e.slice(),o=[];if(0===s.length)return o;var a,l,c,u,p="";i?p=i.strings.delimiter:(t.tmp.count_offset_characters=!1,t.tmp.offset_characters=0),i&&i.new_locale&&(i.old_locale=t.opt.lang,t.opt.lang=i.new_locale);for(var f=0,d=s.length;f<d;f+=1){if((a=s[f]).strings.first_blob&&(t.tmp.count_offset_characters=a.strings.first_blob),"string"==typeof a.blobs){if("number"==typeof a.num)o.push(a);else if(a.blobs){a.particle&&(a.blobs=a.particle+a.blobs,a.particle="");var m=(n=r(a.blobs)).length;if(!t.tmp.suppress_decorations)for(b=0,_=a.decorations.length;b<_;b+=1)"@showid"!==(u=a.decorations[b])[0]&&(t.normalDecorIsOrphan(a,u)||(n=t.fun.decorate[u[0]][u[1]].call(a,t,n,u[2])));if(n&&n.length){if(n=r(a.strings.prefix)+n+r(a.strings.suffix),t.opt.development_extensions.csl_reverse_lookup_support&&!t.tmp.suppress_decorations)for(b=0,_=a.decorations.length;b<_;b+=1)"@showid"===(u=a.decorations[b])[0]&&(n=t.fun.decorate[u[0]][u[1]].call(a,t,n,u[2]));o.push(n),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=m+a.strings.suffix.length+a.strings.prefix.length)}}}else if(a.blobs.length){var g=t.output.string(t,a.blobs,a);if(i&&"string"!==g&&g.length>1&&a.strings.delimiter)for(var y=!1,b=0,_=g.length;b<_;b++)"string"!=typeof g[b]?y=!0:y&&(g[b]=a.strings.delimiter+g[b]);o=o.concat(g)}a.strings.first_blob&&t.registry.registry[a.strings.first_blob]&&(t.registry.registry[a.strings.first_blob].offset=t.tmp.offset_characters,t.tmp.count_offset_characters=!1)}for(f=0,d=o.length-1;f<d;f+=1)"number"!=typeof o[f].num||"number"!=typeof o[f+1].num||o[f+1].UGLY_DELIMITER_SUPPRESS_HACK||(o[f].strings.suffix=o[f].strings.suffix+(p||""),o[f+1].successor_prefix="",o[f+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var v=0;for(f=0,d=o.length;f<d;f+=1)"string"==typeof o[f]&&(v=parseInt(f,10)+1,f<o.length-1&&"object"==typeof o[f+1]&&(p&&!o[f+1].UGLY_DELIMITER_SUPPRESS_HACK&&(o[f]+=r(p)),o[f+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(i&&(i.decorations.length||i.strings.suffix))v=o.length;else if(i&&i.strings.prefix)for(f=0,d=o.length;f<d;f++)if(void 0!==o[f].num){v=f,0===f&&(o[f].strings.prefix=i.strings.prefix+o[f].strings.prefix);break}var w=t.output.renderBlobs(o.slice(0,v),p,!1,i);if(w&&i&&(i.decorations.length||i.strings.suffix||i.strings.prefix)){if(!t.tmp.suppress_decorations)for(f=0,d=i.decorations.length;f<d;f+=1)u=i.decorations[f],["@cite","@bibliography","@display","@showid"].indexOf(u[0])>-1||t.normalDecorIsOrphan(a,u)||u[0]&&"string"==typeof w&&(w=t.fun.decorate[u[0]][u[1]].call(i,t,w,u[2]));if(n=w,l=i.strings.suffix,n&&n.length&&(n=r(c=i.strings.prefix)+n+r(l),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=c.length+l.length)),w=n,!t.tmp.suppress_decorations)for(f=0,d=i.decorations.length;f<d;f+=1)u=i.decorations[f],-1!==["@cite","@bibliography","@display","@showid"].indexOf(u[0])&&"string"==typeof w&&(w=t.fun.decorate[u[0]][u[1]].call(i,t,w,u[2]))}var x=o.slice(v,o.length);return!x.length&&w?o=[w]:x.length&&!w?o=x:w&&x.length&&(o=[w].concat(x)),void 0===i?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),t.tmp.suppress_decorations&&(o=t.output.renderBlobs(o,void 0,!1))):"boolean"==typeof i&&(o=t.output.renderBlobs(o,void 0,!0)),i&&i.new_locale&&(t.opt.lang=i.old_locale),o},h.Output.Queue.prototype.clearlevel=function(){var t,e,i;for(i=(t=this.current.value()).blobs.length,e=0;e<i;e+=1)t.blobs.pop()},h.Output.Queue.prototype.renderBlobs=function(t,e,i,n){var r,s,o,a,l,c,u,p,f,d,m;if(m=h.getSafeEscape(this.state),e||(e=""),r=this.state,s="",o="",c=t.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===c&&"object"==typeof t[0]&&n)return t[0].strings.prefix=n.strings.prefix+t[0].strings.prefix,t[0].strings.suffix=t[0].strings.suffix+n.strings.suffix,t[0].decorations=t[0].decorations.concat(n.decorations),t[0].params=n.params,t[0];var g=!0;for(l=0;l<c;l+=1)t[l].checkNext?(t[l].checkNext(t[l+1],g),g=!1):g=!t[l+1]||!t[l+1].splice_prefix;var y=!0;for(l=t.length-1;l>0;l+=-1)t[l].checkLast?y&&t[l].checkLast(t[l-1])&&(y=!1):y=!0;for(c=t.length,l=0;l<c;l+=1)if(s&&(o=e),"string"==typeof(a=t[l]))s+=m(o),s+=a,r.tmp.count_offset_characters&&(r.tmp.offset_characters+=o.length);else if(i)s=s?[s,a]:[a];else if(a.status!==h.SUPPRESS){var b=(f=a.particle?a.particle+a.num:a.formatter.format(a.num,a.gender)).replace(/<[^>]*>/g,"").length;this.append(f,"empty",!0);var _=this.pop(),v=r.tmp.count_offset_characters;if(f=this.string(r,[_],!1),r.tmp.count_offset_characters=v,a.strings["text-case"]&&(f=h.Output.Formatters[a.strings["text-case"]](this.state,f)),f&&this.state.tmp.strip_periods&&(f=f.replace(/\.([^a-z]|$)/g,"$1")),!r.tmp.suppress_decorations)for(p=a.decorations.length,u=0;u<p;u+=1)d=a.decorations[u],r.normalDecorIsOrphan(a,d)||(f=r.fun.decorate[d[0]][d[1]].call(a,r,f,d[2]));f=m(a.strings.prefix)+f+m(a.strings.suffix);var w="";a.status===h.END?w=m(a.range_prefix):a.status===h.SUCCESSOR?w=m(a.successor_prefix):a.status===h.START?w=l>0&&!a.suppress_splice_prefix?m(a.splice_prefix):"":a.status===h.SEEN&&(w=m(a.splice_prefix)),s+=w,s+=f,r.tmp.count_offset_characters&&(r.tmp.offset_characters+=w.length+a.strings.prefix.length+b+a.strings.suffix.length)}return s},h.Output.Queue.purgeEmptyBlobs=function(t){if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=t.blobs.length-1;e>-1;e--){h.Output.Queue.purgeEmptyBlobs(t.blobs[e]);var i=t.blobs[e];if(!i||!i.blobs||!i.blobs.length){for(var n=[];t.blobs.length-1>e;)n.push(t.blobs.pop());for(t.blobs.pop();n.length;)t.blobs.push(n.pop())}}},h.Output.Queue.adjust=function(t){var e={";":!0,":":!0},i={".":!0,"!":!0,"?":!0},n={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},r={},s={},o={},a={};for(var l in n)o[l]=!0,a[l]=!0,e[l]||(r[l]=!0),i[l]||(s[l]=!0);a[" "]=!0,a["Â "]=!0;var c={};for(var l in n)for(var u in n[l])c[u]||(c[u]={}),c[u][l]=n[l][u];function h(t){return"number"==typeof t.num||t.blobs&&1===t.blobs.length&&"number"==typeof t.blobs[0].num}function p(t){return"number"==typeof t.num||!(!t.blobs||"object"!=typeof t.blobs)&&(!!p(t.blobs[t.blobs.length-1])||void 0)}function f(t,e){var i=!1,n=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(e&&n.push("@quotes"),t.decorations)for(var r=0,s=t.decorations.length;r<s;r++)if(n.indexOf(t.decorations[r][0])>-1){i=!0;break}return i}function d(t){if(t.decorations)for(var e=0,i=t.decorations.length;e<i;e++)if("@quotes"===t.decorations[e][0]&&"false"!==t.decorations[e][1])return!0;return"object"==typeof t.blobs&&d(t.blobs[t.blobs.length-1])}function m(t,e){var i=e.strings.suffix.slice(-1);i||"string"!=typeof e.blobs||(i=e.blobs.slice(-1));var n=c[t][i];return!(!n||1!==n.length)||"object"==typeof e.blobs&&!!m(t,e.blobs[e.blobs.length-1])}function g(t,e){if(!o[e])return!1;if("string"==typeof t.blobs)return t.blobs.slice(-1)===e;var i=t.blobs[t.blobs.length-1];return!!i&&(i.strings.suffix.slice(-1)?i.strings.suffix.slice(-1)==e:g(i,e))}function y(t,e,i,r,s){var o="blobs"===e?t:t.strings,a="blobs"===r?i:i.strings,l=o[e].slice(-1),u=a[r].slice(0,1);function h(){a[r]=a[r].slice(1)}function p(){o[e]=o[e].slice(0,-1)}function f(t){a[r]=t+a[r]}function d(t){o[e]+=t}var m=s?function(){return n[l]}:function(){return c[u]},g=s?function(){var t=n[l][u];"string"==typeof t?(p(),h(),f(t)):(f(l),p())}:function(){var t=c[u][l];"string"==typeof t?(p(),h(),d(t)):(d(u),h())};l===u?(s?p:h)():m()&&g()}function b(t){var e=t.strings.suffix.slice(0,1);if("string"==typeof t.blobs)for(;r[e];)y(t,"blobs",t,"suffix"),e=t.strings.suffix.slice(0,1);else for(;r[e];)y(t.blobs[t.blobs.length-1],"suffix",t,"suffix"),e=t.strings.suffix.slice(0,1)}function _(t){if("string"==typeof t.blobs)for(var e=t.blobs.slice(-1);s[e];)y(t,"blobs",t,"suffix",!0),e=t.blobs.slice(-1);else for(e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1);s[e];)y(t.blobs[t.blobs.length-1],"suffix",t,"suffix",!0),e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1)}this.upward=function(t){if(t.blobs&&"string"==typeof t.blobs)o[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1));else if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=f(t,!0),i=t.blobs.length-1;i>-1;i--){this.upward(t.blobs[i]);var n=t.strings,r=t.blobs[i].strings;if(0===i){" "===n.prefix.slice(-1)&&" "===r.prefix.slice(0,1)&&(r.prefix=r.prefix.slice(1));var s=r.prefix.slice(0,1);e||!a[s]||n.prefix||(n.prefix+=s,r.prefix=r.prefix.slice(1))}i===t.blobs.length-1&&(s=r.suffix.slice(-1),!e&&[" "].indexOf(s)>-1&&(n.suffix.slice(0,1)!==s&&(n.suffix=s+n.suffix),r.suffix=r.suffix.slice(0,-1))),n.delimiter&&i>0&&a[n.delimiter.slice(-1)]&&n.delimiter.slice(-1)===r.prefix.slice(0,1)&&(r.prefix=r.prefix.slice(1))}},this.leftward=function(t){if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=t.blobs.length-1;e>-1;e--)if(this.leftward(t.blobs[e]),e<t.blobs.length-1&&!t.strings.delimiter){var i=t.blobs[e],n=i.strings.suffix.slice(-1),r=t.blobs[e+1],s=r.strings.prefix.slice(0,1),a="number"==typeof n||"number"==typeof s;if(!f(i)&&!f(r)&&!a&&o[s]&&!a){var l=s===i.strings.suffix.slice(-1),c=!i.strings.suffix&&"string"==typeof i.blobs&&i.blobs.slice(-1)===s;l||c?r.strings.prefix=r.strings.prefix.slice(1):y(i,"suffix",r,"prefix")}}},this.downward=function(e){if(e.blobs&&"string"==typeof e.blobs)o[e.strings.suffix.slice(0,1)]&&e.strings.suffix.slice(0,1)===e.blobs.slice(-1)&&(e.strings.suffix=e.strings.suffix.slice(1));else if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length){for(var i=e.strings,n=0,r=e.blobs.length;n<r&&!h(e.blobs[n]);n++);if(i.delimiter&&o[i.delimiter.slice(0,1)]){var s=i.delimiter.slice(0,1);for(n=e.blobs.length-2;n>-1;n--)(c=e.blobs[n].strings).suffix.slice(-1)!==s&&(c.suffix+=s);i.delimiter=i.delimiter.slice(1)}for(n=e.blobs.length-1;n>-1;n--){var l=e.blobs[n],c=e.blobs[n].strings,u=f(l,!0),b=h(l);if(n===e.blobs.length-1){var _=i.suffix.slice(0,1),v=!1;o[_]&&!(v=m(_,l))&&t&&(v=d(l)),v&&o[_]&&(p(l)||("string"==typeof l.blobs?y(l,"blobs",e,"suffix"):y(l,"suffix",e,"suffix"),"."===i.suffix.slice(0,1)&&(c.suffix+=i.suffix.slice(0,1),i.suffix=i.suffix.slice(1)))),"Â "===c.suffix.slice(-1)&&" "===i.suffix.slice(0,1)&&(i.suffix=i.suffix.slice(1)),a[c.suffix.slice(0,1)]&&("string"==typeof l.blobs&&l.blobs.slice(-1)===c.suffix.slice(0,1)&&(c.suffix=c.suffix.slice(1)),c.suffix.slice(-1)===i.suffix.slice(0,1)&&(i.suffix=i.suffix.slice(0,-1))),g(e,e.strings.suffix.slice(0,1))&&(e.strings.suffix=e.strings.suffix.slice(1))}else if(i.delimiter)a[i.delimiter.slice(0,1)]&&i.delimiter.slice(0,1)===c.suffix.slice(-1)&&(e.blobs[n].strings.suffix=e.blobs[n].strings.suffix.slice(0,-1));else{var w=e.blobs[n+1].strings;h(l)||u||!a[c.suffix.slice(-1)]||c.suffix.slice(-1)!==w.prefix.slice(0,1)||(w.prefix=w.prefix.slice(1))}b||u||!o[c.suffix.slice(0,1)]||"string"!=typeof l.blobs||y(l,"blobs",l,"suffix"),this.downward(e.blobs[n])}}},this.fix=function(e){if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length){for(var i,n=0,r=e.blobs.length;n<r;n++){for(var s=e.blobs[n],o=!1,a=0,l=s.decorations.length;a<l;a++){var c=s.decorations[a];"@quotes"===c[0]&&"false"!==c[1]&&(o=!0)}o&&(t?b(s):_(s)),i=this.fix(e.blobs[n]),s.blobs&&"string"==typeof s.blobs&&(i=s.blobs.slice(-1))}return i}}},h.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=h.NONE,this.bib_mode=h.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1},h.Engine.Tmp=function(){this.names_max=new h.Stack,this.names_base=new h.Stack,this.givens_base=new h.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new h.Stack(0,h.LITERAL),this.element_rendered_ok=!1,this.element_trace=new h.Stack("style"),this.nameset_counter=0,this.group_context=new h.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new h.Stack(0,h.LITERAL),this.decorations=new h.Stack,this.tokenstore_stack=new h.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new h.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new h.AmbigConfig,this.bib_sort_keys=[],this.prefix=new h.Stack("",h.LITERAL),this.suffix=new h.Stack("",h.LITERAL),this.delimiter=new h.Stack("",h.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]},h.Engine.Fun=function(t){this.match=new h.Util.Match,this.suffixator=new h.Util.Suffixator(h.SUFFIX_CHARS),this.romanizer=new h.Util.Romanizer,this.ordinalizer=new h.Util.Ordinalizer(t),this.long_ordinalizer=new h.Util.LongOrdinalizer},h.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new h.Stack(0,h.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0},h.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]},h.Engine.Citation=function(t){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new h.Registry.Comparifier(t,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},h.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},h.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=h.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"},h.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},h.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"},h.Engine.prototype.previewCitationCluster=function(t,e,i,n){var r=this.opt.mode;this.setOutputFormat(n),t.citationID&&delete t.citationID;var s=this.processCitationCluster(t,e,i,h.PREVIEW);return this.setOutputFormat(r),s[1]},h.Engine.prototype.appendCitationCluster=function(t){for(var e=[],i=this.registry.citationreg.citationByIndex.length,n=0;n<i;n+=1){var r=this.registry.citationreg.citationByIndex[n];e.push([""+r.citationID,r.properties.noteIndex])}return this.processCitationCluster(t,e,[])[1]},h.Engine.prototype.processCitationCluster=function(t,e,i,n){var r,s,o,a,l,c,u,p,f,d,m,g,y,b,_,v,w;if(this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(t),n===h.PREVIEW){this.debug&&h.debug("****** start state save *********"),_=this.registry.citationreg.citationByIndex.slice(),v=this.registry.reflist.slice();for(var x=e.concat(i),k={},E=[],A=0,S=x.length;A<S;A+=1)for(a=0,l=(r=this.registry.citationreg.citationById[x[A][0]]).citationItems.length;a<l;a+=1)k[r.citationItems[a].id]=!0,E.push(""+r.citationItems[a].id);for(a=0,l=t.citationItems.length;a<l;a+=1)k[t.citationItems[a].id]=!0,E.push(""+t.citationItems[a].id);for(w={},A=0,S=v.length;A<S;A+=1)if(!k[v[A].id]){var O=this.registry.registry[v[A].id].ambig,T=this.registry.ambigcites[O];if(T)for(a=0,l=T.length;a<l;a+=1)w[T[a]]=h.cloneAmbigConfig(this.registry.registry[T[a]].disambig)}this.debug&&h.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};var C=[],N={};for(A=0,S=t.citationItems.length;A<S;A+=1){for(var I in m={},t.citationItems[A])m[I]=t.citationItems[A][I];var L;if((d=this.retrieveItem(""+m.id)).id&&this.transform.loadAbbreviation("default","hereinafter",d.id,d.language),m=h.parseLocator.call(this,m),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[d,m]]),this.opt.development_extensions.locator_label_parse&&m.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(d.type)&&(!m.label||"page"===m.label)&&(L=h.LOCATOR_LABELS_REGEXP.exec(m.locator))){var R=h.LOCATOR_LABELS_MAP[L[2]];this.getTerm(R)&&(m.label=R,m.locator=L[3])}var D=[d,m];C.push(D),t.citationItems[A].item=d}t.sortedItems=C;var M,P=[],F={};for(A=0,S=e.length;A<S;A+=1)s=e[A],this.opt.development_extensions.strict_inputs&&(F[s[0]]&&h.error("Previously referenced citationID "+s[0]+" encountered in citationsPre"),s[1]&&(M>s[1]&&h.debug("Note index sequence is not sane at citationsPre["+A+"]"),M=s[1])),this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1],P.push(this.registry.citationreg.citationById[s[0]]),F[s[0]]=this.registry.citationreg.citationById[s[0]];for(t.properties||(t.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(F[t.citationID]&&h.error("Citation with previously referenced citationID "+t.citationID),t.properties.noteIndex&&(M>t.properties.noteIndex&&h.debug("Note index sequence is not sane for citation "+t.citationID),M=t.properties.noteIndex)),P.push(t),F[t.citationID]=t,A=0,S=i.length;A<S;A+=1)o=i[A],this.opt.development_extensions.strict_inputs&&(F[o[0]]&&h.error("Previously referenced citationID "+o[0]+" encountered in citationsPost"),o[1]&&(M>o[1]&&h.debug("Note index sequence is not sane at postCitation["+A+"]"),M=o[1])),this.registry.citationreg.citationById[o[0]].properties.noteIndex=o[1],P.push(this.registry.citationreg.citationById[o[0]]),F[o[0]]=this.registry.citationreg.citationById[o[0]];this.registry.citationreg.citationByIndex=P,this.registry.citationreg.citationById=F,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===h.POSITION&&(y=[],g=[],b={});var j,B=[];for(A=0,S=P.length;A<S;A+=1){for(P[A].properties.index=A,a=0,l=P[A].sortedItems.length;a<l;a+=1)m=P[A].sortedItems[a],this.registry.citationreg.citationsByItemId[m[1].id]||(this.registry.citationreg.citationsByItemId[m[1].id]=[],B.push(""+m[1].id)),-1===this.registry.citationreg.citationsByItemId[m[1].id].indexOf(P[A])&&this.registry.citationreg.citationsByItemId[m[1].id].push(P[A]);this.opt.update_mode===h.POSITION&&(P[A].properties.noteIndex?g.push(P[A]):(P[A].properties.noteIndex=0,y.push(P[A])))}if(n!==h.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&h.debug("****** start update items *********"),this.updateItems(B,null,null,!0),this.debug&&h.debug("****** endo update items *********")),!this.opt.citation_number_sort&&C&&C.length>1&&this.citation_sort.tokens.length>0){for(A=0,S=C.length;A<S;A+=1)C[A][1].sortkeys=h.getSortKeys.call(this,C[A][0],"citation_sort");if(this.opt.grouped_sort&&!t.properties.unsorted){for(A=0,S=C.length;A<S;A+=1){var $=C[A][1].sortkeys;this.tmp.authorstring_request=!0;var z=this.registry.registry[C[A][0].id].disambig;this.tmp.authorstring_request=!0,h.getAmbiguousCite.call(this,C[A][0],z);var U=this.registry.authorstrings[C[A][0].id];this.tmp.authorstring_request=!1,C[A][1].sortkeys=[U].concat($)}C.sort(this.citation.srt.compareCompositeKeys);var q=!1,G=!1,V=!1;for(A=0,S=C.length;A<S;A+=1)C[A][1].sortkeys[0]!==q&&(V=C[A][1].sortkeys[0],G=C[A][1].sortkeys[1]),C[A][1].sortkeys[0]=""+G+A,q=V}t.properties.unsorted||C.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.parallel.enable&&this.parallel.StartCitation(t.sortedItems),this.opt.update_mode===h.POSITION)for(A=0;A<2;A+=1){var H={},W={},K={};for(a=0,l=(j=[y,g][A]).length;a<l;a+=1){var X=j[a];for(j[a].properties.noteIndex||(j[a].properties.noteIndex=0),j[a].properties.noteIndex=parseInt(j[a].properties.noteIndex,10),a>0&&X.properties.noteIndex&&j[a-1].properties.noteIndex>X.properties.noteIndex&&(b={},H={},W={},K={}),c=0,u=X.sortedItems.length;c<u;c+=1)X.sortedItems[c][1].parallel&&"first"!==X.sortedItems[c][1].parallel||(b[X.properties.noteIndex]?b[X.properties.noteIndex]+=1:b[X.properties.noteIndex]=1);for(c=0,u=j[a].sortedItems.length;c<u;c+=1){var Y,J,Z=(m=j[a].sortedItems[c])[0].id,Q=m[0].legislation_id?m[0].legislation_id:m[0].id,tt=m[0].legislation_id?m[0].legislation_id:m[0].container_id?m[0].container_id:m[0].id,et=m[1]["locator-extra"],it=m[1].locator,nt=m[1].label;if(c>0)if(X.sortedItems[c-1][0].legislation_id)Y=X.sortedItems[c-1][0].legislation_id;else{Y=X.sortedItems[c-1][1].id,J=X.sortedItems[c-1][1]["locator-extra"];for(var rt=c-2;rt>-1;rt--)"first"===X.sortedItems[rt][1].parallel&&(Y=X.sortedItems[rt][1].id,J=X.sortedItems[rt][1]["locator-extra"])}if(n!==h.PREVIEW||X.citationID==t.citationID){var st,ot,at={};if(at.position=m[1].position,at["first-reference-note-number"]=m[1]["first-reference-note-number"],at["first-container-reference-note-number"]=m[1]["first-container-reference-note-number"],at["near-note"]=m[1]["near-note"],m[1]["first-reference-note-number"]=0,m[1]["first-container-reference-note-number"]=0,m[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[Z]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var lt=this.registry.registry[m[0].id]["citation-count"],ct=this.registry.citationreg.citationsByItemId[Z].length;if(this.registry.registry[m[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[Z].length,"number"==typeof lt){if(lt<2!=ct<2){rt=0;for(var ut=this.registry.citationreg.citationsByItemId[Z].length;rt<ut;rt++)N[this.registry.registry[m[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Z][rt].citationID]=!0}}else for(rt=0,ut=this.registry.citationreg.citationsByItemId[Z].length;rt<ut;rt++)N[this.registry.registry[m[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Z][rt].citationID]=!0}if(void 0===W[tt]&&"author-only"!==X.properties.mode)H[Q]=X.properties.noteIndex,W[tt]=X.properties.noteIndex,K[tt]=X.properties.noteIndex,m[1].position=h.POSITION_FIRST;else{var ht=!1,pt=!1,ft=null;a>0&&(ft=j[a-1]);var dt,mt,gt,yt,bt=j[a];if(a>0){var _t=1;"author-only"===ft.properties.mode&&a>1&&(_t=2);var vt=a-_t;j[vt].sortedItems.length&&(st=j[vt].sortedItems.slice(-1)[0][1].id,ot=j[a-_t].sortedItems.slice(-1)[0][1]["locator-extra"]),ft.sortedItems.length&&ft.sortedItems[0].slice(-1)[0].legislation_id&&(st=ft.sortedItems[0].slice(-1)[0].legislation_id)}if(a>0&&0===c&&ft.properties.noteIndex!==bt.properties.noteIndex){var wt=!1,xt=ft.sortedItems[0][0].id;if(ft.sortedItems[0][0].legislation_id&&(xt=ft.sortedItems[0][0].legislation_id),xt==Q&&ft.properties.noteIndex>=bt.properties.noteIndex-1){var kt=ft.sortedItems[0][1]["locator-extra"],Et=bt.sortedItems[0][1]["locator-extra"];1!==b[ft.properties.noteIndex]&&0!==ft.properties.noteIndex||kt!==Et||(wt=!0)}wt?ht=!0:pt=!0}else c>0&&Y==Q&&J==et||0===c&&a>0&&ft.properties.noteIndex==bt.properties.noteIndex&&ft.sortedItems.length&&st==Q&&ot==et?ht=!0:pt=!0;ht&&((dt=c>0?X.sortedItems[c-1][1]:j[a-1].sortedItems[0][1]).locator?(gt=dt.label?dt.label:"",mt=""+dt.locator+gt):mt=dt.locator,yt=it?""+it+(nt||""):it),ht&&mt&&!yt&&(ht=!1,pt=!0),ht&&(!mt&&yt?m[1].position=h.POSITION_IBID_WITH_LOCATOR:mt||yt?mt&&yt===mt?m[1].position=h.POSITION_IBID:mt&&yt&&yt!==mt?m[1].position=h.POSITION_IBID_WITH_LOCATOR:(ht=!1,pt=!0):m[1].position=h.POSITION_IBID),pt&&(m[1].position=h.POSITION_CONTAINER_SUBSEQUENT,void 0===H[Q]?H[Q]=X.properties.noteIndex:m[1].position=h.POSITION_SUBSEQUENT),(pt||ht)&&("author-only"===X.properties.mode&&(m[1].position=h.POSITION_FIRST),K[tt]!=X.properties.noteIndex&&(m[1]["first-container-reference-note-number"]=K[tt],this.registry.registry[m[0].id]&&(this.registry.registry[m[0].id]["first-container-reference-note-number"]=K[tt])),H[Q]!=X.properties.noteIndex&&(m[1]["first-reference-note-number"]=H[Q],this.registry.registry[m[0].id]&&(this.registry.registry[m[0].id]["first-reference-note-number"]=H[Q])))}if(X.properties.noteIndex){var At=parseInt(X.properties.noteIndex,10)-parseInt(W[tt],10);m[1].position!==h.POSITION_FIRST&&At<=this.citation.opt["near-note-distance"]&&(m[1]["near-note"]=!0),W[tt]=X.properties.noteIndex}else m[1].position!==h.POSITION_FIRST&&(m[1]["near-note"]=!0);if(X.citationID!=t.citationID)for(p=0,f=h.POSITION_TEST_VARS.length;p<f;p+=1){var St=h.POSITION_TEST_VARS[p];m[1][St]!==at[St]&&(this.registry.registry[m[0].id]&&"first-reference-note-number"===St&&(N[this.registry.registry[m[0].id].ambig]=!0,this.tmp.taintedItemIDs[m[0].id]=!0),this.tmp.taintedCitationIDs[X.citationID]=!0)}this.sys.variableWrapper&&(m[1].index=X.properties.index,m[1].noteIndex=X.properties.noteIndex)}else void 0===H[m[1].id]?(H[Q]=X.properties.noteIndex,W[tt]=X.properties.noteIndex):W[tt]=X.properties.noteIndex}}}if(this.opt.citation_number_sort&&C&&C.length>1&&this.citation_sort.tokens.length>0&&!t.properties.unsorted){for(A=0,S=C.length;A<S;A+=1)C[A][1].sortkeys=h.getSortKeys.call(this,C[A][0],"citation_sort");C.sort(this.citation.srt.compareCompositeKeys)}for(var I in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(I)&&(j=this.registry.citationreg.citationsByItemId[I]))for(A=0,S=j.length;A<S;A+=1)this.tmp.taintedCitationIDs[j[A].citationID]=!0;var Ot=[];if(n===h.PREVIEW){this.debug&&h.debug("****** start run processor *********");try{Ot=this.process_CitationCluster.call(this,t.sortedItems,t)}catch(t){h.error("Error running CSL processor for preview: "+t)}for(this.debug&&(h.debug("****** end run processor *********"),h.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=_,this.registry.citationreg.citationById={},A=0,S=_.length;A<S;A+=1)this.registry.citationreg.citationById[_[A].citationID]=_[A];this.debug&&h.debug("****** start final update *********");var Tt=[];for(A=0,S=v.length;A<S;A+=1)Tt.push(""+v[A].id);for(var I in this.updateItems(Tt,null,null,!0),this.debug&&h.debug("****** end final update *********"),w)w.hasOwnProperty(I)&&(this.registry.registry[I].disambig=w[I]);this.debug&&h.debug("****** end state restore *********")}else{for(var Ct in N)this.disambiguate.run(Ct,t);var Nt;for(var I in this.tmp.taintedCitationIDs)if(I!=t.citationID){var It=this.registry.citationreg.citationById[I];if(!It.properties.unsorted){for(A=0,S=It.sortedItems.length;A<S;A+=1)It.sortedItems[A][1].sortkeys=h.getSortKeys.call(this,It.sortedItems[A][0],"citation_sort");It.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=It.properties.index,this.tmp.citation_note_index=It.properties.noteIndex,this.tmp.citation_id=""+It.citationID,(Nt=[]).push(It.properties.index),Nt.push(this.process_CitationCluster.call(this,It.sortedItems,It)),Nt.push(It.citationID),Ot.push(Nt)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=t.properties.index,this.tmp.citation_note_index=t.properties.noteIndex,this.tmp.citation_id=""+t.citationID,(Nt=[]).push(e.length),Nt.push(this.process_CitationCluster.call(this,C,t)),Nt.push(t.citationID),Ot.push(Nt),Ot.sort((function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0}))}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,Ot]},h.Engine.prototype.process_CitationCluster=function(t,e){var i="";if(e&&e.properties&&"composite"===e.properties.mode){e.properties.mode="author-only";var n=h.getCitationCluster.call(this,t,e);e.properties.mode="suppress-author";var r="";e.properties.infix&&(this.output.append(e.properties.infix),"object"==typeof(r=this.output.string(this,this.output.queue))&&(r=r.join("")));var s=h.getCitationCluster.call(this,t,e);e.properties.mode="composite",n&&r&&h.SWAPPING_PUNCTUATION.concat(["â","'"]).indexOf(r[0])>-1&&(n+=r,r=!1),i=[n,r,s].filter((function(t){return t})).join(" ")}else i=h.getCitationCluster.call(this,t,e);return i},h.Engine.prototype.makeCitationCluster=function(t){var e,i,n,r,s,o;for(e=[],r=t.length,n=0;n<r;n+=1){for(var a in s={},t[n])s[a]=t[n][a];if(o=this.retrieveItem(""+s.id),this.opt.development_extensions.locator_label_parse&&s.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(o.type)&&(!s.label||"page"===s.label)){var l=h.LOCATOR_LABELS_REGEXP.exec(s.locator);if(l){var c=h.LOCATOR_LABELS_MAP[l[2]];this.getTerm(c)&&(s.label=c,s.locator=l[3])}}s.locator&&(s.locator=(""+s.locator).replace(/\s+$/,"")),i=[o,s],e.push(i)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(e),e&&e.length>1&&this.citation_sort.tokens.length>0){for(r=e.length,n=0;n<r;n+=1)e[n][1].sortkeys=h.getSortKeys.call(this,e[n][0],"citation_sort");e.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],h.getCitationCluster.call(this,e)},h.getAmbiguousCite=function(t,e,i,n){var r=this.tmp.group_context.tip,s={term_intended:r.term_intended,variable_attempt:r.variable_attempt,variable_success:r.variable_success,output_tip:r.output_tip,label_form:r.label_form,non_parallel:r.non_parallel,parallel_last:r.parallel_last,parallel_first:r.parallel_first,parallel_last_override:r.parallel_last_override,parallel_delimiter_override:r.parallel_delimiter_override,parallel_delimiter_override_on_suppress:r.parallel_delimiter_override_on_suppress,condition:r.condition,force_suppress:r.force_suppress,done_vars:r.done_vars.slice()};this.tmp.disambig_request=e||!1;var o={position:h.POSITION_SUBSEQUENT,"near-note":!0};n&&(o.locator=n.locator,o.label=n.label),this.registry.registry[t.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[t.id]&&this.registry.citationreg.citationsByItemId[t.id].length&&i&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(o["first-reference-note-number"]=this.registry.registry[t.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var a=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,h.getCite.call(this,t,o,null,!1);for(var l=0,c=this.output.queue.length;l<c;l+=1)h.Output.Queue.purgeEmptyBlobs(this.output.queue[l]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var u=0,p=this.output.queue.length;u<p;u+=1)this.output.adjust.upward(this.output.queue[u]),this.output.adjust.leftward(this.output.queue[u]),this.output.adjust.downward(this.output.queue[u]),this.output.adjust.fix(this.output.queue[u]);var f=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=a,this.tmp.group_context.replace(s),f},h.getSpliceDelimiter=function(t,e,i){if(void 0!==this.citation.opt["after-collapse-delimiter"])t||e&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==h.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[i-1]){var n=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[i-1]];n&&n.delimiter&&(this.tmp.splice_delimiter=n.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},h.getCitationCluster=function(t,e){var i,n,r,s,o,a,l,c,u,p,f,d,m,g,y,b,_,v,w,x,k,E="";this.output.checkNestedBrace=new h.checkNestedBrace(this),e&&(w=e.citationID,x="author-only"===e.properties.mode&&!!e.properties.mode,"note"!==this.opt.xclass&&(k="suppress-author"===e.properties.mode&&!!e.properties.mode),e.properties.prefix&&(E=h.checkPrefixSpaceAppend(this,e.properties.prefix))),t=t||[],this.tmp.last_primary_names_string=!1,_=h.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",i="",n=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var A=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+E),S=!1;if(this.citation.opt.suppressTrailingPunctuation&&(S=!0),w&&this.registry.citationreg.citationById[w].properties["suppress-trailing-punctuation"]&&(S=!0),"note"===this.opt.xclass){for(var O=[],T=!1,C=!1,N=[],I=0,L=t.length;I<L;I+=1){var R=t[I][0].type,D=t[I][0].title,M=t[I][1].position,P=t[I][0].id;D&&"legal_case"===R&&P!==C&&M&&(D===T&&0!==O.length||(N=[],O.push(N)),N.push(t[I][1])),T=D,C=P}for(I=0,L=O.length;I<L;I+=1)if(!((N=O[I]).length<2)){var F=N.slice(-1)[0].locator;if(F)for(var j=0,B=N.length-1;j<B;j+=1)N[j].locator&&(F=!1);F&&(N[0].locator=F,delete N.slice(-1)[0].locator,N[0].label=N.slice(-1)[0].label,N.slice(-1)[0].label&&delete N.slice(-1)[0].label)}}for(r=[],s=t.length,t[0]&&t[0][1]&&(x?(delete t[0][1]["suppress-author"],t[0][1]["author-only"]=!0):k&&(delete t[0][1]["author-only"],t[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(t),o=0;o<s;o+=1){this.tmp.cite_index=o,d=t[o][0],a=t[o][1],a=h.parseLocator.call(this,a),l=this.tmp.have_collapsed;var $=!1;if(o>0&&t[o-1][1]&&($=!!t[o-1][1].locator),c={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var z=this.output;this.output=new h.Output.Queue(this),this.output.adjust=new h.Output.Queue.adjust,h.getAmbiguousCite.call(this,d,null,!1,a),this.output=z}if(this.tmp.in_cite_predecessor=!1,o>0?h.getCite.call(this,d,a,""+t[o-1][0].id,!0):(this.tmp.term_predecessor=!1,h.getCite.call(this,d,a,null,!0)),this.tmp.cite_renders_content||(v={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+d.id,citationItems_pos:o,error_code:h.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(v)),c.splice_delimiter=h.getSpliceDelimiter.call(this,$,l,o),a&&a["author-only"]&&(this.tmp.suppress_decorations=!0),o>0){var U=(b=t[o-1][1]).suffix&&[";",".",","].indexOf(b.suffix.slice(-1))>-1,q=!b.suffix&&a.prefix&&[";",".",","].indexOf(a.prefix.slice(0,1))>-1;if(U||q){var G=c.splice_delimiter.indexOf(" ");c.splice_delimiter=G>-1&&!q?c.splice_delimiter.slice(G):""}}if(c.suppress_decorations=this.tmp.suppress_decorations,c.have_collapsed=this.tmp.have_collapsed,r.push(c),a["author-only"])break}f=this.output.queue.slice();var V="";e&&(V=h.checkSuffixSpacePrepend(this,e.properties.suffix));var H=this.citation.opt.layout_suffix,W=this.tmp.cite_locales[this.tmp.cite_locales.length-1];for(W&&this.tmp.cite_affixes[this.tmp.area][W]&&this.tmp.cite_affixes[this.tmp.area][W].suffix&&(H=this.tmp.cite_affixes[this.tmp.area][W].suffix),h.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(H.slice(0,1))>-1&&(H=H.slice(0,1)),H=this.output.checkNestedBrace.update(V+H),I=0,L=this.output.queue.length;I<L;I+=1)h.Output.Queue.purgeEmptyBlobs(this.output.queue[I]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(S||(this.output.queue[this.output.queue.length-1].strings.suffix=H),this.output.queue[0].strings.prefix=A)),this.opt.development_extensions.clean_up_csl_flaws)for(j=0,B=this.output.queue.length;j<B;j+=1)this.output.adjust.upward(this.output.queue[j]),this.output.adjust.leftward(this.output.queue[j]),this.output.adjust.downward(this.output.queue[j]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[j]);for(o=0,s=f.length;o<s;o+=1){var K=[];if(this.output.queue=[f[o]],this.tmp.suppress_decorations=r[o].suppress_decorations,this.tmp.splice_delimiter=r[o].splice_delimiter,f[o].parallel_delimiter&&(this.tmp.splice_delimiter=f[o].parallel_delimiter),this.tmp.have_collapsed=r[o].have_collapsed,u=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof u)return this.tmp.suppress_decorations=!1,u||(this.opt.development_extensions.throw_on_empty?h.error("Citation would render no content"):u="[NO_PRINTED_FORM]"),u;if("object"==typeof u&&0===u.length&&!a["suppress-author"])if(0===o){var X=0===o?_(this.citation.opt.layout_prefix):"",Y=o===f.length-1?_(this.citation.opt.layout_suffix):"";u.push(X+"[CSL STYLE ERROR: reference with no printed form.]"+Y)}else if(o===f.length-1){var J=n[n.length-1];"string"==typeof J?n[n.length-1]+=_(this.citation.opt.layout_suffix):"object"==typeof J&&(J.strings.suffix+=_(this.citation.opt.layout_suffix))}if(K.length&&"string"==typeof u[0]){u.reverse();var Z=u.pop();Z&&","===Z.slice(0,1)?K.push(Z):"string"==typeof K.slice(-1)[0]&&","===K.slice(-1)[0].slice(-1)?K.push(" "+Z):Z&&K.push(_(this.tmp.splice_delimiter)+Z)}else u.reverse(),void 0!==(p=u.pop())&&(K.length&&"string"==typeof K[K.length-1]&&(K[K.length-1]+=p.successor_prefix),K.push(p));for(m=u.length,g=0;g<m;g+=1)"string"!=typeof(y=u[g])?void 0!==(p=u.pop())&&K.push(p):K.push(_(this.tmp.splice_delimiter)+y);0!==K.length||t[o][1]["suppress-author"],K.length>1&&"string"!=typeof K[0]&&(K=[this.output.renderBlobs(K)]),K.length&&("string"==typeof K[0]?o>0&&(K[0]=_(this.tmp.splice_delimiter)+K[0]):K[0].splice_prefix=o>0?this.tmp.splice_delimiter:""),n=n.concat(K)}if((i+=this.output.renderBlobs(n))&&!this.tmp.suppress_decorations)for(s=this.citation.opt.layout_decorations.length,o=0;o<s;o+=1)"normal"!==(c=this.citation.opt.layout_decorations[o])[1]&&(a&&a["author-only"]||(i=this.fun.decorate[c[0]][c[1]](this,i)));return this.tmp.suppress_decorations=!1,i||(this.opt.development_extensions.throw_on_empty?h.error("Citation would render no content"):i="[NO_PRINTED_FORM]"),i},h.getCite=function(t,e,i,n){var r,s,o=this.tmp.area;for(e&&e["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=i,h.citeStart.call(this,t,e,n),r=0,this.tmp.name_node={},this.nameOutput=new h.NameOutput(this,t,e);r<this[this.tmp.area].tokens.length;)r=h.tokenExec.call(this,this[this.tmp.area].tokens[r],t,e);return h.citeEnd.call(this,t,e),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(s={index:this.tmp.bibliography_pos,itemID:""+t.id,error_code:h.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(s)),this.tmp.area=o,""+t.id},h.citeStart=function(t,e,i){if(this.tmp.lang_array=[],t.language){var n=t.language.match(/^([a-zA-Z]+).*/);n&&this.tmp.lang_array.push(n[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),i||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[t.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[t.id].disambig,this.tmp.disambig_settings=this.registry.registry[t.id].disambig):this.tmp.disambig_settings=new h.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[t.id]){if(this.tmp.disambig_restore=h.cloneAmbigConfig(this.registry.registry[t.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[t.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[t.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[t.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[t.id].disambig.givens.slice();for(var r=0,s=this.tmp.disambig_settings.givens.length;r<s;r+=1)this.tmp.disambig_settings.givens[r]=this.registry.registry[t.id].disambig.givens[r].slice();for(r=0,s=this.tmp.disambig_request.givens.length;r<s;r+=1)this.tmp.disambig_request.givens[r]=this.registry.registry[t.id].disambig.givens[r].slice()}}else this.tmp.disambig_restore=new h.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||e&&"first"!==e.parallel&&e.parallel||(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&e&&!e.position&&this.registry.registry[t.id]&&(this.tmp.disambig_restore=h.cloneAmbigConfig(this.registry.registry[t.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},h.citeEnd=function(t,e){if(this.tmp.disambig_restore&&this.registry.registry[t.id]){this.registry.registry[t.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[t.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var i=0,n=this.registry.registry[t.id].disambig.givens.length;i<n;i+=1)this.registry.registry[t.id].disambig.givens[i]=this.tmp.disambig_restore.givens[i].slice()}if(this.tmp.disambig_restore=!1,e&&e.suffix?this.tmp.last_suffix_used=e.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var r=[];for(i=this.tmp.issued_date.list.length-1;i>this.tmp.issued_date.pos;i+=-1)r.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),i=r.length-1;i>-1;i+=-1)this.tmp.issued_date.list.push(r.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},h.Engine.prototype.makeBibliography=function(t){var e,i,n,r,s,o,a;if(!t&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(t={exclude:[]},this.bibliography.opt.exclude_types)for(var l in this.bibliography.opt.exclude_types){var c=this.bibliography.opt.exclude_types[l];t.exclude.push({field:"type",value:c})}if(this.bibliography.opt.exclude_with_fields)for(var l in this.bibliography.opt.exclude_with_fields){var u=this.bibliography.opt.exclude_with_fields[l];t.exclude.push({field:u,value:!0})}}if(!this.bibliography.tokens.length)return!1;"string"==typeof t&&(this.opt.citation_number_slug=t,t=!1),o=(e=h.getBibliographyEntries.call(this,t))[0],a=e[1];var p=e[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:o,bibliography_errors:this.tmp.bibliography_errors.slice(),done:p},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),r=this.registry.reflist.length,s=0;s<r;s+=1)(n=this.registry.reflist[s]).offset>i.maxoffset&&(i.maxoffset=n.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,a]},h.getBibliographyEntries=function(t){var e,i,n,r,s,o,a,l,c,u,p,f,d,m,g,y,b,_,v,w;function x(t,e){return t===e}function k(t,e){return"boolean"!=typeof t&&t?"string"==typeof e?x(t,e):!!e&&function(t,e){for(u=e.length,p=0;p<u;p+=1)if(x(t,e[p]))return!0;return!1}(t,e):t?!!e:!e}if(e=[],v=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,i=t&&t.page_start&&t.page_length?this.registry.getSortedIds():this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,b={},t&&t.page_start&&t.page_length&&(w=0,!0!==t.page_start))for(m=0,g=i.length;m<g&&(b[i[m]]=!0,t.page_start!=i[m]);m+=1);var E=[],A={};for(this.tmp.container_item_count={},i=i.filter((t=>{var e=t;return t.legislation_id?A[t.legislation_id]?e=!1:A[t.legislation_id]=!0:t.container_id&&(this.tmp.container_item_count[t.container_id]||(this.tmp.container_item_count[t.container_id]=0),this.tmp.container_item_count[t.container_id]++,this.bibliography.opt.consolidate_containers.indexOf(t.type)>-1&&(A[t.container_id]?e=!1:A[t.container_id]=!0)),e})),this.tmp.container_item_pos={},m=0,g=i.length;m<g;m+=1){if(t&&t.page_start&&t.page_length){if(b[i[m]])continue;if(l=this.refetchItem(i[m]),w===t.page_length)break}else if(b[(l=i[m]).id])continue;if(t){if(n=!0,t.include){for(n=!1,S=0,O=t.include.length;S<O;S+=1)if(k((c=t.include[S]).value,l[c.field])){n=!0;break}}else if(t.exclude){for(r=!1,S=0,O=t.exclude.length;S<O;S+=1)if(k((c=t.exclude[S]).value,l[c.field])){r=!0;break}r&&(n=!1)}else if(t.select){for(n=!1,s=!0,S=0,O=t.select.length;S<O;S+=1)k((c=t.select[S]).value,l[c.field])||(s=!1);s&&(n=!0)}if(t.quash){for(s=!0,S=0,O=t.quash.length;S<O;S+=1)k((c=t.quash[S]).value,l[c.field])||(s=!1);s&&(n=!1)}if(!n)continue}if(l.container_id&&(this.tmp.container_item_pos[l.container_id]||(this.tmp.container_item_pos[l.container_id]=0),this.tmp.container_item_pos[l.container_id]++),(o=new h.Token("group",h.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",o),l.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=l.system_id:this.output.current.value().system_id=l.id,d=[],!this.registry.registry[l.id].master||t&&t.page_start&&t.page_length)this.registry.registry[l.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,d.push(""+h.getCite.call(this,l)),t&&t.page_start&&t.page_length&&(w+=1));else{_=[[l,{id:l.id}]];for(var S=0,O=(y=this.registry.registry[l.id].siblings).length;S<O;S++)_.push([this.refetchItem(y[S]),{id:y[S]}]);for(this.parallel.StartCitation(_),this.registry.registry[l.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[l.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,S=0,O=_.length;S<O;S+=1)S<_.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,d.push(""+h.getCite.call(this,_[S][0],_[S][1])),this.tmp.cite_index++,b[_[S][0].id]=!0}for(v.push(""),this.tmp.bibliography_pos+=1,E.push(d),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&((f=this.output.queue[0].blobs[0].blobs[0].strings?this.output.queue[0].blobs[0].blobs:this.output.queue[0].blobs)[0].strings.prefix=this.bibliography.opt.layout_prefix+f[0].strings.prefix),S=0,O=this.output.queue.length;S<O;S+=1)h.Output.Queue.purgeEmptyBlobs(this.output.queue[S]);for(S=0,O=this.output.queue.length;S<O;S+=1)this.output.adjust.upward(this.output.queue[S]),this.output.adjust.leftward(this.output.queue[S]),this.output.adjust.downward(this.output.queue[S],!0),this.output.adjust.fix(this.output.queue[S]);if(!(a=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===h.NUMERIC){var T=e.length+1+". [CSL STYLE ERROR: reference with no printed form.]";a=h.Output.Formats[this.opt.mode]["@bibliography/entry"](this,T)}a&&e.push(a)}var C=!1;if(t&&t.page_start&&t.page_length){var N=i.slice(-1)[0],I=E.slice(-1)[0];N&&I&&N!=I||(C=!0)}return this.tmp.disambig_override=!1,[E,e,C]},h.Engine.prototype.setCitationId=function(t,e){var i,n,r;if(i=!1,!t.citationID||e){for(n=Math.floor(1e14*Math.random());;){if(r=0,!this.registry.citationreg.citationById[n]){t.citationID="a"+n.toString(32);break}n+=1==(r=!r&&n<5e13?1:-1)?1:-1}i=""+n}return this.registry.citationreg.citationById[t.citationID]=t,i},h.Engine.prototype.rebuildProcessorState=function(t,e,i){t||(t=[]),e||(e="html");for(var n={},r=[],s=0,o=t.length;s<o;s+=1)for(var a=0,l=t[s].citationItems.length;a<l;a+=1){var c=""+t[s].citationItems[a].id;n[c]||r.push(c),n[c]=!0}this.updateItems(r);var u=[],p=[],f=[],d=this.opt.mode;for(this.setOutputFormat(e),s=0,o=t.length;s<o;s+=1){var m=this.processCitationCluster(t[s],u,p,h.ASSUME_ALL_ITEMS_REGISTERED);for(u.push([t[s].citationID,t[s].properties.noteIndex]),a=0,l=m[1].length;a<l;a+=1){var g=m[1][a][0];f[g]=[u[g][0],u[g][1],m[1][a][1]]}}return this.updateUncitedItems(i),this.setOutputFormat(d),f},h.Engine.prototype.restoreProcessorState=function(t){var e,i,n,r,s,o,a,l,c,u;l=[],c=[],t||(t=[]);var p=[],f={};for(e=0,i=t.length;e<i;e+=1)f[t[e].citationID]&&this.setCitationId(t[e],!0),f[t[e].citationID]=!0,p.push(t[e].properties.index);var d=t.slice();for(d.sort((function(t,e){return t.properties.index<e.properties.index?-1:t.properties.index>e.properties.index?1:0})),e=0,i=d.length;e<i;e+=1)d[e].properties.index=e;for(e=0,i=d.length;e<i;e+=1){for(u=[],n=0,r=d[e].citationItems.length;n<r;n+=1)void 0===(s=d[e].citationItems[n]).sortkeys&&(s.sortkeys=[]),a=[o=this.retrieveItem(""+s.id),s],u.push(a),d[e].citationItems[n].item=o,c.push(""+s.id);d[e].properties.unsorted||u.sort(this.citation.srt.compareCompositeKeys),d[e].sortedItems=u,this.registry.citationreg.citationById[d[e].citationID]=d[e]}for(this.updateItems(c),e=0,i=t.length;e<i;e+=1)l.push([""+t[e].citationID,t[e].properties.noteIndex]);var m=[];return t&&t.length?m=this.processCitationCluster(t[0],[],l.slice(1)):(this.registry=new h.Registry(this),this.tmp=new h.Engine.Tmp,this.disambiguate=new h.Disambiguation(this)),m},h.Engine.prototype.updateItems=function(t,e,i,n){var r=this.tmp.area,s=this.tmp.root,o=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(e=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",n||(this.tmp.loadedItemIDs={}),this.registry.init(t),i)for(var a in this.registry.ambigcites)this.registry.ambigsTouched[a]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(e),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(e),this.registry.renumber(),this.tmp.extension=o,this.tmp.area=r,this.tmp.root=s,this.registry.getSortedIds()},h.Engine.prototype.updateUncitedItems=function(t,e){var i,n=this.tmp.area,r=this.tmp.root,s=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(e=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},t||(t=[]),"object"==typeof t)if(void 0===t.length)for(var o in i=t,t=[],i)t.push(o);else if("number"==typeof t.length){i={};for(var a=0,l=t.length;a<l;a+=1)i[t[a]]=!0}return this.registry.init(t,!0),this.registry.dopurge(i),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(e),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(e),this.registry.renumber(),this.tmp.extension=s,this.tmp.area=n,this.tmp.root=r,this.registry.getSortedIds()},h.localeResolve=function(t,e){var i,n;return e||(e="en-US"),t||(t=e),i={},n=t.split(/[\-_]/),i.base=h.LANG_BASES[n[0]],void 0===i.base?{base:e,best:t,bare:n[0]}:(1===n.length&&(i.generic=!0),1===n.length||"x"===n[1]?i.best=i.base.replace("_","-"):i.best=n.slice(0,2).join("-"),i.base=i.base.replace("_","-"),i.bare=n[0],i)},h.Engine.prototype.localeConfigure=function(t,e){var i;if((!e||!this.locale[t.best])&&("en-US"===t.best?(i=h.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(i,"en-US",t.best)):"en-US"!==t.best&&(t.base!==t.best&&(i=h.setupXml(this.sys.retrieveLocale(t.base)),this.localeSet(i,t.base,t.best)),i=h.setupXml(this.sys.retrieveLocale(t.best)),this.localeSet(i,t.best,t.best)),this.localeSet(this.cslXml,"",t.best),this.localeSet(this.cslXml,t.bare,t.best),t.base!==t.best&&this.localeSet(this.cslXml,t.base,t.best),this.localeSet(this.cslXml,t.best,t.best),void 0===this.locale[t.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(t.best.slice(0,2).toLowerCase())>-1?this.locale[t.best].terms["page-range-delimiter"]="-":this.locale[t.best].terms["page-range-delimiter"]="â"),void 0===this.locale[t.best].terms["year-range-delimiter"]&&(this.locale[t.best].terms["year-range-delimiter"]="â"),void 0===this.locale[t.best].terms["citation-range-delimiter"]&&(this.locale[t.best].terms["citation-range-delimiter"]="â"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var n=["default-locale","locale-sort","locale-translit","locale-translat"],r=0,s=n.length;r<s;r+=1)for(var o=0,a=this.opt[n[r]].length;o<a;o+=1)this.opt[n[r]][o]=this.opt[n[r]][o].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},h.Engine.prototype.localeSet=function(t,e,i){var n,r,s,o,a,l,c,u,p,f,d,m;if(e=e.replace("_","-"),i=i.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(e=e.toLowerCase(),i=i.toLowerCase()),this.locale[i]||(this.locale[i]={},this.locale[i].terms={},this.locale[i].opts={},this.locale[i].opts["skip-words"]=h.SKIP_WORDS,this.locale[i].opts["leading-noise-words"]||(this.locale[i].opts["leading-noise-words"]=[]),this.locale[i].dates={},this.locale[i].ord={"1.0.1":!1,keys:{}},this.locale[i]["noun-genders"]={}),r=t.makeXml(),t.nodeNameIs(t.dataObj,"locale"))r=t.dataObj;else{s=t.getNodesByName(t.dataObj,"locale");var g=!1;for(a=0,d=t.numberofnodes(s);a<d;a+=1)if(n=s[a],g||t.getAttributeValue(n,"lang","xml")!==e){var y=t.getAttributeValue(n,"lang","xml"),b=t.getNodesByName(n,"style-options");if(y&&b&&b.length){var _=t.getAttributeValue(b[0],"jurisdiction-preference");_&&(this.locale[y]||(this.locale[y]={opts:{}}),this.locale[y].opts["jurisdiction-preference"]=_.split(/\s+/))}}else r=n,g=!0}for(s=t.getNodesByName(r,"type"),F=0,j=t.numberofnodes(s);F<j;F+=1){var v=s[F],w=t.getAttributeValue(v,"name"),x=t.getAttributeValue(v,"gender");this.opt.gender[w]=x}if(t.getNodesByName(r,"term","ordinal").length){for(var k in this.locale[i].ord.keys)delete this.locale[i].terms[k];this.locale[i].ord={"1.0.1":!1,keys:{}}}s=t.getNodesByName(r,"term");var E={"last-digit":{},"last-two-digits":{},"whole-number":{}},A=!1,S={};for(a=0,d=t.numberofnodes(s);a<d;a+=1){if(l=s[a],"sub verbo"===(u=t.getAttributeValue(l,"name"))&&(u="sub-verbo"),"ordinal"===u.slice(0,7)){if("ordinal"===u)A=!0;else{var O,T=t.getAttributeValue(l,"match"),C=u.slice(8);(O=t.getAttributeValue(l,"gender-form"))||(O="neuter"),T||(T="last-two-digits","0"===C.slice(0,1)&&(T="last-digit")),"0"===C.slice(0,1)&&(C=C.slice(1)),E[T][C]||(E[T][C]={}),E[T][C][O]=u}this.locale[i].ord.keys[u]=!0}void 0===this.locale[i].terms[u]&&(this.locale[i].terms[u]={}),c="long",O=!1,t.getAttributeValue(l,"form")&&(c=t.getAttributeValue(l,"form")),t.getAttributeValue(l,"gender-form")&&(O=t.getAttributeValue(l,"gender-form")),t.getAttributeValue(l,"gender")&&(this.locale[i]["noun-genders"][u]=t.getAttributeValue(l,"gender")),O?(this.locale[i].terms[u][O]={},this.locale[i].terms[u][O][c]=[],m=this.locale[i].terms[u][O],S[u]=!0):(this.locale[i].terms[u][c]=[],m=this.locale[i].terms[u]),t.numberofnodes(t.getNodesByName(l,"multiple"))?(m[c][0]=t.getNodeValue(l,"single"),m[c][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),m[c][1]=t.getNodeValue(l,"multiple"),m[c][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(m[c]=t.getNodeValue(l),m[c].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[i].terms.supplement||(this.locale[i].terms.supplement={}),this.locale[i].terms.supplement.long||(this.locale[i].terms.supplement.long=["supplement","supplements"]),A){for(var N in S){var I={},L=0;for(var R in this.locale[i].terms[N])["masculine","feminine"].indexOf(R)>-1?I[R]=this.locale[i].terms[N][R]:L+=1;if(!L)if(I.feminine)for(var R in I.feminine)this.locale[i].terms[N][R]=I.feminine[R];else if(I.masculine)for(var R in I.masculine)this.locale[i].terms[N][R]=I.masculine[R]}this.locale[i].ord["1.0.1"]=E}for(u in this.locale[i].terms)for(F=0,j=2;F<j;F+=1)if(O=h.GENDERS[F],this.locale[i].terms[u][O])for(c in this.locale[i].terms[u])this.locale[i].terms[u][O][c]||(this.locale[i].terms[u][O][c]=this.locale[i].terms[u][c]);for(s=t.getNodesByName(r,"style-options"),a=0,d=t.numberofnodes(s);a<d;a+=1)for(f in p=s[a],o=t.attributes(p))if(o.hasOwnProperty(f))if("@punctuation-in-quote"===f||"@limit-day-ordinals-to-day-1"===f)"true"===o[f]?this.locale[i].opts[f.slice(1)]=!0:this.locale[i].opts[f.slice(1)]=!1;else if("@jurisdiction-preference"===f){var D=o[f].split(/\s+/);this.locale[i].opts[f.slice(1)]=D}else if("@skip-words"===f){var M=o[f].split(/\s*,\s*/);this.locale[i].opts[f.slice(1)]=M}else if("@leading-noise-words"===f){var P=o[f].split(/\s*,\s*/);this.locale[i].opts["leading-noise-words"]=P}else if("@name-as-sort-order"===f){this.locale[i].opts["name-as-sort-order"]={};for(var F=0,j=(B=o[f].split(/\s+/)).length;F<j;F+=1)this.locale[i].opts["name-as-sort-order"][B[F]]=!0}else if("@name-as-reverse-order"===f)for(this.locale[i].opts["name-as-reverse-order"]={},F=0,j=(B=o[f].split(/\s+/)).length;F<j;F+=1)this.locale[i].opts["name-as-reverse-order"][B[F]]=!0;else if("@name-never-short"===f){var B;for(this.locale[i].opts["name-never-short"]={},F=0,j=(B=o[f].split(/\s+/)).length;F<j;F+=1)this.locale[i].opts["name-never-short"][B[F]]=!0}for(s=t.getNodesByName(r,"date"),a=0,d=t.numberofnodes(s);a<d;a+=1){var $=s[a];this.locale[i].dates[t.getAttributeValue($,"form")]=$}h.SET_COURT_CLASSES(this,i,t,r)},h.getLocaleNames=function(t,e){var i=h.setupXml(t);function n(t,e){var i=["base","best"];if(e)for(var n=h.localeResolve(e),r=0,s=i.length;r<s;r++)n[i[r]]&&-1===t.indexOf(n[i[r]])&&t.push(n[i[r]])}var r=["en-US"];function s(t){for(var e=i.getNodesByName(i.dataObj,t),n=0,s=e.length;n<s;n++){var o=i.getAttributeValue(e[n],"locale");if(o)for(var a=0,l=(o=o.split(/ +/)).length;a<l;a++)this.extendLocaleList(r,o[a])}}n(r,e);var o=i.getNodesByName(i.dataObj,"style")[0],a=i.getAttributeValue(o,"default-locale");n(r,a);for(var l=0;l<4;l++)s(i);return r},h.Node={},h.Node.bibliography={build:function(t,e){this.tokentype===h.START&&(t.build.area="bibliography",t.build.root="bibliography",t.build.extension="",this.execs.push((function(t){t.tmp.area="bibliography",t.tmp.root="bibliography",t.tmp.extension=""}))),e.push(this)}},h.Node.choose={build:function(t,e){var i;this.tokentype===h.START&&(i=function(t){t.tmp.jump.push(void 0,h.LITERAL)}),this.tokentype===h.END&&(i=function(t){t.tmp.jump.pop()}),this.execs.push(i),e.push(this)},configure:function(t,e){this.tokentype===h.END?(t.configure.fail.push(e),t.configure.succeed.push(e)):(t.configure.fail.pop(),t.configure.succeed.pop())}},h.Node.citation={build:function(t,e){if(this.tokentype===h.START&&(t.build.area="citation",t.build.root="citation",t.build.extension="",this.execs.push((function(t){t.tmp.area="citation",t.tmp.root="citation",t.tmp.extension=""}))),this.tokentype===h.END){if(t.opt.grouped_sort="in-text"===t.opt.xclass&&t.citation.opt.collapse&&t.citation.opt.collapse.length||t.citation.opt.cite_group_delimiter&&t.citation.opt.cite_group_delimiter.length&&t.opt.update_mode!==h.POSITION&&t.opt.update_mode!==h.NUMERIC,t.opt.grouped_sort&&t.citation_sort.opt.sort_directions.length){var i=t.citation_sort.opt.sort_directions[0].slice();t.citation_sort.opt.sort_directions=[i].concat(t.citation_sort.opt.sort_directions)}t.citation.srt=new h.Registry.Comparifier(t,"citation_sort")}e.push(this)}},h.Node["#comment"]={build:function(){}},h.Node.date={build:function(t,e){var i,n,r,s,o,a,l,c,u,p;this.tokentype!==h.START&&this.tokentype!==h.SINGLETON||(t.dateput.string(t,t.dateput.queue),t.tmp.date_token=h.Util.cloneToken(this),t.tmp.date_token.strings.prefix="",t.tmp.date_token.strings.suffix="",t.dateput.openLevel(this),t.build.date_parts=[],t.build.date_variables=this.variables,t.build.extension||h.Util.substituteStart.call(this,t,e),i=t.build.extension?h.dateMacroAsSortKey:function(t,e,i){var h;if(t.tmp.element_rendered_ok=!1,t.tmp.donesies=[],t.tmp.dateparts=[],h=[],!this.variables.length||t.tmp.just_looking&&"accessed"===this.variables[0])t.tmp.date_object=!1;else{for(void 0===(n=e[this.variables[0]])&&(n={"date-parts":[[0]]},t.opt.development_extensions.locator_date_and_revision&&i&&"locator-date"===this.variables[0]&&i["locator-date"]&&(n=i["locator-date"])),t.tmp.date_object=n,r=this.dateparts.length,s=0;s<r;s+=1)o=this.dateparts[s],(void 0!==t.tmp.date_object[o+"_end"]||"month"===o&&void 0!==t.tmp.date_object.season_end)&&h.push(o);for(a=[],r=(l=["year","month","day"]).length,s=0;s<r;s+=1)h.indexOf(l[s])>-1&&a.push(l[s]);for(h=a.slice(),c=2,r=h.length,s=0;s<r;s+=1)if(o=h[s],u=t.tmp.date_object[o],p=t.tmp.date_object[o+"_end"],u!==p){c=s;break}t.tmp.date_collapse_at=h.slice(c)}},this.execs.push(i),i=function(t,e){if(e[this.variables[0]]&&(t.output.startTag("date",this),"issued"===this.variables[0]&&("legal_case"===e.type||"legislation"===e.type)&&-1===t.opt.disable_duplicate_year_suppression.indexOf(e.country)&&!t.tmp.extension&&""+e["collection-number"]==""+t.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var i in t.tmp.date_object)if(t.tmp.date_object.hasOwnProperty(i)&&"year"===i.slice(0,4)){t.tmp.issued_date={};var n=t.output.current.mystack.slice(-2)[0].blobs;t.tmp.issued_date.list=n,t.tmp.issued_date.pos=n.length-1}},this.execs.push(i)),t.build.extension||this.tokentype!==h.END&&this.tokentype!==h.SINGLETON||(i=function(t,e){e[this.variables[0]]&&t.output.endTag()},this.execs.push(i)),e.push(this),this.tokentype!==h.END&&this.tokentype!==h.SINGLETON||t.build.extension||h.Util.substituteEnd.call(this,t,e)}},h.Node["date-part"]={build:function(t,e){var i,n,r,s,o,a,l,c,u,p,f,d,m,g,y,b,_,v,w,x;this.strings.form||(this.strings.form="long"),t.build.date_parts.push(this.strings.name);var k=t.build.date_variables[0];function E(e,i,n){if(!n)return n;if(n=""+h.Util.Dates[this.strings.name][e](t,n,i,this.default_locale),"month"===this.strings.name)if(t.tmp.strip_periods)n=n.replace(/\./g,"");else for(var r=0,s=this.decorations.length;r<s;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){n=n.replace(/\./g,"");break}return n}i=function(t,e){if(t.tmp.date_object){t.tmp.probably_rendered_something=!0;var i="";if(s=!0,o="",a="",t.tmp.donesies.push(this.strings.name),t.tmp.date_object.literal&&"year"===this.strings.name&&(i=t.tmp.date_object.literal,t.output.append(t.tmp.date_object.literal,this)),t.tmp.date_object&&(o=t.tmp.date_object[this.strings.name],a=t.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==o||t.tmp.suppress_decorations||(o=!1),l=!t.tmp.suppress_decorations,c=t.tmp.have_collapsed,u="year-suffix"===t[t.tmp.area].opt.collapse||"year-suffix-ranged"===t[t.tmp.area].opt.collapse,p=t.opt["disambiguate-add-year-suffix"],l&&p&&u&&(t.tmp.years_used.push(o),t.tmp.last_years_used.length>=t.tmp.years_used.length&&c&&t.tmp.last_years_used[t.tmp.years_used.length-1]===o&&(o=!1)),void 0!==o){f=!1,d=!1,"year"===this.strings.name&&(parseInt(o,10)<500&&parseInt(o,10)>0&&(d=t.getTerm("ad")),parseInt(o,10)<0&&(f=t.getTerm("bc"),o=-1*parseInt(o,10)),a&&(parseInt(a,10)<500&&parseInt(a,10)>0&&t.getTerm("ad"),parseInt(a,10)<0&&(t.getTerm("bc"),a=-1*parseInt(a,10))));for(var A=""+t.tmp.date_object.month;A.length<2;)A="0"+A;A="month-"+A;var S=t.locale[t.opt.lang]["noun-genders"][A];if(this.strings.form){var O=this.strings.form,T=this.strings.form;"day"===this.strings.name&&"ordinal"===O&&t.locale[t.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(1!=o&&(O="numeric"),1!=a&&(T="numeric")),o=E.call(this,O,S,o),a=E.call(this,T,S,a)}if(t.output.openLevel("empty"),t.tmp.date_collapse_at.length){for(m=!0,r=t.tmp.date_collapse_at.length,n=0;n<r;n+=1)if(w=t.tmp.date_collapse_at[n],-1===t.tmp.donesies.indexOf(w)){m=!1;break}if(m){if(""+a!="0"){if(0===t.dateput.queue.length&&(s=!0),t.opt["year-range-format"]&&"expanded"!==t.opt["year-range-format"]&&!t.tmp.date_object.day&&!t.tmp.date_object.month&&!t.tmp.date_object.season&&"year"===this.strings.name&&o&&a){a=t.fun.year_mangler(o+"-"+a,!0);var C=t.getTerm("year-range-delimiter");a=a.slice(a.indexOf(C)+1)}i=a,t.dateput.append(a,this),s&&(x=t.dateput.current.value().blobs[0])&&(x.strings.prefix="")}i=o,t.output.append(o,this),g=t.output.current.value(),(x=g.blobs[g.blobs.length-1])&&(x.strings.suffix=""),this.strings["range-delimiter"]?t.output.append(this.strings["range-delimiter"]):t.output.append(t.getTerm("year-range-delimiter"),"empty"),t.dateput.closeLevel(),y=t.dateput.current.value(),g.blobs=g.blobs.concat(y),t.dateput.string(t,t.dateput.queue),t.dateput.openLevel(t.tmp.date_token),t.tmp.date_collapse_at=[]}else i=o,t.output.append(o,this),t.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+a!="0"&&(0===t.dateput.queue.length&&(s=!0),t.dateput.openLevel("empty"),i=a,t.dateput.append(a,this),s&&(x=t.dateput.current.value().blobs[0])&&(x.strings.prefix=""),f&&(i=f,t.dateput.append(f)),d&&(i=d,t.dateput.append(d)),t.dateput.closeLevel())}else i=o,t.output.append(o,this);f&&(i=f,t.output.append(f)),d&&(i=d,t.output.append(d)),t.output.closeLevel()}else"month"===this.strings.name&&t.tmp.date_object.season&&((o=""+t.tmp.date_object.season)&&o.match(/^[1-4]$/)?(t.tmp.group_context.tip.variable_success=!0,i="winter",t.output.append(t.getTerm("season-0"+o),this)):o&&(i=o,t.output.append(o,this)));t.tmp.value=[],!e[k]||!o&&!t.tmp.have_collapsed||t.opt.has_year_suffix||"year"!==this.strings.name||t.tmp.just_looking||t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.has_done_year_suffix&&(t.tmp.has_done_year_suffix=!0,i="x",_=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),b=new h.NumericBlob(t,!1,_,this,e.id),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,v=new h.Util.Suffixator(h.SUFFIX_CHARS),b.setFormatter(v),"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(b.range_prefix=t.getTerm("citation-range-delimiter")),t[t.tmp.area].opt.cite_group_delimiter?b.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter:t[t.tmp.area].opt["year-suffix-delimiter"]?b.successor_prefix=t[t.tmp.area].opt["year-suffix-delimiter"]:b.successor_prefix=t[t.tmp.area].opt.layout_delimiter,b.UGLY_DELIMITER_SUPPRESS_HACK=!0,t.output.append(b,"literal")),i&&!t.tmp.group_context.tip.condition&&(t.tmp.just_did_number=i.match(/[0-9]$/),t.output.current.tip.strings.suffix&&(t.tmp.just_did_number=!1))}},this.execs.push(i),e.push(this)}},h.Node["else-if"]={build:function(t,e){h.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){h.Conditions.Configure.call(this,t,e)}},h.Node.else={build:function(t,e){e.push(this)},configure:function(t,e){this.tokentype===h.START&&(t.configure.fail[t.configure.fail.length-1]=e)}},h.Node["et-al"]={build:function(t,e){"citation"!==t.build.area&&"bibliography"!==t.build.area||this.execs.push((function(t){t.tmp.etal_node=this,"string"==typeof this.strings.term&&(t.tmp.etal_term=this.strings.term)})),e.push(this)}},h.Node.group={build:function(t,e,i){var n,r,s;if(this.realGroup=i,this.tokentype===h.START&&(h.Util.substituteStart.call(this,t,e),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()+1),this.juris||e.push(this),n=function(t){if(t.output.startTag("group",this),this.strings.label_form_override&&(t.tmp.group_context.tip.label_form||(t.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(t.tmp.group_context.tip.label_capitalize_if_first||(t.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){t.tmp.group_context.tip.condition&&h.UPDATE_GROUP_CONTEXT_CONDITION(t,this.strings.prefix,null,this);var e=!1,i=!1;t.tmp.group_context.mystack.length&&(t.output.current.value().parent=t.tmp.group_context.tip.output_tip);var n=t.tmp.group_context.tip.label_form;n||(n=this.strings.label_form_override);var r=t.tmp.group_context.tip.label_capitalize_if_first;r||(r=this.strings.label_capitalize_if_first),t.tmp.group_context.tip.condition?(e=t.tmp.group_context.tip.condition,i=t.tmp.group_context.tip.force_suppress):this.strings.reject?e={test:this.strings.reject,not:!0}:this.strings.require&&(e={test:this.strings.require,not:!1});var s={old_term_predecessor:t.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:t.tmp.group_context.tip.variable_success,output_tip:t.output.current.tip,label_form:n,label_static:t.tmp.group_context.tip.label_static,label_capitalize_if_first:r,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:e,force_suppress:i,done_vars:t.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var o=t.tmp.group_context.tip.non_parallel;o||(o={}),Object.assign(o,this.non_parallel),s.non_parallel=o}if(this.parallel_first){var a=t.tmp.group_context.tip.parallel_first;a||(a={}),Object.assign(a,this.parallel_first),s.parallel_first=a}if(this.parallel_last){var l=t.tmp.group_context.tip.parallel_last;l||(l={}),Object.assign(l,this.parallel_last),s.parallel_last=l}if(t.tmp.abbrev_trimmer&&t.tmp.abbrev_trimmer.LAST_TO_FIRST&&s.parallel_last)for(var c in s.parallel_first||(s.parallel_first={}),t.tmp.abbrev_trimmer.LAST_TO_FIRST)s.parallel_last[c]&&(s.parallel_first[c]=!0,delete s.parallel_last[c]);if(t.tmp.group_context.push(s),t.tmp.abbrev_trimmer&&this.parallel_last_to_first)for(var c in t.tmp.abbrev_trimmer.LAST_TO_FIRST||(t.tmp.abbrev_trimmer.LAST_TO_FIRST={}),this.parallel_last_to_first)t.tmp.abbrev_trimmer.LAST_TO_FIRST[c]=!0}},(r=[]).push(n),this.execs=r.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(t.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(n=function(t,e){if(e.publisher&&e["publisher-place"]){var i=e.publisher.split(/;\s*/),n=e["publisher-place"].split(/;\s*/);i.length>1&&i.length===n.length&&(t.publisherOutput=new h.PublisherOutput(t,this),t.publisherOutput["publisher-list"]=i,t.publisherOutput["publisher-place-list"]=n)}},this.execs.push(n))),this.juris)){var o=new h.Token("choose",h.START);h.Node.choose.build.call(o,t,e);var a=new h.Token("if",h.START);s=this.juris,n=function(e,i){return h.INIT_JURISDICTION_MACROS(t,e,i,s)},a.tests||(a.tests=[]),a.tests.push(n),a.test=t.fun.match.any(a,t,a.tests),e.push(a);var l=new h.Token("text",h.SINGLETON);n=function(t,e,i){var n=e;i&&i["best-jurisdiction"]&&"juris-locator"===this.juris&&(n=i);var r=0;if(t.juris[n["best-jurisdiction"]][this.juris])for(;r<t.juris[n["best-jurisdiction"]][this.juris].length;)r=h.tokenExec.call(t,t.juris[n["best-jurisdiction"]][this.juris][r],e,i)},l.juris=this.juris,l.execs.push(n),e.push(l);var c=new h.Token("if",h.END);h.Node.if.build.call(c,t,e);var u=new h.Token("else",h.START);h.Node.else.build.call(u,t,e)}if(this.tokentype===h.END&&(t.build["publisher-special"]&&(t.build["publisher-special"]=!1,n=function(t){t.publisherOutput&&(t.publisherOutput.render(),t.publisherOutput=!1)},this.execs.push(n)),n=function(t,e,i){if(t.tmp.group_context.tip.condition||t.output.current.tip.strings.suffix&&(t.tmp.just_did_number=!1),t.output.endTag(),this.realGroup){var n=t.tmp.group_context.pop();if(n.parallel_delimiter_override&&(t.tmp.group_context.tip.parallel_delimiter_override=n.parallel_delimiter_override,!t.tmp.just_looking&&t.registry.registry[e.id].master&&(t.registry.registry[e.id].parallel_delimiter_override=n.parallel_delimiter_override)),n.parallel_delimiter_override_on_suppress&&(t.tmp.group_context.tip.parallel_delimiter_override_on_suppress=n.parallel_delimiter_override_on_suppress),"bibliography_sort"===t.tmp.area){var r=n.done_vars.indexOf("citation-number");this.strings.sort_direction&&r>-1&&1==t.tmp.group_context.length()&&(this.strings.sort_direction===h.DESCENDING?t.bibliography_sort.opt.citation_number_sort_direction=h.DESCENDING:t.bibliography_sort.opt.citation_number_sort_direction=h.ASCENDING,n.done_vars=n.done_vars.slice(0,r).concat(n.done_vars.slice(r+1)))}if(n.condition&&(n.force_suppress=h.EVALUATE_GROUP_CONDITION(t,n)),t.tmp.group_context.tip.condition&&(t.tmp.group_context.tip.force_suppress=n.force_suppress),!n.force_suppress&&(n.variable_success||n.term_intended&&!n.variable_attempt)){this.isJurisLocatorLabel||(t.tmp.group_context.tip.variable_success=!0);var s=t.output.current.value().blobs;if(t.output.current.value().blobs.length,!t.tmp.just_looking&&(n.non_parallel||n.parallel_last||n.parallel_first||n.parallel_delimiter_override||n.parallel_delimiter_override_on_suppress)){var o=t.parallel.checkRepeats(n);if(o&&s&&s.pop(),t.tmp.cite_index>0&&(o||!n.parallel_first&&!n.parallel_last&&!n.non_parallel)){var a=t.tmp.suppress_repeats[t.tmp.cite_index-1];o&&n.parallel_delimiter_override_on_suppress&&(a.SIBLING||a.ORPHAN)?t.output.queue.slice(-1)[0].parallel_delimiter=n.parallel_delimiter_override_on_suppress:n.parallel_delimiter_override&&a.SIBLING&&(t.output.queue.slice(-1)[0].parallel_delimiter=n.parallel_delimiter_override)}}}else{if(t.tmp.term_predecessor=n.old_term_predecessor,t.tmp.group_context.tip.variable_attempt=n.variable_attempt,n.force_suppress&&!t.tmp.group_context.tip.condition&&(t.tmp.group_context.tip.variable_attempt=!0,t.tmp.group_context.tip.variable_success=n.variable_success_parent),n.force_suppress)for(var l=0,c=n.done_vars.length;l<c;l++)for(var u=n.done_vars[l],p=0,f=t.tmp.done_vars.length;p<f;p++)t.tmp.done_vars[p]===u&&(t.tmp.done_vars=t.tmp.done_vars.slice(0,p).concat(t.tmp.done_vars.slice(p+1)));t.output.current.value().blobs&&t.output.current.value().blobs.pop()}}},this.execs.push(n),this.juris)){var p=new h.Token("else",h.END);h.Node.else.build.call(p,t,e);var f=new h.Token("choose",h.END);h.Node.choose.build.call(f,t,e)}this.tokentype===h.END&&(this.juris||e.push(this),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()-1),h.Util.substituteEnd.call(this,t,e))}},h.Node.if={build:function(t,e){h.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){h.Conditions.Configure.call(this,t,e)}},h.Node.conditions={build:function(t){this.tokentype===h.START&&t.tmp.conditions.addMatch(this.match),this.tokentype===h.END&&t.tmp.conditions.matchCombine()}},h.Node.condition={build:function(t){if(this.tokentype===h.SINGLETON){var e=t.fun.match[this.match](this,t,this.tests);t.tmp.conditions.addTest(e)}}},h.Conditions={},h.Conditions.TopNode=function(t){var e;this.tokentype!==h.START&&this.tokentype!==h.SINGLETON||(this.locale&&(t.opt.lang=this.locale),this.tests&&this.tests.length?this.test=t.fun.match[this.match](this,t,this.tests):t.tmp.conditions=new h.Conditions.Engine(t,this),0===t.build.substitute_level.value()&&(e=function(t){t.tmp.condition_counter++},this.execs.push(e))),this.tokentype!==h.END&&this.tokentype!==h.SINGLETON||(0===t.build.substitute_level.value()&&(e=function(t){t.tmp.condition_counter--,t.tmp.condition_lang_counter_arr.length>0&&t.tmp.condition_lang_counter_arr.slice(-1)[0]===t.tmp.condition_counter&&(t.opt.lang=t.tmp.condition_lang_val_arr.pop(),t.tmp.condition_lang_counter_arr.pop()),this.locale_default&&(t.output.current.value().old_locale=this.locale_default,t.output.closeLevel("empty"),t.opt.lang=this.locale_default)},this.execs.push(e)),e=function(t){return this[t.tmp.jump.value()]},this.execs.push(e),this.locale_default&&(t.opt.lang=this.locale_default))},h.Conditions.Configure=function(t,e){this.tokentype===h.START?(this.fail=t.configure.fail.slice(-1)[0],this.succeed=this.next,t.configure.fail[t.configure.fail.length-1]=e):this.tokentype===h.SINGLETON?(this.fail=this.next,this.succeed=t.configure.succeed.slice(-1)[0],t.configure.fail[t.configure.fail.length-1]=e):(this.succeed=t.configure.succeed.slice(-1)[0],this.fail=this.next)},h.Conditions.Engine=function(t,e){this.token=e,this.state=t},h.Conditions.Engine.prototype.addTest=function(t){this.token.tests||(this.token.tests=[]),this.token.tests.push(t)},h.Conditions.Engine.prototype.addMatch=function(t){this.token.match=t},h.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},h.Node.info={build:function(t){this.tokentype===h.START?t.build.skip="info":t.build.skip=!1}},h.Node.institution={build:function(t,e){[h.SINGLETON,h.START].indexOf(this.tokentype)>-1&&this.execs.push((function(t){"string"==typeof this.strings.delimiter?t.tmp.institution_delimiter=this.strings.delimiter:t.tmp.institution_delimiter=t.tmp.name_delimiter,"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")?t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&":"none"===t.inheritOpt(this,"and")&&(this.and_term=t.tmp.institution_delimiter),void 0===this.and_term&&t.tmp.and_term&&(this.and_term=t.tmp.and_term),h.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.institution_delimiter&&(this.and_prefix_multiple=t.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.institution_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},void 0!==this.and_term?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new h.Blob(t.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new h.Blob(t.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),t.nameOutput.institution=this})),e.push(this)},configure:function(t){[h.SINGLETON,h.START].indexOf(this.tokentype)>-1&&(t.build.has_institution=!0)}},h.Node["institution-part"]={build:function(t,e){var i;"long"===this.strings.name?i=this.strings["if-short"]?function(t){t.nameOutput.institutionpart["long-with-short"]=this}:function(t){t.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(i=function(t){t.nameOutput.institutionpart.short=this}),this.execs.push(i),e.push(this)}},h.Node.key={build:function(t,e){var i;e=t[t.build.root+"_sort"].tokens;var n=new h.Token("key",h.START);t.tmp.root=t.build.root,n.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),n.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),n.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),i=function(t){t.tmp.done_vars=[]},n.execs.push(i),i=function(t){t.output.openLevel("empty")},n.execs.push(i);var r=[];if(this.strings.sort_direction===h.DESCENDING?(r.push(1),r.push(-1)):(r.push(-1),r.push(1)),t[t.build.area].opt.sort_directions.push(r),h.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(t.build.date_key=!0),i=function(t){t.tmp.sort_key_flag=!0,t.inheritOpt(this,"et-al-min")&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),t.inheritOpt(this,"et-al-use-first")&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"boolean"==typeof t.inheritOpt(this,"et-al-use-last")&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"))},n.execs.push(i),e.push(n),this.variables.length){var s=this.variables[0];if(h.NAME_VARIABLES.indexOf(s)>-1){var o=new h.Token("names",h.START);o.tokentype=h.START,o.variables=this.variables,h.Node.names.build.call(o,t,e);var a=new h.Token("name",h.SINGLETON);a.tokentype=h.SINGLETON,a.strings["name-as-sort-order"]="all",a.strings["sort-separator"]=" ",a.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),a.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),a.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),h.Node.name.build.call(a,t,e);var l=new h.Token("institution",h.SINGLETON);l.tokentype=h.SINGLETON,h.Node.institution.build.call(l,t,e);var c=new h.Token("names",h.END);c.tokentype=h.END,h.Node.names.build.call(c,t,e)}else{var u=new h.Token("text",h.SINGLETON);u.strings.sort_direction=this.strings.sort_direction,u.dateparts=this.dateparts,h.NUMERIC_VARIABLES.indexOf(s)>-1?i="citation-number"===s?function(t,e){if("bibliography_sort"===t.tmp.area&&(this.strings.sort_direction===h.DESCENDING?t.bibliography_sort.opt.citation_number_sort_direction=h.DESCENDING:t.bibliography_sort.opt.citation_number_sort_direction=h.ASCENDING),"citation_sort"===t.tmp.area&&t.bibliography_sort.tmp.citation_number_map)var i=t.bibliography_sort.tmp.citation_number_map[t.registry.registry[e.id].seq];else i=t.registry.registry[e.id].seq;i&&(i=h.Util.padding(""+i)),t.output.append(i,this)}:function(t,e){var i=!1;(i=e[s])&&(i=h.Util.padding(i)),t.output.append(i,this)}:"citation-label"===s?i=function(t,e){var i=t.getCitationLabel(e);t.output.append(i,this)}:h.DATE_VARIABLES.indexOf(s)>-1?(i=h.dateAsSortKey,u.variables=this.variables):i="title"===s?t.transform.getOutputFunction(this.variables,"title",!1,!1,!0):"court-class"===s?function(t,e,i){h.INIT_JURISDICTION_MACROS(t,e,i,"juris-main");var n=h.GET_COURT_CLASS(t,e,!0);t.output.append(n,"empty")}:function(t,e){var i=e[s];t.output.append(i,"empty")},u.execs.push(i),e.push(u)}}else{var p=new h.Token("text",h.SINGLETON);p.strings.sort_direction=this.strings.sort_direction,p.postponed_macro=this.postponed_macro,h.expandMacro.call(t,p,e)}var f=new h.Token("key",h.END);i=function(t){var e=t.output.string(t,t.output.queue);t.sys.normalizeUnicode&&(e=t.sys.normalizeUnicode(e)),""===(e=e?e.split(" ").join(t.opt.sort_sep)+t.opt.sort_sep:"")&&(e=void 0),"string"!=typeof e&&(e=void 0),t[t[t.tmp.area].root+"_sort"].keys.push(e),t.tmp.value=[]},f.execs.push(i),t.build.date_key&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t[t.build.area].opt.sort_directions.push([-1,1]),i=function(t,e){var i=t.registry.registry[e.id].disambig.year_suffix;i||(i=0);var n=h.Util.padding(""+i);t[t.tmp.area].keys.push(n)},f.execs.push(i)),t.build.date_key=!1),i=function(t){t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-use-last"]=void 0,t.tmp.sort_key_flag=!1},f.execs.push(i),e.push(f)}},h.Node.label={build:function(t,e){if(this.strings.term)this.execs.push((function(t,e,i){var n=h.evaluateLabel(this,t,e,i);i&&"locator"===this.strings.term&&(i.section_form_override=this.strings.form),n&&(t.tmp.group_context.tip.term_intended=!0),h.UPDATE_GROUP_CONTEXT_CONDITION(t,n,null,this),-1===n.indexOf("%s")&&(this.strings.capitalize_if_first&&(t.tmp.term_predecessor||"in-text"===t.opt.class&&"citation"===t.tmp.area||(n=h.Output.Formatters["capitalize-first"](t,n))),t.output.append(n,this))}));else{this.strings.form||(this.strings.form="long");for(var i=t.build.names_variables[t.build.names_variables.length-1],n=t.build.name_label[t.build.name_label.length-1],r=0,s=i.length;r<s;r+=1)n[i[r]]||(n[i[r]]={});if(t.build.name_flag)for(r=0,s=i.length;r<s;r+=1)n[i[r]].after=this;else for(r=0,s=i.length;r<s;r+=1)n[i[r]].before=this}e.push(this)}},h.Node.layout={build:function(t,e){var i,n,r,s,o;function a(){"bibliography"===t.build.area&&(r=new h.Token("text",h.SINGLETON),i=function(t){if(!t.tmp.parallel_and_not_last){var e;e=t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale]?t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale].suffix:t.bibliography.opt.layout_suffix;var i=t.output.current.value();t.opt.using_display?i.blobs[i.blobs.length-1].strings.suffix=e:i.strings.suffix=e}t.bibliography.opt["second-field-align"]&&t.output.endTag("bib_other")},r.execs.push(i),e.push(r))}if(this.tokentype===h.START&&(this.locale_raw?t.build.current_default_locale=this.locale_raw:t.build.current_default_locale=t.opt["default-locale"],i=function(t,e,i){if(t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area){var n=new h.Token("group",h.START);n.decorations=[["@cite","entry"]],t.output.startTag("cite_entry",n),t.output.current.value().item_id=e.system_id,i&&(t.output.current.value().locator_txt=i.locator_txt,t.output.current.value().suffix_txt=i.suffix_txt)}},this.execs.push(i)),this.tokentype!==h.START||t.tmp.cite_affixes[t.build.area]||(i=function(t,e,i){if(t.tmp.done_vars=[],i&&i["author-only"]&&t.tmp.done_vars.push("locator"),t.opt.suppressedJurisdictions[e.country]&&e.country&&-1===["treaty","patent"].indexOf(e.type)&&t.tmp.done_vars.push("country"),!t.tmp.just_looking&&t.registry.registry[e.id]&&t.registry.registry[e.id].parallel&&t.tmp.done_vars.push("first-reference-note-number"),!t.tmp.just_looking&&t.tmp.abbrev_trimmer&&e.jurisdiction)for(var n in t.tmp.abbrev_trimmer.QUASHES[e.jurisdiction])t.tmp.done_vars.push(n);t.tmp.rendered_name=!1},this.execs.push(i),i=function(t){t.tmp.sort_key_flag=!1},this.execs.push(i),i=function(t){t.tmp.nameset_counter=0},this.execs.push(i),i=function(t,e){var i=new h.Token;t.output.openLevel(i)},this.execs.push(i),e.push(this),"citation"===t.build.area&&(n=new h.Token("text",h.SINGLETON),i=function(t,e,i){if(i&&i.prefix){var n=h.checkPrefixSpaceAppend(t,i.prefix);t.tmp.just_looking||(n=t.output.checkNestedBrace.update(n));var r=h.checkIgnorePredecessor(t,n);t.output.append(n,this,!1,r)}},n.execs.push(i),e.push(n))),this.locale_raw&&((o=new h.Token("dummy",h.START)).locale=this.locale_raw,o.strings.delimiter=this.strings.delimiter,o.strings.suffix=this.strings.suffix,t.tmp.cite_affixes[t.build.area]||(t.tmp.cite_affixes[t.build.area]={})),this.tokentype===h.START&&(t.build.layout_flag=!0,this.locale_raw||(t[t.tmp.area].opt.topdecor=[this.decorations],t[t.tmp.area+"_sort"].opt.topdecor=[this.decorations],t[t.build.area].opt.layout_prefix=this.strings.prefix,t[t.build.area].opt.layout_suffix=this.strings.suffix,t[t.build.area].opt.layout_delimiter=this.strings.delimiter,t[t.build.area].opt.layout_decorations=this.decorations,t.tmp.cite_affixes[t.build.area]&&(s=new h.Token("else",h.START),h.Node.else.build.call(s,t,e))),this.locale_raw)){if(t.build.layout_locale_flag)o.name="else-if",h.Attributes["@locale-internal"].call(o,t,this.locale_raw),h.Node["else-if"].build.call(o,t,e);else{var l=new h.Token("choose",h.START);h.Node.choose.build.call(l,t,e),o.name="if",h.Attributes["@locale-internal"].call(o,t,this.locale_raw),h.Node.if.build.call(o,t,e)}t.tmp.cite_affixes[t.build.area][o.locale]={},t.tmp.cite_affixes[t.build.area][o.locale].delimiter=this.strings.delimiter,t.tmp.cite_affixes[t.build.area][o.locale].suffix=this.strings.suffix}this.tokentype===h.END&&(this.locale_raw&&(a(),t.build.layout_locale_flag?(o.name="else-if",o.tokentype=h.END,h.Attributes["@locale-internal"].call(o,t,this.locale_raw),h.Node["else-if"].build.call(o,t,e)):(o.name="if",o.tokentype=h.END,h.Attributes["@locale-internal"].call(o,t,this.locale_raw),h.Node.if.build.call(o,t,e),t.build.layout_locale_flag=!0)),this.locale_raw||(a(),t.tmp.cite_affixes[t.build.area]&&t.build.layout_locale_flag&&(s=new h.Token("else",h.END),h.Node.else.build.call(s,t,e),s=new h.Token("choose",h.END),h.Node.choose.build.call(s,t,e)),t.build_layout_locale_flag=!0,"citation"===t.build.area&&(r=new h.Token("text",h.SINGLETON),i=function(t,e,i){if(i&&i.suffix){var n=h.checkSuffixSpacePrepend(t,i.suffix);t.tmp.just_looking||(n=t.output.checkNestedBrace.update(n)),t.output.append(n,this)}},r.execs.push(i),e.push(r)),i=function(t){t.output.closeLevel()},this.execs.push(i),i=function(t,e){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&t.output.endTag()},this.execs.push(i),e.push(this),t.build.layout_flag=!1,t.build.layout_locale_flag=!1))}},h.Node.macro={build:function(){}},h.Node.alternative={build:function(t,e){if(this.tokentype===h.START){var i=new h.Token("choose",h.START);h.Node.choose.build.call(i,t,e);var n=new h.Token("if",h.START);h.Attributes["@alternative-node-internal"].call(n,t),h.Node.if.build.call(n,t,e);var r=function(t,e){if(t.tmp.oldItem=e,t.tmp.oldLang=t.opt.lang,t.tmp.abort_alternative=!0,e["language-name"]&&e["language-name-original"]){var i=JSON.parse(JSON.stringify(e));i.language=i["language-name"];var n=h.localeResolve(i.language,t.opt["default-locale"][0]);if(t.opt.multi_layout)for(var r in t.opt.multi_layout){var s=t.opt.multi_layout[r],o=!1;for(var a in s){var l=s[a];if(n.best===l.best||n.base===l.base||n.bare===l.bare){o=s[0].best;break}}o||(o=t.opt["default-locale"][0]),t.opt.lang=o}for(var c in i)if(-1===["id","type","language","multi"].indexOf(c)&&"alt-"!==c.slice(0,4))if(i.multi&&i.multi._keys[c]){var u=!0;for(var p in i.multi._keys[c])if(n.bare===p.replace(/^([a-zA-Z]+).*/,"$1")){u=!1;break}u&&delete i[c]}else delete i[c];for(var c in i)"alt-"===c.slice(0,4)?(i[c.slice(4)]=i[c],t.tmp.abort_alternative=!1):i.multi&&i.multi._keys&&!i["alt-"+c]&&i.multi._keys[c]&&(i.multi._keys[c][n.best]?(i[c]=i.multi._keys[c][n.best],t.tmp.abort_alternative=!1):i.multi._keys[c][n.base]?(i[c]=i.multi._keys[c][n.base],t.tmp.abort_alternative=!1):i.multi._keys[c][n.bare]&&(i[c]=i.multi._keys[c][n.bare],t.tmp.abort_alternative=!1))}t.output.openLevel(this),t.registry.refhash[e.id]=i,t.nameOutput=new h.NameOutput(t,i)};this.execs.push(r),e.push(this),i=new h.Token("choose",h.START),h.Node.choose.build.call(i,t,e),n=new h.Token("if",h.START),h.Attributes["@alternative-node-internal"].call(n,t),r=function(t){t.tmp.abort_alternative=!0},n.execs.push(r),h.Node.if.build.call(n,t,e)}else this.tokentype===h.END&&(n=new h.Token("if",h.END),h.Node.if.build.call(n,t,e),i=new h.Token("choose",h.END),h.Node.choose.build.call(i,t,e),r=function(t,e){t.output.closeLevel(),t.registry.refhash[e.id]=t.tmp.oldItem,t.opt.lang=t.tmp.oldLang,t.nameOutput=new h.NameOutput(t,t.tmp.oldItem),t.tmp.abort_alternative=!1},this.execs.push(r),e.push(this),n=new h.Token("if",h.END),h.Node.if.build.call(n,t,e),i=new h.Token("choose",h.END),h.Node.choose.build.call(i,t,e))}},h.Node["alternative-text"]={build:function(t,e){this.tokentype===h.SINGLETON&&this.execs.push((function(t,e){e=t.refetchItem(e.id),h.getCite.call(t,e)})),e.push(this)}},h.NameOutput=function(t,e,i){this.debug=!1,this.state=t,this.debug&&this.state.sys.print("(1)"),this.Item=e,this.item=i,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},h.NameOutput.prototype.init=function(t){this.requireMatch=t.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=t,this.variables=t.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var e=0,i=this.variables.length;e<i;e+=1)this.Item[this.variables[e]]&&this.Item[this.variables[e]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[e]]));if(this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length&&this.checkCommonAuthor(this.requireMatch)){for(var e in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var n=this.state.tmp.done_vars.indexOf(this.variables[e]);n>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,n).concat(this.state.tmp.done_vars.slice(e+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}},h.NameOutput.prototype.reinit=function(t,e){if(this.requireMatch=t.requireMatch,this.labelVariable=e,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=t.variables;var i=this.state.tmp.value.slice();this.state.tmp.value=[];for(var n=0,r=this.variables.length;n<r;n+=1)this.Item[this.variables[n]]&&this.Item[this.variables[n]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[n]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,h.LITERAL),this.state.tmp.value=i}if(this.checkCommonAuthor(this.requireMatch)){for(var n in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var s=this.state.tmp.done_vars.indexOf(this.variables[n]);s>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,s).concat(this.state.tmp.done_vars.slice(n+1)))}this.variables=[]}},h.NameOutput.prototype.outputNames=function(){var t=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=h.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",d=0,m=this.family.execs.length;d<m;d+=1)this.family.execs[d].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=h.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",d=0,m=this.given.execs.length;d<m;d+=1)this.given.execs[d].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&this.state.sys.print("(2)"),this.getEtAlConfig(),this.debug&&this.state.sys.print("(3)"),this.divideAndTransliterateNames(),this.debug&&this.state.sys.print("(4)"),this.truncatePersonalNameLists(),this.debug&&this.state.sys.print("(5)"),this.debug&&this.state.sys.print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&this.state.sys.print("(7)"),"count"!==this.name.strings.form){this.debug&&this.state.sys.print("(8)"),this.setEtAlParameters(),this.debug&&this.state.sys.print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&this.state.sys.print("(10)"),this.renderAllNames(),this.debug&&this.state.sys.print("(11)");var e=[];for(d=0,m=t.length;d<m;d+=1){var i=t[d],n=[],r=!1,s=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){this.debug&&this.state.sys.print("(11a)");for(var o=0,a=this.institutions[i].length;o<a;o+=1)n.push(this.joinPersonsAndInstitutions([this.persons[i][o],this.institutions[i][o]]));if(this.debug&&this.state.sys.print("(11b)"),this.institutions[i].length){var l=this.nameset_base+this.variable_offset[i];this.freeters[i].length&&(l+=1),r=this.joinInstitutionSets(n,l)}this.debug&&this.state.sys.print("(11c)"),s=this.joinFreetersAndInstitutionSets([this.freeters[i],r]),this.debug&&this.state.sys.print("(11d)")}else s=this._join([this.freeters[i]],"");if(s&&(this.state.tmp.extension||(s=this._applyLabels(s,i)),e.push(s)),this.debug&&this.state.sys.print("(11e)"),this.common_term)break}for(this.debug&&this.state.sys.print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&this.state.sys.print("(13)"),d=0,m=e.length;d<m;d+=1)this.state.output.append(e[d],"literal",!0);!this.state.tmp.just_looking&&e.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&this.state.sys.print("(14)"),this.state.output.closeLevel("empty"),this.debug&&this.state.sys.print("(15)");var c=this.state.output.pop();this.state.tmp.name_node.top=c,this.debug&&this.state.sys.print("(16)");var u=h.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&h.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(c,u),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&this.state.sys.print("(17)"),this.debug&&this.state.sys.print("(18)"),"authority"!==t[0]){var p=[],f=this.Item[t[0]];if(f)for(var d=0,m=f.length;d<m;d+=1){var g=h.Util.Names.getRawName(f[d]);g&&p.push(g)}(p=p.join(", "))&&(this.state.tmp.name_node.string=p)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type&&this.state.tmp.first_name_string){var y=[];y.push(this.state.tmp.first_name_string),this.Item.title&&y.push(this.Item.title),(y=y.join(", "))&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(y=this.state.sys.normalizeAbbrevsKey("classic",y)),this.state.transform.loadAbbreviation("default","classic",y,this.Item.language),this.state.transform.abbrevs.default.classic[y]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[y],"empty",!0),c=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(c)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&this.state.sys.print("(19)")}else(this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},h.NameOutput.prototype._applyLabels=function(t,e){var i;if(!this.label||!this.label[this.labelVariable])return t;var n=0,r=this.freeters_count[e]+this.institutions_count[e];if(r>1)n=1;else{for(var s=0,o=this.persons[e].length;s<o;s+=1)r+=this.persons_count[e][s];r>1&&(n=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(n=this.label[this.labelVariable].before.strings.plural),i=this._buildLabel(e,n,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(i,this.label[this.labelVariable].before,!0),this.state.output.append(t,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(n=this.label[this.labelVariable].after.strings.plural),i=this._buildLabel(e,n,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(t,"literal",!0),this.state.output.append(i,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()),t},h.NameOutput.prototype._buildLabel=function(t,e,i,n){this.common_term&&(t=this.common_term);var r=!1,s=this.label[n][i];return s&&(r=h.castLabel(this.state,s,t,e,h.TOLERANT)),r},h.NameOutput.prototype._collapseAuthor=function(){var t,e,i;0!==this.state.tmp.name_node.top.blobs.length&&(0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),this.state.tmp.offset_characters=i,this.state.registry.authorstrings[this.Item.id]=e):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),e===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=e,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))},h.NameOutput.prototype.isPerson=function(t){return!(t.literal||!t.given&&t.family&&t.isInstitution)},h.NameOutput.prototype.truncatePersonalNameLists=function(){var t,e,i,n;for(t in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(t)&&(this.freeters_count[t]=this.freeters[t].length,this.freeters[t]=this._truncateNameList(this.freeters,t));for(t in this.persons)if(this.persons.hasOwnProperty(t))for(this.institutions_count[t]=this.institutions[t].length,this._truncateNameList(this.institutions,t),this.persons[t]=this.persons[t].slice(0,this.institutions[t].length),this.persons_count[t]=[],r=0,s=this.persons[t].length;r<s;r+=1)this.persons_count[t][r]=this.persons[t][r].length,this.persons[t][r]=this._truncateNameList(this.persons,t,r);if((n=!(!this.state.opt.development_extensions.etal_min_etal_usefirst_hack||1!==this.etal_min||1!==this.etal_use_first||this.state.tmp.extension||this.state.tmp.just_looking)&&t)||this._please_chop)for(e=0,i=this.variables.length;e<i;e+=1){t=this.variables[e],this.freeters[t].length&&(this._please_chop===t?(this.freeters[t]=this.freeters[t].slice(1),this.freeters_count[t]+=-1,this._please_chop=!1):n&&!this._please_chop&&(this.freeters[t]=this.freeters[t].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],this._please_chop=n));for(var r=0,s=this.persons[t].length;r<s;r++)if(this.persons[t][r].length){if(this._please_chop===t){this.persons[t][r]=this.persons[t][r].slice(1),this.persons_count[t][r]+=-1,this._please_chop=!1;break}if(n&&!this._please_chop){this.freeters[t]=this.persons[t][r].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],this._please_chop=n;break}}this.institutions[t].length&&(this._please_chop===t?(this.institutions[t]=this.institutions[t].slice(1),this.institutions_count[t]+=-1,this._please_chop=!1):n&&!this._please_chop&&(this.institutions[t]=this.institutions[t].slice(0,1),this.institutions_count[t]=1,this._please_chop=n))}for(e=0,i=this.variables.length;e<i;e+=1)for(this.institutions[t].length&&(this.nameset_offset+=1),r=0,s=this.persons[t].length;r<s;r++)this.persons[t][r].length&&(this.nameset_offset+=1)},h.NameOutput.prototype._truncateNameList=function(t,e,i){var n;if(n=void 0===i?t[e]:t[e][i],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&n.length>50&&n.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var r=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;n=n.slice(0,r+1).concat(n.slice(-1))}return n},h.NameOutput.prototype.divideAndTransliterateNames=function(){var t,e,i,n,r=this.Item,s=this.variables;for(this.varnames=s.slice(),this.freeters={},this.persons={},this.institutions={},t=0,e=s.length;t<e;t+=1){var o=s[t];this.variable_offset[o]=this.nameset_offset;var a=this._normalizeVariableValue(r,o);if(this.name.strings["suppress-min"]&&a.length>=this.name.strings["suppress-min"]&&(a=[]),this.name.strings["suppress-max"]&&a.length<=this.name.strings["suppress-max"]&&(a=[]),this._getFreeters(o,a),this._getPersonsAndInstitutions(o,a),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[o]=[],i=0,n=this.persons[o].length;i<n;i+=1)this.persons[o][i]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[o]=[],this.freeters[o]=this.freeters[o].concat(this.persons[o]),i=0,n=this.persons[o].length;i<n;i+=1)for(var l=0,c=this.persons[o][i].length;l<c;l+=1)this.freeters[o].push(this.persons[o][i][l]);this.persons[o]=[]}}},h.NameOutput.prototype._normalizeVariableValue=function(t,e){var i;return"string"==typeof t[e]||"number"==typeof t[e]?(h.debug('name variable "'+e+'" is string or number, not array. Attempting to fix.'),i=[{literal:t[e]+""}]):t[e]?"number"!=typeof t[e].length?(h.debug('name variable "'+e+'" is object, not array. Attempting to fix.'),t[e]=[t[e]],i=t[e].slice()):i=t[e].slice():i=[],i},h.NameOutput.prototype._getFreeters=function(t,e){if(this.freeters[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var i=e.length-1;i>-1&&this.isPerson(e[i]);i--)(n=this._checkNickname(e.pop()))&&this.freeters[t].push(n);else for(i=e.length-1;i>-1;i--){var n=e.pop();this.isPerson(n)&&(n=this._checkNickname(n)),this.freeters[t].push(n)}this.freeters[t].reverse(),this.freeters[t].length&&(this.nameset_offset+=1)},h.NameOutput.prototype._getPersonsAndInstitutions=function(t,e){if(this.persons[t]=[],this.institutions[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var i=[],n=!1,r=!0,s=e.length-1;s>-1;s+=-1)if(this.isPerson(e[s])){var o=this._checkNickname(e[s]);o&&i.push(o)}else n=!0,this.institutions[t].push(e[s]),r||(i.reverse(),this.persons[t].push(i),i=[]),r=!1;n&&(i.reverse(),this.persons[t].push(i),this.persons[t].reverse(),this.institutions[t].reverse())}},h.NameOutput.prototype._clearValues=function(t){for(var e=t.length-1;e>-1;e+=-1)t.pop()},h.NameOutput.prototype._checkNickname=function(t){var e;if(["interview","personal_communication"].indexOf(this.Item.type)>-1&&((e=h.Util.Names.getRawName(t))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"]))){var i=e;this.state.sys.normalizeAbbrevsKey&&(i=this.state.sys.normalizeAbbrevsKey("author",e)),this.state.transform.loadAbbreviation("default","nickname",i,this.Item.language);var n=this.state.transform.abbrevs.default.nickname[i];n&&(t="!here>>>"!==n&&{family:n,given:""})}return t},h.NameOutput.prototype._purgeEmptyBlobs=function(t){for(var e=t.length-1;e>-1;e+=-1)t[e]&&0!==t[e].length&&t[e].blobs.length||(t=t.slice(0,e).concat(t.slice(e+1)));return t},h.NameOutput.prototype.joinPersons=function(t,e,i,n){return t=this._purgeEmptyBlobs(t),n||(n="name"),void 0===i?1===this.etal_spec[e].freeters?this._joinEtAl(t):2===this.etal_spec[e].freeters?this._joinEllipsis(t):this.state.tmp.sort_key_flag?this._join(t,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(t):1===this.etal_spec[e].persons[i]?this._joinEtAl(t):2===this.etal_spec[e].persons[i]?this._joinEllipsis(t):this.state.tmp.sort_key_flag?this._join(t,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(t)},h.NameOutput.prototype.joinInstitutionSets=function(t,e){return t=this._purgeEmptyBlobs(t),1===this.etal_spec[e].institutions?this._joinEtAl(t,"institution"):2===this.etal_spec[e].institutions?this._joinEllipsis(t,"institution"):this._joinAnd(t)},h.NameOutput.prototype.joinPersonsAndInstitutions=function(t){t=this._purgeEmptyBlobs(t);var e=this._join(t,this.state.tmp.name_delimiter);return e.isInstitution=!0,e},h.NameOutput.prototype.joinFreetersAndInstitutionSets=function(t){return t=this._purgeEmptyBlobs(t),this._join(t,"[never here]",this.with.single,this.with.multiple)},h.NameOutput.prototype._getAfterInvertedName=function(t,e,i){if(i&&t.length>1&&"after-inverted-name"===this.state.inheritOpt(this.name,"delimiter-precedes-last")){var n=t[t.length-2];n.blobs.length>0&&n.blobs[0].isInverted&&(i.strings.prefix=e)}return i},h.NameOutput.prototype._getAndJoin=function(t,e){var i=!1;if(t.length>1){var n="single";t.length>2&&(n="multiple"),i=t[t.length-1].isInstitution?this.institution.and[n]:this.name.and[n],i=JSON.parse(JSON.stringify(i)),i=this._getAfterInvertedName(t,e,i)}return i},h.NameOutput.prototype._joinEtAl=function(t){var e=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),i=this._join(t,e);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(i,"literal",!0),t.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===t.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},h.NameOutput.prototype._joinEllipsis=function(t){var e=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),i=!1;if(t.length>1){var n="single";t.length>2&&(n="multiple"),i=JSON.parse(JSON.stringify(this.name.ellipsis[n])),i=this._getAfterInvertedName(t,e,i)}return this._join(t,e,i)},h.NameOutput.prototype._joinAnd=function(t){var e=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),i=this._getAndJoin(t,e);return this._join(t,e,i)},h.NameOutput.prototype._join=function(t,e,i){if(!t)return!1;if(!(t=this._purgeEmptyBlobs(t)).length)return!1;if(t.length>1)if(2===t.length)i?t=[t[0],i,t[1]]:t[0].strings.suffix+=e;else{var n;n=i?1:0;for(var r=t.pop(),s=0,o=t.length-n;s<o;s++)t[s].strings.suffix+=e;t.push(i),t.push(r)}for(this.state.output.openLevel(),s=0,o=t.length;s<o;s+=1)this.state.output.append(t[s],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},h.NameOutput.prototype._getToken=function(t){var e=this[t];return"institution"===t?new h.Token:e},h.NameOutput.prototype.checkCommonAuthor=function(t){if(!t)return!1;var e=!1;if(2===this.variables.length){var i=this.variables.slice();i.sort(),e=i.join("")}if(!e)return!1;var n=!1;if(this.state.locale[this.state.opt.lang].terms[e]&&(n=!0),!n)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var r=this.Item[this.variables[0]],s=this.Item[this.variables[1]],o=this._compareNamesets(r,s);return!0===o&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!o},h.NameOutput.prototype.setCommonTerm=function(){var t=this.variables.slice();if(t.sort(),this.common_term=t.join(""),this.common_term){var e=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?e=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(e=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!e||this.variables.length<2)this.common_term=!1;else for(var i=0,n=this.variables.length-1;i<n;i+=1){var r=this.variables[i],s=this.variables[i+1];if((this.freeters[r].length||this.freeters[s].length)&&(this.etal_spec[r].freeters!==this.etal_spec[s].freeters||!this._compareNamesets(this.freeters[r],this.freeters[s])))return void(this.common_term=!1);if(this.persons[r].length!==this.persons[s].length)return void(this.common_term=!1);for(var o=0,a=this.persons[r].length;o<a;o+=1)if(this.etal_spec[r].persons[o]!==this.etal_spec[s].persons[o]||!this._compareNamesets(this.persons[r][o],this.persons[s][o]))return void(this.common_term=!1)}}},h.NameOutput.prototype._compareNamesets=function(t,e){if(!t||!e||t.length!==e.length)return!1;for(var i=0,n=e.length;i<n;i+=1)for(var r=0,s=h.NAME_PARTS.length;r<s;r+=1){var o=h.NAME_PARTS[r];if(!t[i]||t[i][o]!=e[i][o])return!1}return!0},h.NameOutput.prototype.constrainNames=function(){var t;this.names_count=0;for(var e=0,i=this.variables.length;e<i;e+=1){var n=this.variables[e];t=this.nameset_base+e,this.freeters[n].length&&(this.state.tmp.names_max.push(this.freeters[n].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,n,t),this.names_count+=this.freeters[n].length),this.institutions[n].length&&(this.state.tmp.names_max.push(this.institutions[n].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,n,t),this.persons[n]=this.persons[n].slice(0,this.institutions[n].length),this.names_count+=this.institutions[n].length);for(var r=0,s=this.persons[n].length;r<s;r+=1)this.persons[n][r].length&&(this.state.tmp.names_max.push(this.persons[n][r].length,"literal"),this._imposeNameConstraints(this.persons[n],this.persons_count[n],r,t),this.names_count+=this.persons[n][r].length)}},h.NameOutput.prototype._imposeNameConstraints=function(t,e,i,n){var r=t[i],s=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[n]?s=this.state.tmp.disambig_request.names[n]:e[i]>=this.etal_min&&(s=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[n]>this.etal_use_first?s=e[i]<this.etal_min?e[i]:this.state.tmp.disambig_request.names[n]:e[i]>=this.etal_min&&(s=this.etal_use_first),this.etal_use_last&&s>this.etal_min-2&&(s=this.etal_min-2));var o=this.etal_min>=this.etal_use_first,a=e[i]>s;s>e[i]&&(s=r.length),o&&a&&(this.etal_use_last?t[i]=r.slice(0,s).concat(r.slice(-1)):t[i]=r.slice(0,s)),this.state.tmp.disambig_settings.names[n]=t[i].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},h.NameOutput.prototype.disambigNames=function(){for(var t,e=0,i=this.variables.length;e<i;e+=1){var n=this.variables[e];if(t=this.nameset_base+e,this.freeters[n].length&&this._runDisambigNames(this.freeters[n],t),this.institutions[n].length){void 0===this.state.tmp.disambig_settings.givens[t]&&(this.state.tmp.disambig_settings.givens[t]=[]);for(var r=0,s=this.institutions[n].length;r<s;r+=1)void 0===this.state.tmp.disambig_settings.givens[t][r]&&this.state.tmp.disambig_settings.givens[t].push(2)}for(r=0,s=this.persons[n].length;r<s;r+=1)this.persons[n][r].length&&this._runDisambigNames(this.persons[n][r],t)}},h.NameOutput.prototype._runDisambigNames=function(t,e){var i,n,r,s,o,a;for(s=0,o=t.length;s<o;s+=1)if(t[s].given||t[s].family){if(n=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,t[s],s),void 0===this.state.tmp.disambig_settings.givens[e])for(var l=0,c=e+1;l<c;l+=1)this.state.tmp.disambig_settings.givens[l]||(this.state.tmp.disambig_settings.givens[l]=[]);if(void 0===this.state.tmp.disambig_settings.givens[e][s]&&(i=this.state.inheritOpt(this.name,"form","name-form","long"),r=this.state.registry.namereg.evalname(""+this.Item.id,t[s],s,0,i,n),this.state.tmp.disambig_settings.givens[e].push(r)),i=this.state.inheritOpt(this.name,"form","name-form","long"),a=this.state.registry.namereg.evalname(""+this.Item.id,t[s],s,0,i,n),this.state.tmp.disambig_request){var u=this.state.tmp.disambig_settings.givens[e][s];1!==u||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&void 0!==t[s].given||(u=2),r=u,this.state.opt["disambiguate-add-givenname"]&&t[s].given&&(r=this.state.registry.namereg.evalname(""+this.Item.id,t[s],s,r,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else r=a;!this.state.tmp.just_looking&&this.item&&this.item.position===h.POSITION_FIRST&&a>r&&(r=a),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[e][s]=r,"string"!=typeof n||void 0!==this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},h.NameOutput.prototype.getEtAlConfig=function(){var t=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===t&&(t={}),t.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},h.NameOutput.prototype.setEtAlParameters=function(){var t,e,i,n;for(t=0,e=this.variables.length;t<e;t+=1){var r=this.variables[t];for(void 0===this.etal_spec[r]&&(this.etal_spec[r]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+t]=this.etal_spec[r],this.freeters[r].length&&this._setEtAlParameter("freeters",r),i=0,n=this.persons[r].length;i<n;i+=1)void 0===this.etal_spec[r][i]&&(this.etal_spec[r].persons[i]=0),this._setEtAlParameter("persons",r,i);this.institutions[r].length&&this._setEtAlParameter("institutions",r)}},h.NameOutput.prototype._setEtAlParameter=function(t,e,i){var n,r;"persons"===t?(n=this.persons[e][i],r=this.persons_count[e][i]):(n=this[t][e],r=this[t+"_count"][e]),n.length<r&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===t?this.etal_spec[e].persons[i]=2:this.etal_spec[e][t]=2:"persons"===t?this.etal_spec[e].persons[i]=1:this.etal_spec[e][t]=1:"persons"===t?this.etal_spec[e].persons[i]=0:this.etal_spec[e][t]=0},h.NameOutput.prototype.renderAllNames=function(){for(var t,e=0,i=this.variables.length;e<i;e+=1){var n=this.variables[e];(this.freeters[n].length||this.institutions[n].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),t=this.nameset_base+e,this.freeters[n].length&&(this.freeters[n]=this._renderNames(n,this.freeters[n],t));for(var r=0,s=this.institutions[n].length;r<s;r+=1)this.persons[n][r]=this._renderNames(n,this.persons[n][r],t,r)}this.renderInstitutionNames()},h.NameOutput.prototype.renderInstitutionNames=function(){for(var t=0,e=this.variables.length;t<e;t+=1)for(var i=this.variables[t],n=0,r=this.institutions[i].length;n<r;n+=1){var s,o=this.institutions[i][n],a={primary:"locale-orig",secondary:!1,tertiary:!1};if(s=this.state.tmp.extension?["sort"]:o.isInstitution||o.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var l=["primary","secondary","tertiary"],c=0,u=l.length;c<u&&!(s.length-1<c);c+=1)s[c]&&(a[l[c]]="locale-"+s[c]);else a.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(a.secondary=!1,a.tertiary=!1),this.setRenderedName(o);var h=this._renderInstitutionName(i,o,a,n);this.institutions[i][n]=h}},h.NameOutput.prototype._renderInstitutionName=function(t,e,i,n){var r,s,o,a,l,c=this.getName(e,i.primary,!0),u=c.name,h=c.usedOrig;if(u&&(u=this.fixupInstitution(u,t,n)),p=!1,i.secondary){var p=(c=this.getName(e,i.secondary,!1,h)).name;h=c.usedOrig,p&&(p=this.fixupInstitution(p,t,n))}r=!1,i.tertiary&&(r=(c=this.getName(e,i.tertiary,!1,h)).name)&&(r=this.fixupInstitution(r,t,n));var f={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(u&&(f.l.pri=u.long,f.s.pri=u.short.length?u.short:u.long),p&&(f.l.sec=p.long,f.s.sec=p.short.length?p.short:p.long),r&&(f.l.ter=r.long,f.s.ter=r.short.length?r.short:r.long),this.institution.strings["institution-parts"]){case"short":u.short.length?(o=this._getShortStyle(),a=[this._composeOneInstitutionPart([f.s.pri,f.s.sec,f.s.ter],i,o,t)]):(s=this._getLongStyle(u,t,n),a=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,s,t)]);break;case"short-long":s=this._getLongStyle(u,t,n),o=this._getShortStyle(),a=[l=this._renderOneInstitutionPart(u.short,o),this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,s,t)];break;case"long-short":s=this._getLongStyle(u,t,n),o=this._getShortStyle(),l=this._renderOneInstitutionPart(u.short,o),a=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,s,t),l];break;default:s=this._getLongStyle(u,t,n),a=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,s,t)]}var d=this._join(a," ");return d&&(d.isInstitution=!0),this.state.tmp.name_node.children.push(d),d},h.NameOutput.prototype._composeOneInstitutionPart=function(t,e,i){var n,r,s,o,a=!1,l=!1,c=!1;if(t[0]){if(n=h.Util.cloneToken(i),this.state.opt.citeAffixes[e.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[e.primary].prefix){for(var u=!1,p=0,f=n.decorations.length;p<f;p+=1)"@font-style"===i.decorations[p][0]&&"italic"===n.decorations[p][1]&&(u=!0);u||n.decorations.push(["@font-style","italic"])}a=this._renderOneInstitutionPart(t[0],n)}if(t[1]&&(l=this._renderOneInstitutionPart(t[1],i)),t[2]&&(c=this._renderOneInstitutionPart(t[2],i)),l||c){this.state.output.openLevel("empty"),this.state.output.append(a),r=h.Util.cloneToken(i),e.secondary&&(r.strings.prefix=this.state.opt.citeAffixes.institutions[e.secondary].prefix,r.strings.suffix=this.state.opt.citeAffixes.institutions[e.secondary].suffix,r.strings.prefix||(r.strings.prefix=" "));var d=new h.Token;d.decorations.push(["@font-style","normal"]),d.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(d),this.state.output.append(l,r),this.state.output.closeLevel(),s=h.Util.cloneToken(i),e.tertiary&&(s.strings.prefix=this.state.opt.citeAffixes.institutions[e.tertiary].prefix,s.strings.suffix=this.state.opt.citeAffixes.institutions[e.tertiary].suffix,s.strings.prefix||(s.strings.prefix=" "));var m=new h.Token;m.decorations.push(["@font-style","normal"]),m.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(m),this.state.output.append(c,s),this.state.output.closeLevel(),this.state.output.closeLevel(),o=this.state.output.pop()}else o=a;return o},h.NameOutput.prototype._renderOneInstitutionPart=function(t,e){for(var i=0,n=t.length;i<n;i+=1)if(t[i]){var r=t[i];if(this.state.tmp.strip_periods)r=r.replace(/\./g,"");else for(var s=0,o=e.decorations.length;s<o;s+=1)if("@strip-periods"===e.decorations[s][0]&&"true"===e.decorations[s][1]){r=r.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,h.LITERAL),"!here>>>"===r?t[i]=!1:(this.state.output.append(r,e,!0),t[i]=this.state.output.pop())}return void 0===this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(t,this.institution.strings["part-separator"])},h.NameOutput.prototype._renderNames=function(t,e,i,n){var r=!1;if(e.length){for(var s=[],o=0,a=e.length;o<a;o+=1){var l,c=e[o],u={primary:"locale-orig",secondary:!1,tertiary:!1};if(l=this.state.tmp.extension?["sort"]:c.isInstitution||c.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var p=["primary","secondary","tertiary"],f=0,d=p.length;f<d&&!(l.length-1<f);f+=1)u[p[f]]="locale-"+l[f];else u.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(u.secondary=!1,u.tertiary=!1),this.setRenderedName(c),c.literal||c.isInstitution)s.push(this._renderInstitutionName(t,c,u,n));else{var m=this._renderPersonalName(t,c,u,i,o,n),g=h.Util.cloneToken(this.name);this.state.output.append(m,g,!0),s.push(this.state.output.pop())}}r=this.joinPersons(s,i,n)}return r},h.NameOutput.prototype._renderPersonalName=function(t,e,i,n,r,s){var o=this.getName(e,i.primary,!0),a=this._renderOnePersonalName(o.name,n,r,s),l=!1;i.secondary&&(o=this.getName(e,i.secondary,!1,o.usedOrig)).name&&(l=this._renderOnePersonalName(o.name,n,r,s));var c,u=!1;if(i.tertiary&&(o=this.getName(e,i.tertiary,!1,o.usedOrig)).name&&(u=this._renderOnePersonalName(o.name,n,r,s)),l||u){this.state.output.openLevel("empty"),this.state.output.append(a);var p=new h.Token;i.secondary&&(p.strings.prefix=this.state.opt.citeAffixes.persons[i.secondary].prefix,p.strings.suffix=this.state.opt.citeAffixes.persons[i.secondary].suffix,p.strings.prefix||(p.strings.prefix=" ")),this.state.output.append(l,p);var f=new h.Token;i.tertiary&&(f.strings.prefix=this.state.opt.citeAffixes.persons[i.tertiary].prefix,f.strings.suffix=this.state.opt.citeAffixes.persons[i.tertiary].suffix,f.strings.prefix||(f.strings.prefix=" ")),this.state.output.append(u,f),this.state.output.closeLevel(),c=this.state.output.pop()}else c=a;return c},h.NameOutput.prototype._isRomanesque=function(t){var e,i=2;return t.family.replace(/\"/g,"").match(h.ROMANESQUE_REGEXP)||(i=0),!i&&t.given&&t.given.match(h.STARTSWITH_ROMANESQUE_REGEXP)&&(i=1),2==i&&(t.multi&&t.multi.main?e=t.multi.main.slice(0,2):this.Item.language&&(e=this.Item.language.slice(0,2)),["ja","zh"].indexOf(e)>-1&&(i=1)),i},h.NameOutput.prototype._renderOnePersonalName=function(t,e,i,n){var r=t,s=this._droppingParticle(r,e,n),o=this._familyName(r),a=this._nonDroppingParticle(r),l=this._givenName(r,e,i),c=l.blob,u=this._nameSuffix(r);!1===c&&(s=!1,u=!1);var p,f=this.state.inheritOpt(this.name,"sort-separator");f||(f=""),p=r["comma-suffix"]?", ":" ";var d,m,g,y,b,_=this._isRomanesque(r),v=function t(e){return!!e&&("string"==typeof e.blobs?["â","'","-"," "].indexOf(e.blobs.slice(-1))>-1:t(e.blobs[e.blobs.length-1]))}(a);if(d=["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?"Â ":" ",0===_)m=this._join([a,o,c],"");else if(1===_||r["static-ordering"])g=this._join([a,o],d),m=this._join([g,c]," ");else if(r["reverse-ordering"])g=this._join([a,o],d),m=this._join([c,g]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(g=this._join([a,o],d),g=this._join([g,s]," "),g=this._join([g,c],this.state.opt.sort_sep),m=this._join([g,u]," ")):(b=this._join([c,s,a]," "),g=this._join([o,b],this.state.opt.sort_sep),m=this._join([g,u]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===i&&(0===n||void 0===n))["Lord","Lady"].indexOf(r.given)>-1&&(f=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(b=this._join([c,s],r["comma-dropping-particle"]+" "),(b=this._join([b,a]," "))&&this.given&&(b.strings.prefix=this.given.strings.prefix,b.strings.suffix=this.given.strings.suffix),o&&this.family&&(o.strings.prefix=this.family.strings.prefix,o.strings.suffix=this.family.strings.suffix),g=this._join([o,b],f),m=this._join([g,u],f)):((y=v?this._join([a,o],""):this._join([a,o],d))&&this.family&&(y.strings.prefix=this.family.strings.prefix,y.strings.suffix=this.family.strings.suffix),(b=this._join([c,s],r["comma-dropping-particle"]+" "))&&this.given&&(b.strings.prefix=this.given.strings.prefix,b.strings.suffix=this.given.strings.suffix),g=this._join([y,b],f),m=this._join([g,u],f)),m.isInverted=!0;else{if(r["dropping-particle"]&&r.family&&!r["non-dropping-particle"]){var w=r["dropping-particle"];["'","Ê¼","â","-"].indexOf(w.slice(-1))>-1&&"de"!==w.slice(0,-1)&&(o=this._join([s,o],""),s=!1)}var x;v?(b=this._join([a,o],""),b=this._join([s,b],d)):b=this._join([s,a,o],d),(b=this._join([b,u],p))&&this.family&&(b.strings.prefix=this.family.strings.prefix,b.strings.suffix=this.family.strings.suffix),c&&this.given&&(c.strings.prefix=this.given.strings.prefix,c.strings.suffix=this.given.strings.suffix),b.strings.prefix&&(r["comma-dropping-particle"]=""),x=this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&1===l.initializationLevel?d:" ",m=this._join([c,b],r["comma-dropping-particle"]+x)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,h.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(m),m},h.NameOutput.prototype._normalizeNameInput=function(t){var e={literal:t.literal,family:t.family,isInstitution:t.isInstitution,given:t.given,suffix:t.suffix,"comma-suffix":t["comma-suffix"],"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],"static-ordering":t["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":t["reverse-ordering"],"full-form-always":t["full-form-always"],"parse-names":t["parse-names"],"comma-dropping-particle":"",block_initialize:t.block_initialize,multi:t.multi};return this._parseName(e),e},h.NameOutput.prototype._stripPeriods=function(t,e){var i=this[t+"_decor"];if(e)if(this.state.tmp.strip_periods)e=e.replace(/\./g,"");else if(i)for(var n=0,r=i.decorations.length;n<r;n+=1)if("@strip-periods"===i.decorations[n][0]&&"true"===i.decorations[n][1]){e=e.replace(/\./g,"");break}return e},h.NameOutput.prototype._nonDroppingParticle=function(t){var e=t["non-dropping-particle"];e&&this.state.tmp.sort_key_flag&&(e=e.replace(/[\'\u2019]/,""));var i=this._stripPeriods("family",e);return!!this.state.output.append(i,this.family_decor,!0)&&this.state.output.pop()},h.NameOutput.prototype._droppingParticle=function(t,e,i){var n=t["dropping-particle"];n&&this.state.tmp.sort_key_flag&&(n=n.replace(/[\'\u2019]/,""));var r=this._stripPeriods("given",n);if(t["dropping-particle"]&&t["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===i?this.etal_spec[e].freeters=2:this.etal_spec[e].persons=2:void 0===i?this.etal_spec[e].freeters=1:this.etal_spec[e].persons=1,t["comma-dropping-particle"]="";else if(this.state.output.append(r,this.given_decor,!0))return this.state.output.pop();return!1},h.NameOutput.prototype._familyName=function(t){var e=this._stripPeriods("family",t.family);return!!this.state.output.append(e,this.family_decor,!0)&&this.state.output.pop()},h.NameOutput.prototype._givenName=function(t,e,i){var n,r,s="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),o=!1!==this.state.inheritOpt(this.name,"initialize"),a="string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&!t.block_initialize;if(t["full-form-always"])r=2;else{n=s?0:a?1:2;var l=this.state.tmp.disambig_settings.givens[e][i];r=l>n?l:n}var c=this.state.citation.opt["givenname-disambiguation-rule"];if(c&&"-with-initials"===c.slice(-14)&&(a=!0),t.family&&1===r)if(a){var u=this.state.inheritOpt(this.name,"initialize-with",!1,"");t.given=h.Util.Names.initializeWith(this.state,t.given,u,!o)}else t.given=h.Util.Names.unInitialize(this.state,t.given);else{if(0===r)return{blob:!1};2===r&&(t.given=h.Util.Names.unInitialize(this.state,t.given))}var p=this._stripPeriods("given",t.given);return this.state.output.append(p,this.given_decor,!0)?{blob:this.state.output.pop(),initializationLevel:r}:{blob:!1}},h.NameOutput.prototype._nameSuffix=function(t){var e,i=t.suffix;i&&"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(i=h.Util.Names.initializeWith(this.state,i,this.state.inheritOpt(this.name,"initialize-with"),!0));var n="";return(i=this._stripPeriods("family",i))&&"."===i.slice(-1)&&(i=i.slice(0,-1),n="."),!!this.state.output.append(i,"empty",!0)&&((e=this.state.output.pop()).strings.suffix=n+e.strings.suffix,e)},h.NameOutput.prototype._getLongStyle=function(t){var e;return(e=t.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long)||(e=new h.Token),e},h.NameOutput.prototype._getShortStyle=function(){return this.institutionpart.short?this.institutionpart.short:new h.Token},h.NameOutput.prototype._parseName=function(t){if(!t["parse-names"]&&void 0!==t["parse-names"])return t;var e;t.family&&!t.given&&t.isInstitution&&(t.literal=t.family,t.family=void 0,t.isInstitution=void 0),t.family&&'"'===t.family.slice(0,1)&&'"'===t.family.slice(-1)||!t["parse-names"]&&void 0!==t["parse-names"]?(t.family=t.family.slice(1,-1),e=!0,t["parse-names"]=0):e=!1,this.state.opt.development_extensions.parse_names&&!t["non-dropping-particle"]&&t.family&&!e&&t.given&&(t["static-particles"]||h.parseParticles(t,!0))},h.NameOutput.prototype.getName=function(t,e,i,n){if(n&&"locale-orig"===e)return{name:!1,usedOrig:n};t.family||(t.family=""),t.given||(t.given="");var r={};r["static-ordering"]=this.getStaticOrder(t);var s,o=!0;if("locale-orig"!==e&&(o=!1,t.multi))for(var a=this.state.opt[e],l=0,c=a.length;l<c;l+=1)if(s=a[l],t.multi._key[s]){o=!0;var u=t.isInstitution;(t=t.multi._key[s]).isInstitution=u,(r=this.getNameParams(s)).transliterated=!0;break}return o||(s=!1,t.multi&&t.multi.main?s=t.multi.main:this.Item.language&&(s=this.Item.language),s&&(r=this.getNameParams(s))),i||o?(t.family||(t.family=""),t.given||(t.given=""),t.literal&&(delete t.family,delete t.given),!(t={family:t.family,given:t.given,"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],suffix:t.suffix,"static-ordering":r["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":r["reverse-ordering"],"full-form-always":r["full-form-always"],"parse-names":t["parse-names"],"comma-suffix":t["comma-suffix"],"comma-dropping-particle":t["comma-dropping-particle"],transliterated:r.transliterated,block_initialize:r["block-initialize"],literal:t.literal,isInstitution:t.isInstitution,multi:t.multi}).literal&&!t.given&&t.family&&t.isInstitution&&(t.literal=t.family),t.literal&&(delete t.family,delete t.given),{name:t=this._normalizeNameInput(t),usedOrig:n||!o}):{name:!1,usedOrig:n}},h.NameOutput.prototype.getNameParams=function(t){var e={},i=h.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),n=this.state.locale[i.best]?i.best:this.state.opt["default-locale"][0],r=this.state.locale[n].opts["name-as-sort-order"],s=this.state.locale[n].opts["name-as-reverse-order"],o=this.state.locale[n].opts["name-never-short"],a=t.split("-")[0];return r&&r[a]&&(e["static-ordering"]=!0,e["reverse-ordering"]=!1),s&&s[a]&&(e["reverse-ordering"]=!0,e["static-ordering"]=!1),o&&o[a]&&(e["full-form-always"]=!0),e["static-ordering"]&&(e["block-initialize"]=!0),e},h.NameOutput.prototype.setRenderedName=function(t){if("bibliography"===this.state.tmp.area){for(var e="",i=0,n=h.NAME_PARTS.length;i<n;i+=1)t[h.NAME_PARTS[i]]&&(e+=t[h.NAME_PARTS[i]]);this.state.tmp.rendered_name.push(e)}},h.NameOutput.prototype.fixupInstitution=function(t,e,i){!t.literal&&t.family&&(t.literal=t.family,delete t.family);var n=t.literal,r=n,s={long:n.split(/\s*\|\s*/),short:r.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if("short"===this.institution.strings.form){let t=this.Item.jurisdiction;t=this.state.transform.loadAbbreviation(t,"institution-entire",n,this.Item.language),this.state.transform.abbrevs[t]["institution-entire"][n]?n=this.state.transform.abbrevs[t]["institution-entire"][n]:(t=this.Item.jurisdiction,t=this.state.transform.loadAbbreviation(t,"institution-part",n,this.Item.language),this.state.transform.abbrevs[t]["institution-part"][n]&&(n=this.state.transform.abbrevs[t]["institution-part"][n])),n=this._quashChecks(t,n)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){let t=this.Item.jurisdiction;t=this.state.transform.loadAbbreviation(t,"institution-part",r,this.Item.language),this.state.transform.abbrevs[t]["institution-part"][r]&&(r=this.state.transform.abbrevs[t]["institution-part"][r]),r=this._quashChecks(t,r),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&r===n&&(r="")}if(s.long=n.split(/\s*\|\s*/),s.short=r.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var o=s.short.length-1;o>-1;o--){let t=this.Item.jurisdiction;var a=s.short[o];if(t=this.state.transform.loadAbbreviation(t,"institution-part",a,this.Item.language),this.state.transform.abbrevs[t]["institution-part"][a]&&(s.short[o]=this.state.transform.abbrevs[t]["institution-part"][a]),s.short[o].indexOf("|")>-1){let t=s.short,e=t[o].split(/\s*\|\s*/);s.short=t.slice(0,o).concat(e).concat(t.slice(o+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&s.short.reverse(),s.short=this._trimInstitution(s.short),this.institution.strings["reverse-order"]&&s.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){let t=this.Item.jurisdiction;var l=this.state.tmp.abbrev_trimmer;if(l&&l[t]&&l[t][e])for(var c=0,u=s.short.length;c<u;c++){var h=s.short[c];s.short[c]=h.replace(l[t][e],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&s.long.reverse(),s.long=this._trimInstitution(s.long),this.institution.strings["reverse-order"]&&s.long.reverse(),s},h.NameOutput.prototype.getStaticOrder=function(t,e){var i=!1;return(!e&&t["static-ordering"]||0===this._isRomanesque(t)||(!t.multi||!t.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1||t.multi&&t.multi.main&&["vi","hu"].indexOf(t.multi.main.slice(0,2))>-1||this.state.opt["auto-vietnamese-names"]&&h.VIETNAMESE_NAMES.exec(t.family+" "+t.given)&&h.VIETNAMESE_SPECIALS.exec(t.family+t.given))&&(i=!0),i},h.NameOutput.prototype._quashChecks=function(t,e){var i=(e=this.state.transform.quashCheck(t,e)).split(/>>[0-9]{4}>>/),n=e.match(/>>([0-9]{4})>>/);e=i.pop();var r=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if(r&&(r=parseInt(r.year,10),r=!isNaN(r)&&r),r){if(i.length>0)for(var s=n.length-1;s>0&&!(r>=parseInt(n[s],10));s--)e=i.pop();e=e.replace(/\s*\|\s*/g,"|")}return e},h.NameOutput.prototype._trimInstitution=function(t){var e=!1,i=!1,n=!1,r=!1,s=t.slice();if(this.institution){if(void 0!==this.institution.strings["use-first"]&&(e=this.institution.strings["use-first"]),void 0!==this.institution.strings["use-last"]&&(n=this.institution.strings["use-last"]),void 0!==this.institution.strings["stop-first"]&&(r=this.institution.strings["stop-first"]),void 0!==this.institution.strings["stop-last"]&&(i=this.institution.strings["stop-last"]),e&&(i&&(s=s.slice(0,-1*i)),s=s.slice(0,e)),n){var o=t.slice();e?r=e:s=[],r&&(o=o.slice(r)),o=o.slice(-1*n),s=s.concat(o)}t=s}return t},h.PublisherOutput=function(t,e){this.state=t,this.group_tok=e,this.varlist=[]},h.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},h.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var t=!1;"text"===this.group_tok.strings.and?t=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(t="&");var e=new h.Token;e.strings.suffix=" ",e.strings.prefix=" ",this.state.output.append(t,e,!0);var i=this.state.output.pop();e.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(t,e,!0);var n=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,t&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=n:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=i,this.and_blob.multiple=i):(this.and_blob.single=i,this.and_blob.multiple=n))},h.PublisherOutput.prototype.composeElements=function(){for(var t=0;t<2;t+=1)for(var e=["publisher","publisher-place"][t],i=0,n=this["publisher-list"].length;i<n;i+=1){var r=this[e+"-list"][i],s=this[e+"-token"];this.state.output.append(r,s,!0),this[e+"-list"][i]=this.state.output.pop()}},h.PublisherOutput.prototype.composePublishers=function(){for(var t,e=0,i=this["publisher-list"].length;e<i;e+=1)t=[this[this.varlist[0]+"-list"][e],this[this.varlist[1]+"-list"][e]],this["publisher-list"][e]=this._join(t,this.group_tok.strings.delimiter)},h.PublisherOutput.prototype.joinPublishers=function(){var t=this["publisher-list"],e=this._join(t,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(e,"literal")},h.PublisherOutput.prototype._join=h.NameOutput.prototype._join,h.PublisherOutput.prototype._getToken=h.NameOutput.prototype._getToken,h.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},h.evaluateLabel=function(t,e,i,n){var r;"locator"===t.strings.term?(n&&n.label&&(r="sub verbo"===n.label?"sub-verbo":n.label),r||(r="page")):r=t.strings.term;var s=t.strings.plural;if("number"!=typeof s){var o=n&&"locator"===t.strings.term?n:i;o[t.strings.term]&&(e.processNumber(!1,o,t.strings.term,i.type),s=e.tmp.shadow_numbers[t.strings.term].plural,e.tmp.shadow_numbers[t.strings.term].labelForm||e.tmp.shadow_numbers[t.strings.term].labelDecorations||(t.strings.form?e.tmp.shadow_numbers[t.strings.term].labelForm=t.strings.form:e.tmp.group_context.tip.label_form&&(e.tmp.shadow_numbers[t.strings.term].labelForm=e.tmp.group_context.tip.label_form),e.tmp.shadow_numbers[t.strings.term].labelCapitalizeIfFirst=t.strings.capitalize_if_first,e.tmp.shadow_numbers[t.strings.term].labelDecorations=t.decorations.slice()),["locator","number","page"].indexOf(t.strings.term)>-1&&e.tmp.shadow_numbers[t.strings.term].label&&(r=e.tmp.shadow_numbers[t.strings.term].label),t.decorations&&e.opt.development_extensions.csl_reverse_lookup_support&&(t.decorations.reverse(),t.decorations.push(["@showid","true",t.cslid]),t.decorations.reverse()))}return h.castLabel(e,t,r,s,h.TOLERANT)},h.castLabel=function(t,e,i,n,r){var s=e.strings.form,o=e.strings.capitalize_if_first;t.tmp.group_context.tip.label_form&&("static"===s?t.tmp.group_context.tip.label_static=!0:s=t.tmp.group_context.tip.label_form),t.tmp.group_context.tip.label_capitalize_if_first&&(o=t.tmp.group_context.tip.label_capitalize_if_first);var a=t.getTerm(i,s,n,!1,r,e.default_locale);if(o&&(a=h.Output.Formatters["capitalize-first"](t,a)),t.tmp.strip_periods)a=a.replace(/\./g,"");else for(var l=0,c=e.decorations.length;l<c;l+=1)if("@strip-periods"===e.decorations[l][0]&&"true"===e.decorations[l][1]){a=a.replace(/\./g,"");break}return a},h.Node.name={build:function(t,e){var i,n;[h.SINGLETON,h.START].indexOf(this.tokentype)>-1&&(void 0===t.tmp.root?(n=void 0,t.tmp.root="citation"):n=t.tmp.root,t.inheritOpt(this,"et-al-subsequent-min")&&t.inheritOpt(this,"et-al-subsequent-min")!==t.inheritOpt(this,"et-al-min")&&(t.opt.update_mode=h.POSITION),t.inheritOpt(this,"et-al-subsequent-use-first")&&t.inheritOpt(this,"et-al-subsequent-use-first")!==t.inheritOpt(this,"et-al-use-first")&&(t.opt.update_mode=h.POSITION),t.tmp.root=n,i=function(t){t.tmp.etal_term="et-al",t.tmp.name_delimiter=t.inheritOpt(this,"delimiter","name-delimiter",", "),t.tmp["delimiter-precedes-et-al"]=t.inheritOpt(this,"delimiter-precedes-et-al"),"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")&&(t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&"),t.tmp.and_term=this.and_term,h.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.name_delimiter&&(this.and_prefix_multiple=t.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.name_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===t.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=t.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},t.inheritOpt(this,"and")?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):t.tmp.name_delimiter&&(this.and.single=new h.Blob(t.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new h.Blob(t.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},t.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="â¦",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=t.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new h.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new h.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),void 0===t.tmp["et-al-min"]&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),void 0===t.tmp["et-al-use-first"]&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),void 0===t.tmp["et-al-use-last"]&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last")),t.nameOutput.name=this},t.build.name_flag=!0,this.execs.push(i)),e.push(this)}},h.Node["name-part"]={build:function(t){t.build[this.strings.name]=this}},h.Node.names={build:function(t,e){var i;if(this.tokentype!==h.START&&this.tokentype!==h.SINGLETON||(h.Util.substituteStart.call(this,t,e),t.build.substitute_level.push(1)),this.tokentype===h.SINGLETON){for(var n in t.build.names_variables[t.build.names_variables.length-1].concat(this.variables),this.variables){var r=this.variables[n],s=t.build.name_label[t.build.name_label.length-1];Object.keys(s).length&&(s[r]=s[Object.keys(s)[0]])}i=function(t){t.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(i)}if(this.tokentype===h.START&&(t.build.names_flag=!0,t.build.name_flag=!1,t.build.names_level+=1,t.build.names_variables.push(this.variables),t.build.name_label.push({}),i=function(t){t.tmp.can_substitute.push(!0),t.tmp.name_node={},t.tmp.name_node.children=[],t.nameOutput.init(this)},this.execs.push(i)),this.tokentype===h.END){for(n=0;n<3;n+=1){var o=["family","given","et-al"][n];this[o]=t.build[o],1===t.build.names_level&&(t.build[o]=void 0)}this.label=t.build.name_label[t.build.name_label.length-1],t.build.names_level+=-1,t.build.names_variables.pop(),t.build.name_label.pop(),i=function(t){t.tmp.etal_node?this.etal_style=t.tmp.etal_node:this.etal_style="empty",this.etal_term=t.getTerm(t.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=t.tmp.name_delimiter,"always"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=t.tmp.name_delimiter:"never"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===t.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=t.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",h.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(" "===this.etal_prefix_single&&(this.etal_prefix_single="")," "===this.etal_prefix_multiple&&(this.etal_prefix_multiple="")," "===this.etal_suffix&&(this.etal_suffix=""));for(var e=0;e<3;e+=1){var i=["family","given"][e];t.nameOutput[i]=this[i]}t.nameOutput.with=this.with;var n="with",r="",s="";h.STARTSWITH_ROMANESQUE_REGEXP.test(n)&&(r=" ",s=" ");var o={};o.single=new h.Blob(n),o.single.strings.suffix=s,o.multiple=new h.Blob(n),o.multiple.strings.suffix=s,"always"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),o.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=r,o.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),o.multiple.strings.prefix=r):(o.single.strings.prefix=r,o.multiple.strings.prefix=r),t.nameOutput.with=o,t.nameOutput.label=this.label,t.nameOutput.etal_style=this.etal_style,t.nameOutput.etal_term=this.etal_term,t.nameOutput.etal_prefix_single=this.etal_prefix_single,t.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,t.nameOutput.etal_suffix=this.etal_suffix,t.nameOutput.outputNames(),t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-last"]=void 0},this.execs.push(i),i=function(t){t.tmp.can_substitute.pop()||t.tmp.can_substitute.replace(!1,h.LITERAL),1===t.tmp.can_substitute.mystack.length&&(t.tmp.can_block_substitute=!1)},this.execs.push(i),t.build.name_flag=!1}e.push(this),this.tokentype!==h.END&&this.tokentype!==h.SINGLETON||(t.build.substitute_level.pop(),h.Util.substituteEnd.call(this,t,e))}},h.Node.number={build:function(t,e){var i;h.Util.substituteStart.call(this,t,e),"roman"===this.strings.form?this.formatter=t.fun.romanizer:"ordinal"===this.strings.form?this.formatter=t.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=t.fun.long_ordinalizer),void 0===this.successor_prefix&&(this.successor_prefix=t[t.build.area].opt.layout_delimiter),void 0===this.splice_prefix&&(this.splice_prefix=t[t.build.area].opt.layout_delimiter),i=function(t,e,i){if(0!==this.variables.length){var n;if(n=this.variables[0],void 0===i&&(i={}),["locator","locator-extra"].indexOf(n)>-1){if(t.tmp.just_looking)return;if(!i[n])return}else if(!e[n])return;"collection-number"===n&&"legal_case"===e.type&&(t.tmp.renders_collection_number=!0);var r=this;if(t.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(n)>-1?t.processNumber.call(t,r,i,n,e.type):(!t.tmp.group_context.tip.condition&&e[n]&&(t.tmp.just_did_number=(""+e[n]).match(/[0-9]$/)),t.processNumber.call(t,r,e,n,e.type)),this.substring){var s=e[n].slice(this.substring);t.output.append(s,r)}else h.Util.outputNumericField(t,n,e.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&(t.tmp.done_vars.push(this.variables_real[0]),t.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(i),e.push(this),h.Util.substituteEnd.call(this,t,e)}},h.Node.sort={build:function(t,e){if(e=t[t.build.root+"_sort"].tokens,this.tokentype===h.START){"citation"===t.build.area&&(t.opt.sort_citations=!0),t.build.area=t.build.root+"_sort",t.build.extension="_sort";var i=function(t,e){if(t.opt.has_layout_locale){for(var i,n=h.localeResolve(e.language,t.opt["default-locale"][0]),r=t[t.tmp.area.slice(0,-5)].opt.sort_locales,s=0,o=r.length;s<o&&((i=r[s][n.bare])||(i=r[s][n.best]),!i);s+=1);i||(i=t.opt["default-locale"][0]),t.tmp.lang_sort_hold=t.opt.lang,t.opt.lang=i}};this.execs.push(i)}this.tokentype===h.END&&(t.build.area=t.build.root,t.build.extension="",i=function(t){t.opt.has_layout_locale&&(t.opt.lang=t.tmp.lang_sort_hold,delete t.tmp.lang_sort_hold)},this.execs.push(i)),e.push(this)}},h.Node.substitute={build:function(t,e){var i;if(this.tokentype===h.START){var n=new h.Token("choose",h.START);h.Node.choose.build.call(n,t,e);var r=new h.Token("if",h.SINGLETON);i=function(){return!(!t.tmp.value.length||t.tmp.common_term_match_fail)},r.tests=[i],r.test=t.fun.match.any(r,t,r.tests),e.push(r),i=function(t){t.tmp.can_block_substitute=!0,t.tmp.value.length&&!t.tmp.common_term_match_fail&&t.tmp.can_substitute.replace(!1,h.LITERAL),t.tmp.common_term_match_fail=!1},this.execs.push(i),e.push(this)}if(this.tokentype===h.END){e.push(this);var s=new h.Token("choose",h.END);h.Node.choose.build.call(s,t,e)}}},h.Node.text={build:function(t,e){var i,n,r,s,o,a,l,c,u,p,f;if(this.postponed_macro){var d=h.Util.cloneToken(this);d.name="group",d.tokentype=h.START,h.Node.group.build.call(d,t,e),h.expandMacro.call(t,this,e);var m=h.Util.cloneToken(this);m.name="group",m.tokentype=h.END,"juris-locator-label"===this.postponed_macro&&(m.isJurisLocatorLabel=!0),h.Node.group.build.call(m,t,e)}else{if(h.Util.substituteStart.call(this,t,e),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),n="long",r=0,this.strings.form&&(n=this.strings.form),this.strings.plural&&(r=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===t.build.root&&(t.opt.update_mode=h.NUMERIC),"bibliography"===t.build.root&&(t.opt.bib_mode=h.NUMERIC),"citation-number"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,i=function(t,e,i){if(s=""+e.id,!t.tmp.just_looking){if("_sort"===t.tmp.area.slice(-5)&&"citation-number"===this.variables[0]){if("bibliography_sort"===t.tmp.area&&t.tmp.group_context.tip.done_vars.push("citation-number"),"citation_sort"===t.tmp.area&&t.bibliography_sort.tmp.citation_number_map)var n=t.bibliography_sort.tmp.citation_number_map[t.registry.registry[e.id].seq];else n=t.registry.registry[e.id].seq;return n&&(n=h.Util.padding(""+n)),void t.output.append(n,this)}i&&i["author-only"]&&t.tmp.element_trace.replace("suppress-me"),n="bibliography_sort"!==t.tmp.area&&t.bibliography_sort.tmp.citation_number_map&&t.bibliography_sort.opt.citation_number_sort_direction===h.DESCENDING?t.bibliography_sort.tmp.citation_number_map[t.registry.registry[s].seq]:t.registry.registry[s].seq,t.opt.citation_number_slug?t.output.append(t.opt.citation_number_slug,this):(a=new h.NumericBlob(t,!1,n,this,e.id),t.tmp.in_cite_predecessor&&(a.suppress_splice_prefix=!0),t.output.append(a,"literal"))}},this.execs.push(i)):"year-suffix"===this.variables_real[0]?(t.opt.has_year_suffix=!0,"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,t[t.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=t[t.build.area].opt["year-suffix-delimiter"]),i=function(t,e){if(t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.just_looking){o=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),t[t.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter),a=new h.NumericBlob(t,!1,o,this,e.id),l=new h.Util.Suffixator(h.SUFFIX_CHARS),a.setFormatter(l),t.output.append(a,"literal"),c=!1;for(var i=0,n=t.tmp.group_context.mystack.length;i<n;i++){var r=t.tmp.group_context.mystack[i];if(!r.variable_success&&(r.variable_attempt||!r.variable_attempt&&!r.term_intended)){c=!0;break}}u=t[t.tmp.area].opt["year-suffix-delimiter"],c&&u&&!t.tmp.sort_key_flag&&(t.tmp.splice_delimiter=t[t.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(i)):"citation-label"===this.variables_real[0]&&("bibliography"===t.build.root&&(t.opt.bib_mode=h.TRIGRAPH),t.opt.has_year_suffix=!0,i=function(t,e){(p=e["citation-label"])||(p=t.getCitationLabel(e)),t.tmp.just_looking||(f="",t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&(o=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),f=t.fun.suffixator.format(o)),p+=f),t.output.append(p,this)},this.execs.push(i));else if(this.strings.term)i=function(t,e){var i,s=t.opt.gender[e.type],o=this.strings.term;if(""!==(o=t.getTerm(o,n,r,s,h.TOLERANT,this.default_locale))&&(t.tmp.group_context.tip.term_intended=!0),h.UPDATE_GROUP_CONTEXT_CONDITION(t,o,null,this),i=t.tmp.term_predecessor||"in-text"===t.opt.class&&"citation"===t.tmp.area?o:h.Output.Formatters["capitalize-first"](t,o),t.tmp.strip_periods)i=i.replace(/\./g,"");else for(var a=0,l=this.decorations.length;a<l;a+=1)if("@strip-periods"===this.decorations[a][0]&&"true"===this.decorations[a][1]){i=i.replace(/\./g,"");break}t.output.append(i,this),t.tmp.can_block_substitute&&t.tmp.can_substitute.replace(!1,h.LITERAL)},this.execs.push(i),t.build.term=!1,t.build.form=!1,t.build.plural=!1;else if(this.variables_real.length){if(i=function(t,e){"locator"!==this.variables_real[0]&&(t.tmp.have_collapsed=!1),!t.tmp.group_context.tip.condition&&e[this.variables[0]]&&(t.tmp.just_did_number=!1);var i=e[this.variables[0]];i&&!t.tmp.group_context.tip.condition&&((""+i).slice(-1).match(/[0-9]/)?t.tmp.just_did_number=!0:t.tmp.just_did_number=!1)},this.execs.push(i),h.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var g=this.variables[0],y=!1,b=!1,_=!1;"short"===n?"-short"!==this.variables_real[0].slice(-6)&&(b=this.variables_real[0]+"-short"):g=!1,t.build.extension?_=!0:(_=!0,y=!0),i=t.transform.getOutputFunction(this.variables,g,y,b,_)}else i=h.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(t,e,i){i&&i[this.variables[0]]&&(t.processNumber(this,i,this.variables[0],e.type),h.Util.outputNumericField(t,this.variables[0],e.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&t.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(t,e){t.processNumber(this,e,this.variables[0],e.type),h.Util.outputNumericField(t,this.variables[0],e.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(t,e){var i;if(this.variables[0]&&(i=t.getVariable(e,this.variables[0],n)))if("URL"===this.variables[0]&&"short"===n&&(i=i.replace(/(.*\.[^\/]+)\/.*/,"$1")).match(/\/\/www\./)&&(i=i.replace(/https?:\/\//,"")),t.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])t.output.append(i,this,!1,!1,!0);else{var r=h.Util.cloneToken(this),s=new h.Blob(null,null,"url-wrapper");if(s.decorations.push(["@DOI","true"]),"DOI"===this.variables_real[0]){var o;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(o=(i=i.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//)?"":"https://doi.org/",r.strings.prefix=this.strings.prefix.slice(0,r.strings.prefix.length-16));var a=new h.Blob(o),l=new h.Blob(i);s.push(a),s.push(l),t.output.append(s,r,!1,!1,!0)}else l=new h.Blob(i),s.push(l),t.output.append(s,r,!1,!1,!0)}else{if(this.decorations.length)for(var c=this.decorations.length-1;c>-1;c--)this.decorations[c][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,c).concat(this.decorations.slice(c+1)));t.output.append(i,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function(t,e){var i;(i=t.getVariable(e,this.variables[0],n))&&t.output.append(i,this)}:"hereinafter"===this.variables_real[0]?function(t,e){var i=t.transform.abbrevs.default.hereinafter[e.id];i&&(t.output.append(i,this),t.tmp.group_context.tip.variable_success=!0)}:function(t,e){var i;this.variables[0]&&(i=t.getVariable(e,this.variables[0],n))&&(i=(i=""+i).split("\\").join(""),t.output.append(i,this))};this.execs.push(i)}else this.strings.value&&(i=function(t){t.tmp.group_context.tip.term_intended=!0,h.UPDATE_GROUP_CONTEXT_CONDITION(t,this.strings.value,!0,this),t.output.append(this.strings.value,this),t.tmp.can_block_substitute&&t.tmp.can_substitute.replace(!1,h.LITERAL)},this.execs.push(i));e.push(this),h.Util.substituteEnd.call(this,t,e)}}},h.Node.intext={build:function(t,e){this.tokentype===h.START&&(t.build.area="intext",t.build.root="intext",t.build.extension="",this.execs.push((function(t,e){t.tmp.area="intext",t.tmp.root="intext",t.tmp.extension=""}))),this.tokentype===h.END&&(t.intext_sort={opt:{sort_directions:t.citation_sort.opt.sort_directions}},t.intext.srt=t.citation.srt),e.push(this)}},h.Attributes={},h.Attributes["@disambiguate"]=function(t,e){if(this.tests||(this.tests=[]),"true"===e){t.opt.has_disambiguate=!0;var i=function(e){if("bibliography"===t.tmp.area){if(t.tmp.disambiguate_count<t.registry.registry[e.id].disambig.disambiguate)return t.tmp.disambiguate_count+=1,!0}else if(t.tmp.disambiguate_maxMax+=1,t.tmp.disambig_settings.disambiguate&&t.tmp.disambiguate_count<t.tmp.disambig_settings.disambiguate)return t.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(i)}else"check-ambiguity-and-backreference"===e&&(i=function(e){return!!(t.registry.registry[e.id].disambig.disambiguate&&t.registry.registry[e.id]["citation-count"]>1)},this.tests.push(i))},h.Attributes["@is-numeric"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),n=function(e){return function(i,n){var r=i;if(n&&["locator","locator-extra"].indexOf(e)>-1&&(r=n),!r[e])return!1;if(h.NUMERIC_VARIABLES.indexOf(e)>-1){if(t.tmp.shadow_numbers[e]||t.processNumber(!1,r,e,i.type),t.tmp.shadow_numbers[e].numeric)return!0}else if(["title","version"].indexOf(e)>-1&&r[e].slice(-1)===""+parseInt(r[e].slice(-1),10))return!0;return!1}},r=0;r<i.length;r+=1)this.tests.push(n(i[r]))},h.Attributes["@is-uncertain-date"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),n=function(t){return function(e){return!(!e[t]||!e[t].circa)}},r=0,s=i.length;r<s;r+=1)this.tests.push(n(i[r]))},h.Attributes["@locator"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.replace("sub verbo","sub-verbo"),n=function(e){return function(i,n){var r;return t.processNumber(!1,n,"locator"),!(!(r=t.tmp.shadow_numbers.locator.label)||e!==r)}},r=0,s=(i=i.split(/\s+/)).length;r<s;r+=1)this.tests.push(n(i[r]))},h.Attributes["@position"]=function(t,e){this.tests||(this.tests=[]),t.opt.update_mode=h.POSITION;for(var i=e.split(/\s+/),n=function(t,e){return!!(e&&h.POSITION_MAP[e.position]>=h.POSITION_MAP[h.POSITION_SUBSEQUENT]&&e["near-note"])},r=function(t,e){return!(!e||h.POSITION_MAP[e.position]!=h.POSITION_MAP[h.POSITION_SUBSEQUENT]||e["near-note"])},s=function(e){return function(i,n){if("bibliography"===t.tmp.area)return!1;if(n&&void 0===n.position&&(n.position=0),n&&"number"==typeof n.position){if(0===n.position&&0===e)return!0;if(e>0&&h.POSITION_MAP[n.position]>=h.POSITION_MAP[e])return!0}else if(0===e)return!0;return!1}},o=0,a=i.length;o<a;o+=1){var l;"first"===(l=i[o])?l=h.POSITION_FIRST:"container-subsequent"===l?l=h.POSITION_CONTAINER_SUBSEQUENT:"subsequent"===l?l=h.POSITION_SUBSEQUENT:"ibid"===l?l=h.POSITION_IBID:"ibid-with-locator"===l&&(l=h.POSITION_IBID_WITH_LOCATOR),"near-note"===l?this.tests.push(n):"far-note"===l?this.tests.push(r):this.tests.push(s(l))}},h.Attributes["@type"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),n=function(t){return function(e){return!(e.type!==t)}},r=[],s=0,o=i.length;s<o;s+=1)r.push(n(i[s]));this.tests.push(t.fun.match.any(this,t,r))},h.Attributes["@variable"]=function(t,e){var i;if(this.tests||(this.tests=[]),this.variables=e.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)i=function(t,e,i){for(var n=this.variables.length-1;n>-1;n+=-1)this.variables.pop();n=0;for(var r=this.variables_real.length;n<r;n++)-1===t.tmp.done_vars.indexOf(this.variables_real[n])&&this.variables.push(this.variables_real[n]),t.tmp.can_block_substitute&&t.tmp.done_vars.push(this.variables_real[n])},this.execs.push(i),i=function(t,e,i){for(var n=!1,r=0,s=this.variables.length;r<s;r++){var o=this.variables[r];if(["authority","committee"].indexOf(o)>-1&&"string"==typeof e[o]&&"names"===this.name){var a=!0,l=e[o].split(/\s*;\s*/),c={};if(e.multi&&e.multi._keys[o])for(var u in e.multi._keys[o])if(c[u]=e.multi._keys[o][u].split(/\s*;\s*/),c[u].length!==l.length){a=!1;break}a||(l=[e[o]],c=e.multi._keys[o]);for(var p=0,f=l.length;p<f;p++){var d={literal:l[p],multi:{_key:{}}};for(var u in c){var m={literal:c[u][p]};d.multi._key[u]=m}l[p]=d}e[o]=l}if("short"!==this.strings.form||e[o]||("title"===o?o="title-short":"container-title"===o&&(o="container-title-short")),"year-suffix"===o){n=!0;break}if(h.DATE_VARIABLES.indexOf(o)>-1){if(t.opt.development_extensions.locator_date_and_revision&&"locator-date"===o){n=!0;break}if(e[o]){for(var g in e[o])if((-1!==this.dateparts.indexOf(g)||"literal"===g)&&e[o][g]){n=!0;break}if(n)break}}else{if("locator"===o){i&&i.locator&&(n=!0);break}if("locator-extra"===o){i&&i["locator-extra"]&&(n=!0);break}if(["citation-number","citation-label"].indexOf(o)>-1){n=!0;break}if("first-reference-note-number"===o){i&&i["first-reference-note-number"]&&(n=!0);break}if("first-container-reference-note-number"===o){i&&i["first-container-reference-note-number"]&&(n=!0);break}if("hereinafter"===o){t.transform.abbrevs.default.hereinafter[e.id]&&t.sys.getAbbreviation&&e.id&&(n=!0);break}if("object"==typeof e[o])break;if("string"==typeof e[o]&&e[o]){n=!0;break}if("number"==typeof e[o]){n=!0;break}}if(n)break}if(n){for(r=0,s=this.variables_real.length;r<s;r++)"citation-number"===(o=this.variables_real[r])&&"bibliography"===t.tmp.area||(t.tmp.cite_renders_content=!0),t.tmp.group_context.tip.variable_success=!0,t.tmp.can_substitute.value()&&"bibliography"===t.tmp.area&&"string"==typeof e[o]&&(t.tmp.name_node.top=t.output.current.value(),t.tmp.rendered_name.push(e[o]));t.tmp.can_substitute.replace(!1,h.LITERAL)}else t.tmp.group_context.tip.variable_attempt=!0},this.execs.push(i);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var n=function(e){return function(i,n){var r=i;if(n&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(e)>-1&&(r=n),"hereinafter"===e&&t.sys.getAbbreviation&&r.id){if(t.transform.abbrevs.default.hereinafter[r.id])return!0}else if(r[e]){if("number"==typeof r[e]||"string"==typeof r[e])return!0;if("object"==typeof r[e])for(var s in r[e])if(r[e][s])return!0}return!1}},r=0,s=this.variables.length;r<s;r+=1)this.tests.push(n(this.variables[r]))},h.Attributes["@page"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.replace("sub verbo","sub-verbo"),n=function(e){return function(i){var n;return t.processNumber(!1,i,"page",i.type),n=t.tmp.shadow_numbers.page.label?"sub verbo"===t.tmp.shadow_numbers.page.label?"sub-verbo":t.tmp.shadow_numbers.page.label:"page",t.tmp.shadow_numbers.page.values.length>0&&t.tmp.shadow_numbers.page.values[0].gotosleepability&&(t.tmp.shadow_numbers.page.values[0].labelVisibility=!1),e===n}},r=0,s=(i=i.split(/\s+/)).length;r<s;r+=1)this.tests.push(n(i[r]))},h.Attributes["@number"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),n=function(e){return function(i){var n;return t.processNumber(!1,i,"number",i.type),n=t.tmp.shadow_numbers.number.label?t.tmp.shadow_numbers.number.label:"number",e===n}},r=0,s=i.length;r<s;r+=1)this.tests.push(n(i[r]))},h.Attributes["@jurisdiction"]=function(t,e){this.tests||(this.tests=[]);var i=e.split(/\s+/);this.tests.push(function(t){return function(e){if(!e.jurisdiction)return!1;for(var i=e.jurisdiction,n=0,r=t.length;n<r;n++)if(i===t[n])return!0;return!1}}(i))},h.Attributes["@country"]=function(t,e){this.tests||(this.tests=[]);var i=e.split(/\s+/);this.tests.push(function(t){return function(e){if(!e.country)return!1;for(var i=e.country,n=0,r=t.length;n<r;n++)if(i===t[n])return!0;return!1}}(i))},h.Attributes["@context"]=function(t,e){this.tests||(this.tests=[]),this.tests.push((function(){return["bibliography","citation"].indexOf(e)>-1?t.tmp.area.slice(0,e.length)===e:"alternative"===e?!!t.tmp.abort_alternative:void 0}))},h.Attributes["@has-year-only"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),n=function(t){return function(e){var i=e[t];return!(!i||i.month||i.season)}},r=0,s=i.length;r<s;r+=1)this.tests.push(n(i[r]))},h.Attributes["@has-to-month-or-season"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),n=function(t){return function(e){var i=e[t];return!(!i||!i.month&&!i.season||i.day)}},r=0,s=i.length;r<s;r+=1)this.tests.push(n(i[r]))},h.Attributes["@has-day"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),n=function(t){return function(e){var i=e[t];return!(!i||!i.day)}},r=0,s=i.length;r<s;r+=1)this.tests.push(n(i[r]))},h.Attributes["@is-plural"]=function(t,e){this.tests||(this.tests=[]),this.tests.push((function(i){var n=i[e];if(n&&n.length){for(var r=0,s=0,o=!1,a=0,l=n.length;a<l;a+=1)t.opt.development_extensions.spoof_institutional_affiliations&&(n[a].literal||n[a].isInstitution&&n[a].family&&!n[a].given)?(s+=1,o=!1):(r+=1,o=!0);if(r>1)return!0;if(s>1)return!0;if(s&&o)return!0}return!1}))},h.Attributes["@is-multiple"]=function(t,e){this.tests||(this.tests=[]),this.tests.push((function(t){return(""+t[e]).split(/(?:,\s|\s(?:tot\sen\smet|lÄ«dz|oraz|and|bis|Î­ÏÏ|ÎºÎ±Î¹|och|aÅ¾|do|en|et|in|ir|ja|og|sa|to|un|und|Ã©s|Èi|i|u|y|Ã |e|a|Ð¸|-|â)\s|â|\&)/).length>1}))},h.Attributes["@locale"]=function(t,e){var i,n,r;this.tests||(this.tests=[]);var s=t.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=e,this.tokentype===h.START){t.opt.multi_layout||(t.opt.multi_layout=[]);var o=[],a=e.split(/\s+/),l={},c=h.localeResolve(a[0],s);o.push(c),c.generic?l[c.generic]=c.best:l[c.best]=c.best;for(var u=1,p=a.length;u<p;u+=1){var f=h.localeResolve(a[u],s);o.push(f),f.generic?l[f.generic]=c.best:l[f.best]=c.best}t[t.build.area].opt.sort_locales.push(l),t.opt.multi_layout.push(o)}t.opt.has_layout_locale=!0}else{r=e.split(/\s+/);var d=[];for(u=0,p=r.length;u<p;u+=1)n=r[u],i=h.localeResolve(n,s),2===r[u].length&&d.push(i.bare),t.localeConfigure(i,!0),r[u]=i;var m=r.slice();this.tests.push(function(e,i,n){return function(r){var s,o,a;for(s=!1,a=r.language?r.language:i,o=h.localeResolve(a,i),u=0,p=e.length;u<p;u+=1)if(o.best===e[u].best){t.tmp.condition_lang_counter_arr.push(t.tmp.condition_counter),t.tmp.condition_lang_val_arr.push(t.opt.lang),t.opt.lang=e[0].best,s=!0;break}return!s&&n.indexOf(o.bare)>-1&&(t.tmp.condition_lang_counter_arr.push(t.tmp.condition_counter),t.tmp.condition_lang_val_arr.push(t.opt.lang),t.opt.lang=e[0].best,s=!0),s}}(m,s,d))}},h.Attributes["@alternative-node-internal"]=function(t){this.tests||(this.tests=[]),this.tests.push((function(){return!t.tmp.abort_alternative}))},h.Attributes["@locale-internal"]=function(t,e){var i,n,r,s,o,a;for(this.tests||(this.tests=[]),r=e.split(/\s+/),this.locale_bares=[],s=0,o=r.length;s<o;s+=1)n=r[s],i=h.localeResolve(n,t.opt["default-locale"][0]),2===r[s].length&&this.locale_bares.push(i.bare),t.localeConfigure(i),r[s]=i;this.locale_default=t.opt["default-locale"][0],this.locale=r[0].best,this.locale_list=r.slice(),this.tests.push((a=this,function(e){var i;i=!1;var r=!1;if(e.language&&(n=e.language,(r=h.localeResolve(n,t.opt["default-locale"][0])).best===t.opt["default-locale"][0]&&(r=!1)),r){for(s=0,o=a.locale_list.length;s<o;s+=1)if(r.best===a.locale_list[s].best){t.opt.lang=a.locale,t.tmp.last_cite_locale=a.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=a.locale,i=!0;break}!i&&a.locale_bares.indexOf(r.bare)>-1&&(t.opt.lang=a.locale,t.tmp.last_cite_locale=a.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=a.locale,i=!0)}return i}))},h.Attributes["@court-class"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),n=function(e){return function(i){return h.GET_COURT_CLASS(t,i)===e}},r=0,s=i.length;r<s;r++)this.tests.push(n(i[r]))},h.Attributes["@container-multiple"]=function(t,e){this.tests||(this.tests=[]);var i="true"===e;this.tests.push(function(e){return function(i){return t.tmp.container_item_count[i.container_id]&&t.tmp.container_item_count[i.container_id]>1?e:!e}}(i))},h.Attributes["@container-subsequent"]=function(t,e){this.tests||(this.tests=[]);var i="true"===e;this.tests.push(function(e){return function(i){return t.tmp.container_item_pos[i.container_id]>1?e:!e}}(i))},h.Attributes["@has-subunit"]=function(t,e){var i;this.tests||(this.tests=[]),this.tests.push((i=e,function(t){var e=0;for(var n in t[i]){var r=t[i][n];if(!r.given){var s=(r.literal?r.literal:r.family).split("|").length;(0===e||s<e)&&(e=s)}}return e>1}))},h.Attributes["@cite-form"]=function(t,e){var i;this.tests||(this.tests=[]),this.tests.push((i=e,function(t){return t["cite-form"]===i}))},h.Attributes["@disable-duplicate-year-suppression"]=function(t,e){t.opt.disable_duplicate_year_suppression=e.split(/\s+/)},h.Attributes["@consolidate-containers"]=function(t,e){h.Attributes["@track-containers"](t,e);var i=e.split(/\s+/);t.bibliography.opt.consolidate_containers=i},h.Attributes["@track-containers"]=function(t,e){var i=e.split(/\s+/);t.bibliography.opt.track_container_items||(t.bibliography.opt.track_container_items=[]),t.bibliography.opt.consolidate_containers||(t.bibliography.opt.consolidate_containers=[]),t.bibliography.opt.track_container_items=t.bibliography.opt.track_container_items.concat(i)},h.Attributes["@parallel-first"]=function(t,e){t.opt.parallel.enable=!0;var i=e.split(/\s+/);for(var n in t.opt.track_repeat||(t.opt.track_repeat={}),this.parallel_first={},i){var r=i[n];this.parallel_first[r]=!0,t.opt.track_repeat[r]=!0}},h.Attributes["@parallel-last"]=function(t,e){t.opt.parallel.enable=!0;var i=e.split(/\s+/);for(var n in t.opt.track_repeat||(t.opt.track_repeat={}),this.parallel_last={},i){var r=i[n];this.parallel_last[r]=!0,t.opt.track_repeat[r]=!0}},h.Attributes["@parallel-last-to-first"]=function(t,e){t.opt.parallel.enable=!0;var i=e.split(/\s+/);this.parallel_last_to_first={};for(var n=0,r=i.length;n<r;n++)this.parallel_last_to_first[i[n]]=!0},h.Attributes["@parallel-delimiter-override"]=function(t,e){t.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=e},h.Attributes["@parallel-delimiter-override-on-suppress"]=function(t,e){t.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=e},h.Attributes["@no-repeat"]=function(t,e){t.opt.parallel.enable=!0;var i=e.split(/\s+/);for(var n in t.opt.track_repeat||(t.opt.track_repeat={}),this.non_parallel={},i){var r=i[n];this.non_parallel[r]=!0,t.opt.track_repeat[r]=!0}},h.Attributes["@require"]=function(t,e){t.opt.use_context_condition=!0,this.strings.require=e},h.Attributes["@reject"]=function(t,e){t.opt.use_context_condition=!0,this.strings.reject=e},h.Attributes["@require-comma-on-symbol"]=function(t,e){t.opt.require_comma_on_symbol=e},h.Attributes["@gender"]=function(t,e){this.gender=e},h.Attributes["@cslid"]=function(t,e){this.cslid=parseInt(e,10)},h.Attributes["@capitalize-if-first"]=function(t,e){this.strings.capitalize_if_first_override=e},h.Attributes["@label-capitalize-if-first"]=function(t,e){this.strings.label_capitalize_if_first_override=e},h.Attributes["@label-form"]=function(t,e){this.strings.label_form_override=e},h.Attributes["@part-separator"]=function(t,e){this.strings["part-separator"]=e},h.Attributes["@leading-noise-words"]=function(t,e){this["leading-noise-words"]=e},h.Attributes["@name-never-short"]=function(t,e){this["name-never-short"]=e},h.Attributes["@class"]=function(t,e){t.opt.class=e},h.Attributes["@version"]=function(t,e){t.opt.version=e},h.Attributes["@value"]=function(t,e){this.strings.value=e},h.Attributes["@name"]=function(t,e){this.strings.name=e},h.Attributes["@form"]=function(t,e){this.strings.form=e},h.Attributes["@date-parts"]=function(t,e){this.strings["date-parts"]=e},h.Attributes["@range-delimiter"]=function(t,e){this.strings["range-delimiter"]=e},h.Attributes["@macro"]=function(t,e){this.postponed_macro=e},h.Attributes["@term"]=function(t,e){this.strings.term="sub verbo"===e?"sub-verbo":e},h.Attributes["@xmlns"]=function(){},h.Attributes["@lang"]=function(t,e){e&&(t.build.lang=e)},h.Attributes["@lingo"]=function(){},h.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0},h.Attributes["@suffix"]=function(t,e){this.strings.suffix=e},h.Attributes["@prefix"]=function(t,e){this.strings.prefix=e},h.Attributes["@delimiter"]=function(t,e){this.strings.delimiter=e},h.Attributes["@match"]=function(t,e){this.match=e},h.Attributes["@names-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),this.strings["et-al-min"]=i},h.Attributes["@names-use-first"]=function(t,e){this.strings["et-al-use-first"]=parseInt(e,10)},h.Attributes["@names-use-last"]=function(t,e){this.strings["et-al-use-last"]="true"===e},h.Attributes["@sort"]=function(t,e){"descending"===e&&(this.strings.sort_direction=h.DESCENDING)},h.Attributes["@plural"]=function(t,e){"always"===e||"true"===e?this.strings.plural=1:"never"===e||"false"===e?this.strings.plural=0:"contextual"===e&&(this.strings.plural=!1)},h.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0},h.Attributes["@publisher-delimiter-precedes-last"]=function(t,e){this.strings["publisher-delimiter-precedes-last"]=e},h.Attributes["@publisher-delimiter"]=function(t,e){this.strings["publisher-delimiter"]=e},h.Attributes["@publisher-and"]=function(t,e){this.strings["publisher-and"]=e},h.Attributes["@givenname-disambiguation-rule"]=function(t,e){h.GIVENNAME_DISAMBIGUATION_RULES.indexOf(e)>-1&&(t.citation.opt["givenname-disambiguation-rule"]=e)},h.Attributes["@collapse"]=function(t,e){e&&(t[this.name].opt.collapse=e)},h.Attributes["@cite-group-delimiter"]=function(t,e){e&&(t[t.tmp.area].opt.cite_group_delimiter=e)},h.Attributes["@names-delimiter"]=function(t,e){t.setOpt(this,"names-delimiter",e)},h.Attributes["@name-form"]=function(t,e){t.setOpt(this,"name-form",e)},h.Attributes["@subgroup-delimiter"]=function(t,e){this.strings["subgroup-delimiter"]=e},h.Attributes["@subgroup-delimiter-precedes-last"]=function(t,e){this.strings["subgroup-delimiter-precedes-last"]=e},h.Attributes["@name-delimiter"]=function(t,e){t.setOpt(this,"name-delimiter",e)},h.Attributes["@et-al-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),t.setOpt(this,"et-al-min",i)},h.Attributes["@et-al-use-first"]=function(t,e){t.setOpt(this,"et-al-use-first",parseInt(e,10))},h.Attributes["@et-al-use-last"]=function(t,e){"true"===e?t.setOpt(this,"et-al-use-last",!0):t.setOpt(this,"et-al-use-last",!1)},h.Attributes["@et-al-subsequent-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),t.setOpt(this,"et-al-subsequent-min",i)},h.Attributes["@et-al-subsequent-use-first"]=function(t,e){t.setOpt(this,"et-al-subsequent-use-first",parseInt(e,10))},h.Attributes["@suppress-min"]=function(t,e){this.strings["suppress-min"]=parseInt(e,10)},h.Attributes["@suppress-max"]=function(t,e){this.strings["suppress-max"]=parseInt(e,10)},h.Attributes["@and"]=function(t,e){t.setOpt(this,"and",e)},h.Attributes["@delimiter-precedes-last"]=function(t,e){t.setOpt(this,"delimiter-precedes-last",e)},h.Attributes["@delimiter-precedes-et-al"]=function(t,e){t.setOpt(this,"delimiter-precedes-et-al",e)},h.Attributes["@initialize-with"]=function(t,e){t.setOpt(this,"initialize-with",e)},h.Attributes["@initialize"]=function(t,e){"false"===e&&t.setOpt(this,"initialize",!1)},h.Attributes["@name-as-reverse-order"]=function(t,e){this["name-as-reverse-order"]=e},h.Attributes["@name-as-sort-order"]=function(t,e){"style-options"===this.name?this["name-as-sort-order"]=e:t.setOpt(this,"name-as-sort-order",e)},h.Attributes["@sort-separator"]=function(t,e){t.setOpt(this,"sort-separator",e)},h.Attributes["@require-match"]=function(t,e){"true"===e&&(this.requireMatch=!0)},h.Attributes["@exclude-types"]=function(t,e){t.bibliography.opt.exclude_types=e.split(/\s+/)},h.Attributes["@exclude-with-fields"]=function(t,e){t.bibliography.opt.exclude_with_fields=e.split(/\s+/)},h.Attributes["@year-suffix-delimiter"]=function(t,e){t[this.name].opt["year-suffix-delimiter"]=e},h.Attributes["@after-collapse-delimiter"]=function(t,e){t[this.name].opt["after-collapse-delimiter"]=e},h.Attributes["@subsequent-author-substitute"]=function(t,e){t[this.name].opt["subsequent-author-substitute"]=e},h.Attributes["@subsequent-author-substitute-rule"]=function(t,e){t[this.name].opt["subsequent-author-substitute-rule"]=e},h.Attributes["@disambiguate-add-names"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-names"]=!0)},h.Attributes["@disambiguate-add-givenname"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-givenname"]=!0)},h.Attributes["@disambiguate-add-year-suffix"]=function(t,e){"true"===e&&"numeric"!==t.opt.xclass&&(t.opt["disambiguate-add-year-suffix"]=!0)},h.Attributes["@second-field-align"]=function(t,e){"flush"!==e&&"margin"!==e||(t[this.name].opt["second-field-align"]=e)},h.Attributes["@hanging-indent"]=function(t,e){"true"===e&&(t.opt.development_extensions.hanging_indent_legacy_number?t[this.name].opt.hangingindent=2:t[this.name].opt.hangingindent=!0)},h.Attributes["@line-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["line-spacing"]=parseFloat(e,10))},h.Attributes["@entry-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["entry-spacing"]=parseFloat(e,10))},h.Attributes["@near-note-distance"]=function(t,e){t[this.name].opt["near-note-distance"]=parseInt(e,10)},h.Attributes["@substring"]=function(t,e){this.substring=parseInt(e,10)},h.Attributes["@text-case"]=function(t,e){this.execs.push((function(t,i){"normal"===e?this.text_case_normal=!0:(this.strings["text-case"]=e,"title"===e&&i.jurisdiction&&(this.strings["text-case"]="passthrough"))}))},h.Attributes["@page-range-format"]=function(t,e){t.opt["page-range-format"]=e},h.Attributes["@year-range-format"]=function(t,e){t.opt["year-range-format"]=e},h.Attributes["@default-locale"]=function(t,e){if("style"===this.name){var i,n,r,s,o;if(o=e.match(/-x-(sort|translit|translat)-/g))for(r=0,n=o.length;r<n;r+=1)o[r]=o[r].replace(/^-x-/,"").replace(/-$/,"");for(s=[(i=e.split(/-x-(?:sort|translit|translat)-/))[0]],r=1,n=i.length;r<n;r+=1)s.push(o[r-1]),s.push(i[r]);for(n=(i=s.slice()).length,r=1;r<n;r+=2)t.opt["locale-"+i[r]].push(i[r+1].replace(/^\s*/g,"").replace(/\s*$/g,""));i.length?t.opt["default-locale"]=i.slice(0,1):t.opt["default-locale"]=["en"]}else"true"===e&&(this.default_locale=!0)},h.Attributes["@default-locale-sort"]=function(t,e){t.opt["default-locale-sort"]=e},h.Attributes["@demote-non-dropping-particle"]=function(t,e){t.opt["demote-non-dropping-particle"]=e},h.Attributes["@initialize-with-hyphen"]=function(t,e){"false"===e&&(t.opt["initialize-with-hyphen"]=!1)},h.Attributes["@institution-parts"]=function(t,e){this.strings["institution-parts"]=e},h.Attributes["@if-short"]=function(t,e){"true"===e&&(this.strings["if-short"]=!0)},h.Attributes["@substitute-use-first"]=function(t,e){this.strings["substitute-use-first"]=parseInt(e,10)},h.Attributes["@use-first"]=function(t,e){this.strings["use-first"]=parseInt(e,10)},h.Attributes["@use-last"]=function(t,e){this.strings["use-last"]=parseInt(e,10)},h.Attributes["@stop-first"]=function(t,e){this.strings["stop-first"]=parseInt(e,10)},h.Attributes["@stop-last"]=function(t,e){this.strings["stop-last"]=-1*parseInt(e,10)},h.Attributes["@reverse-order"]=function(t,e){"true"===e&&(this.strings["reverse-order"]=!0)},h.Attributes["@display"]=function(t,e){2===t.bibliography.tokens.length&&(t.opt.using_display=!0),this.strings.cls=e},h.Stack=function(t,e){this.mystack=[],(e||t)&&this.mystack.push(t),this.tip=this.mystack[0]},h.Stack.prototype.push=function(t,e){e||t?this.mystack.push(t):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},h.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},h.Stack.prototype.replace=function(t,e){0===this.mystack.length&&h.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+t),this.mystack[this.mystack.length-1]=e||t?t:"",this.tip=this.mystack[this.mystack.length-1]},h.Stack.prototype.pop=function(){var t=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},t},h.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},h.Stack.prototype.length=function(){return this.mystack.length},h.Parallel=function(t){this.state=t},h.Parallel.prototype.StartCitation=function(t,e){if(this.state.tmp.suppress_repeats=[],!(t.length<2)){for(var i=0,n=!1,r=[],s=0,o=t.length-1;s<o;s++){var a=t[s][0],l=t[s+1][0],c=!1,u={};if(t[s][0].seeAlso&&t[s][0].seeAlso.length>0&&!n){c=!0;var h=(n=[t[s][0].id].concat(t[s][0].seeAlso)).slice(),p=t.slice(s);p[0][1].parallel="first";for(var f=0,d=p.length;f<d;f++){var m=p[f][0].id,g=h.indexOf(m);if(i=!1,-1===g?i=s+f-1:s+f===t.length-1&&(i=s+f),i){r.push([s,i]);break}h=h.slice(0,g).concat(h.slice(g+1))}}for(var y in s>0&&c&&(this.state.tmp.suppress_repeats[s-1].START=!0,c=!1),this.state.opt.track_repeat)if(a[y]&&l[y])if("string"==typeof l[y]||"number"==typeof l[y]){if("title"===y&&a["title-short"]&&l["title-short"])var b=a["title-short"],_=l["title-short"];else b=a[y],_=l[y];u[y]=b==_}else if(void 0===a[y].length){u[y]=!1;var v=a[y].year,w=l[y].year;v&&w&&v==w&&(u[y]=!0)}else b=JSON.stringify(a[y]),_=JSON.stringify(l[y]),u[y]=b===_;else u[y]=!1;n||(u.ORPHAN=!0),i===s&&(u.END=!0,n=!1),this.state.tmp.suppress_repeats.push(u)}for(f=0,d=r.length;f<d;f++){var x=t[r[f][0]][0].id;this.state.registry.registry[x].master=!0,this.state.registry.registry[x].siblings=[];for(var k=r[f][0],E=r[f][1],A=k;A<E;A++){this.state.tmp.suppress_repeats[A].SIBLING=!0;var S=t[A+1][0].id;t[A+1][1].parallel="other",this.state.registry.registry[x].siblings.push(S)}}}},h.Parallel.prototype.checkRepeats=function(t){var e=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(t.parallel_first&&Object.keys(t.parallel_first).length>0){var i=[{}].concat(this.state.tmp.suppress_repeats),n=!0;for(var r in t.parallel_first)i[e][r]&&!i[e].START||(n=!1);return n}if(t.parallel_last&&Object.keys(t.parallel_last).length>0){for(var r in i=this.state.tmp.suppress_repeats.concat([{}]),n=Object.keys(t.parallel_last).length>0,t.parallel_last)i[e][r]&&!i[e].END||(n=!1);return n}if(t.non_parallel&&Object.keys(t.non_parallel).length>0){for(var r in i=[{}].concat(this.state.tmp.suppress_repeats),n=!0,t.non_parallel)i[e][r]||(n=!1);return n}}return!1},h.Util={},h.Util.Match=function(){this.any=function(t,e,i){return function(t,e){for(var n=0,r=i.length;n<r;n+=1)if(i[n](t,e))return!0;return!1}},this.none=function(t,e,i){return function(t,e){for(var n=0,r=i.length;n<r;n+=1)if(i[n](t,e))return!1;return!0}},this.all=function(t,e,i){return function(t,e){for(var n=0,r=i.length;n<r;n+=1)if(!i[n](t,e))return!1;return!0}},this[void 0]=this.all,this.nand=function(t,e,i){return function(t,e){for(var n=0,r=i.length;n<r;n+=1)if(!i[n](t,e))return!0;return!1}}},h.Transform=function(t){function e(e,i,n){var r="";return t.sys.getHumanForm&&("country"===e?r=(r=t.sys.getHumanForm(i.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===e&&(r=t.sys.getHumanForm(i.toLowerCase(),!1,!0),r=n?"":r.split("|").slice(1).join(", "))),r}function i(t,i,n,r,s,o,a){var l,c="",u=h.FIELD_CATEGORY_REMAP[o];if(!u)return s;var p=o,f=s;t.sys.normalizeAbbrevsKey&&(f=t.sys.normalizeAbbrevsKey(o,s));var d=!1;if("jurisdiction"===p&&f&&(d=-1===f.indexOf(":")),["jurisdiction","country"].indexOf(o)>-1&&s===s.toLowerCase()&&(f=s.toUpperCase()),t.sys.getAbbreviation){l=["jurisdiction","country","language-name","language-name-original"].indexOf(p)>-1?"default":n.jurisdiction?n.jurisdiction:"default";var m=t.transform.loadAbbreviation(l,u,f,n.language);if(t.transform.abbrevs[m][u]&&f){var g=t.transform.abbrevs[m][u][f];c="short"===i.strings.form&&g?d?"":g:e(p,f,d)}}return c||t.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===n.type||!r||!n[r]||!a||(c=n[r]),c||t.sys.getAbbreviation||!t.sys.getHumanForm||(c=e(p,f,d)),c||d||t.sys.getHumanForm&&"jurisdiction"===p||(c=s),t.opt.development_extensions.force_title_abbrev_fallback&&"title"===p&&c===s&&n["title-short"]&&(c=n["title-short"]),c}function n(e,i){var n,r=t.opt["default-locale"][0].slice(0,2);if(n=t.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),e.language){var s=(""+e.language).match(n);r=s?s[1]:"tlh"}return e.multi&&e.multi&&e.multi.main&&e.multi.main[i]&&(r=e.multi.main[i]),t.opt.development_extensions.strict_text_case_locales&&!t.opt.development_extensions.normalize_lang_keys_to_lowercase||(r=r.toLowerCase()),r}function r(e,i,r,s,o,a){var l,c,u,p,f=o,d=!1;if(!e[i])return{name:"",usedOrig:o,token:h.Util.cloneToken(this)};var m=!1;h.VARIABLES_WITH_SHORT_FORM.indexOf(i)>-1&&a&&(i+="-short",m=!0);var g=!1,y=null,b=[];"-short"===i.slice(-6)?(b.push(i),b.push(i.slice(0,-6))):b.push(i);for(var _=0,v=b.length;_<v;_++){var w=!1;u={name:"",usedOrig:o,locale:n(e,i=b[_])},p=t.opt[r]?t.opt[r].slice():[];var x=!1;if("locale-orig"===r?(o||(u.name=e[i],u.usedOrig=!1),x=!0,d=!0):!s||void 0!==p&&0!==p.length||(u.name=e[i],u.usedOrig=!0,x=!0,d=!0),!x){for(var k=0,E=p.length;k<E;k+=1){if(c=(l=p[k]).split(/[\-_]/)[0],l&&e.multi&&e.multi._keys[i]&&e.multi._keys[i][l]){u.name=e.multi._keys[i][l],u.locale=l,x=!0,w=!0,d=!1;break}if(c&&e.multi&&e.multi._keys[i]&&e.multi._keys[i][c]){u.name=e.multi._keys[i][c],u.locale=c,x=!0,w=!0,d=!1;break}}!u.name&&s&&(u={name:e[i],usedOrig:!0,locale:n(e,i)},d=!0)}if(u.token=h.Util.cloneToken(this),0===_?(w&&(u.found_variant_ok=!0),y=u,m||void 0!==p&&0!==p.length||(g=!0),w&&(g=!0)):m||w||!y?w&&(u.found_variant_ok=!0):(u=y,i=b[0]),["title","container-title"].indexOf(i)>-1&&!(f||u.token.strings["text-case"]&&"sentence"!==u.token.strings["text-case"]&&"normal"!==u.token.strings["text-case"])){var A;t.opt.lang,A=!d&&u.locale;var S=i.slice(0,-5),O="sentence"===u.token.strings["text-case"];u.name=h.titlecaseSentenceOrNormal(t,e,S,A,O),delete u.token.strings["text-case"]}if(g)break}return u}function s(e,n,r,s){var o=e.variables[0];if(t.publisherOutput&&r){if(-1===["publisher","publisher-place"].indexOf(o))return!1;t.publisherOutput[o+"-token"]=e,t.publisherOutput.varlist.push(o);var a=r.split(/;\s*/);a.length===t.publisherOutput[o+"-list"].length&&(t.publisherOutput[o+"-list"]=a);for(var l=0,c=a.length;l<c;l+=1)a[l]=i(t,e,n,!1,a[l],s,!0);return t.tmp[o+"-token"]=e,!0}return!1}function o(e,i){var n=i.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(n&&(i=i.slice(n[0].length),n[1]))for(var r=n[1].split(","),s=0,o=r.length;s<o;s+=1){var a=r[s].match(/^([-_a-z]+)(?:\:(.*))*$/),l=a[1],c=t.tmp.abbrev_trimmer;a[2]?c&&e&&(c[e]||(c[e]={}),c[e][l]=a[2]):-1===t.tmp.done_vars.indexOf(l)&&(c&&e&&(c.QUASHES[e]||(c.QUASHES[e]={}),c.QUASHES[e][l]=!0),t.tmp.done_vars.push(l))}return i}this.abbrevs={},this.abbrevs.default=new t.sys.AbbreviationSegments,this.getTextSubField=r,this.loadAbbreviation=function(e,i,n,r){e||(e="default");var s=e.split(":")[0],o=h.getAbbrevsDomain(t,s,r);return o&&(e+="@"+o),n?(t.sys.getAbbreviation&&((e=t.sys.getAbbreviation(t.opt.styleID,t.transform.abbrevs,e,i,n))||(e="default",o&&(e+="@"+o))),e):(t.transform.abbrevs[e]||(t.transform.abbrevs[e]=new t.sys.AbbreviationSegments),t.transform.abbrevs[e][i]||(t.transform.abbrevs[e][i]={}),e)},this.quashCheck=o,this.getOutputFunction=function(e,n,a,l){var c,u=h.LangPrefsMap[e[0]];return c=!!u&&t.opt["cite-lang-prefs"][u],function(t,a,p){var f,d,m,g,y,b;if(!e[0]||!a[e[0]]&&!a[l])return null;if(!t.tmp.just_looking&&p&&p["suppress-author"]&&!t.tmp.probably_rendered_something&&t.tmp.can_substitute.length()>1)return null;var _={primary:!1,secondary:!1,tertiary:!1};if("_sort"===t.tmp.area.slice(-5))_.primary="locale-sort";else if(c&&1===c.length&&"locale-orig"===c[0])_.primary="locale-orig",c=!1;else if(c&&!t.tmp.multi_layout)for(var v=["primary","secondary","tertiary"],w=0,x=v.length;w<x&&!(c.length-1<w);w+=1)c[w]&&(_[v[w]]="locale-"+c[w]);else _.primary="locale-orig";if("title-short"!==e[0]&&("bibliography"===t.tmp.area||"citation"===t.tmp.area&&"note"===t.opt.xclass&&p&&!p.position)||(_.secondary=!1,_.tertiary=!1),t.tmp.multi_layout&&(_.secondary=!1,_.tertiary=!1),t.tmp["publisher-list"])return"publisher"===e[0]?t.tmp["publisher-token"]=this:"publisher-place"===e[0]&&(t.tmp["publisher-place-token"]=this),null;var k=t.tmp.lang_array.slice(),E=r.call(this,a,e[0],_.primary,!0,null,n);f=E.name,d=E.locale;var A,S,O,T=E.token,C=E.usedOrig;if(n&&!E.found_variant_ok&&(f=i(t,T,a,l,f,n,!0))&&(function(t,e){var i=e.match(/^#([0-9]+).*>>>/);i&&i[1]&&(t["cite-form"]=i[1])}(a,f),t.tmp.just_looking||(f=o(a.jurisdiction,f))),s(this,a,f,n))return t.tmp.lang_array=k,null;if(m=!1,y=!1,_.secondary&&(m=(E=r.call(this,a,e[0],_.secondary,!1,E.usedOrig,null,n)).name,g=E.locale,A=E.token,n&&!E.found_variant_ok&&m&&(m=i(t,A,a,!1,m,n,!0))),_.tertiary&&(y=(E=r.call(this,a,e[0],_.tertiary,!1,E.usedOrig,null,n)).name,b=E.locale,S=E.token,n&&!E.found_variant_ok&&y&&(y=i(t,S,a,!1,y,n,!0))),"locale-translit"===_.primary&&(O=t.opt.citeAffixes[u][_.primary].prefix),"<i>"===O&&"title"===e[0]&&!C){var N=!1;for(w=0,x=T.decorations.length;w<x;w+=1)"@font-style"===T.decorations[w][0]&&"italic"===T.decorations[w][1]&&(N=!0);N||T.decorations.push(["@font-style","italic"])}if("en"!==d&&"title"===T.strings["text-case"]&&(T.strings["text-case"]="passthrough"),"title"===e[0]&&(f=h.demoteNoiseWords(t,f,this["leading-noise-words"])),m||y){if(t.output.openLevel("empty"),T.strings.suffix=T.strings.suffix.replace(/[ .,]+$/,""),d&&(t.tmp.lang_array=[d].concat(k)),h.UPDATE_GROUP_CONTEXT_CONDITION(t,null,null,T,T.strings.prefix+f),t.output.append(f,T),t.tmp.probably_rendered_something=!0,f===m&&(m=!1),m){for(A.strings.prefix=t.opt.citeAffixes[u][_.secondary].prefix,A.strings.suffix=t.opt.citeAffixes[u][_.secondary].suffix,A.strings.prefix||(A.strings.prefix=" "),w=A.decorations.length-1;w>-1;w+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(A.decorations[w].join("/"))>-1&&(A.decorations=A.decorations.slice(0,w).concat(A.decorations.slice(w+1)));"en"!==g&&"title"===A.strings["text-case"]&&(A.strings["text-case"]="passthrough"),g&&(t.tmp.lang_array=[g].concat(k));var I=new h.Token;I.decorations.push(["@font-style","normal"]),I.decorations.push(["@font-weight","normal"]),t.output.openLevel(I),t.output.append(m,A),t.output.closeLevel(),t.output.current.value(),t.output.current.value().blobs.length}if(f===y&&(y=!1),y){for(S.strings.prefix=t.opt.citeAffixes[u][_.tertiary].prefix,S.strings.suffix=t.opt.citeAffixes[u][_.tertiary].suffix,S.strings.prefix||(S.strings.prefix=" "),w=S.decorations.length-1;w>-1;w+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(S.decorations[w].join("/"))>-1&&(S.decorations=S.decorations.slice(0,w).concat(S.decorations.slice(w+1)));"en"!==b&&"title"===S.strings["text-case"]&&(S.strings["text-case"]="passthrough"),b&&(t.tmp.lang_array=[b].concat(k));var L=new h.Token;L.decorations.push(["@font-style","normal"]),L.decorations.push(["@font-weight","normal"]),t.output.openLevel(L),t.output.append(y,S),t.output.closeLevel(),t.output.current.value(),t.output.current.value().blobs.length}t.output.closeLevel()}else d&&(t.tmp.lang_array=[d].concat(k)),h.UPDATE_GROUP_CONTEXT_CONDITION(t,null,null,T,T.strings.prefix+f),t.output.append(f,T),t.tmp.probably_rendered_something=!0;return t.tmp.lang_array=k,t.tmp.can_block_substitute&&t.tmp.name_node.children.push(t.output.current.value()),null}}},h.Token=function(t,e,i){this.name=t,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=e},h.Util.cloneToken=function(t){var e,i,n;if("string"==typeof t)return t;for(var r in e=new h.Token(t.name,t.tokentype),t.strings)t.strings.hasOwnProperty(r)&&(e.strings[r]=t.strings[r]);if(t.decorations)for(e.decorations=[],i=0,n=t.decorations.length;i<n;i+=1)e.decorations.push(t.decorations[i].slice());return t.variables&&(e.variables=t.variables.slice()),t.execs&&(e.execs=t.execs.slice(),t.tests&&(e.tests=t.tests.slice())),e},h.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},h.Blob=function(t,e,i){var n,r;if(this.levelname=i,e){for(var s in this.strings={prefix:"",suffix:""},e.strings)e.strings.hasOwnProperty(s)&&(this.strings[s]=e.strings[s]);for(this.decorations=[],n=void 0===e.decorations?0:e.decorations.length,r=0;r<n;r+=1)this.decorations.push(e.decorations[r].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof t?t:t?[t]:[],this.alldecor=[this.decorations]},h.Blob.prototype.push=function(t){"string"==typeof this.blobs?h.error("Attempt to push blob onto string object"):!1!==t&&(t.alldecor=t.alldecor.concat(this.alldecor),this.blobs.push(t))},h.NumericBlob=function(t,e,i,n,r){if(this.id=r,this.alldecor=[],this.num=i,this.particle=e,this.blobs=i.toString(),this.status=h.START,this.strings={},n){if(n.strings["text-case"]){var s=n.strings["text-case"];this.particle=h.Output.Formatters[s](t,this.particle),this.blobs=h.Output.Formatters[s](t,this.blobs)}this.gender=n.gender,this.decorations=n.decorations,this.strings.prefix=n.strings.prefix,this.strings.suffix=n.strings.suffix,this.strings["text-case"]=n.strings["text-case"],this.successor_prefix=n.successor_prefix,this.range_prefix=n.range_prefix,this.splice_prefix=n.splice_prefix,this.formatter=n.formatter,this.formatter||(this.formatter=new h.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new h.Output.DefaultFormatter},h.NumericBlob.prototype.setFormatter=function(t){this.formatter=t,this.type=this.formatter.format(1)},h.Output.DefaultFormatter=function(){},h.Output.DefaultFormatter.prototype.format=function(t){return t.toString()},h.NumericBlob.prototype.checkNext=function(t,e){e?(this.status=h.START,"object"==typeof t&&(t.num===this.num+1?t.status=h.SUCCESSOR:t.status=h.SEEN)):t&&t.num&&this.type===t.type&&t.num===this.num+1?this.status===h.START||this.status===h.SEEN?t.status=h.SUCCESSOR:this.status!==h.SUCCESSOR&&this.status!==h.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(t.status=h.SUCCESSOR_OF_SUCCESSOR,this.status=h.SUPPRESS):t.status=h.SUCCESSOR):(this.status===h.SUCCESSOR_OF_SUCCESSOR&&(this.status=h.END),"object"==typeof t&&(t.status=h.SEEN))},h.NumericBlob.prototype.checkLast=function(t){return(this.status===h.SEEN||t.num!==this.num-1&&this.status===h.SUCCESSOR)&&(this.status=h.SUCCESSOR,!0)},h.Util.fixDateNode=function(t,e,i){var n,r,s,o,a,l,c,u,h,p,f,d,m,g=this.cslXml.getAttributeValue(i,"lingo"),y=this.cslXml.getAttributeValue(i,"default-locale");if(this.build.date_key=!0,n=this.cslXml.getAttributeValue(i,"form"),g=y?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(i,"lingo"),!this.getDate(n,y))return t;var b=this.cslXml.getAttributeValue(i,"date-parts");for(var _ in r=this.cslXml.getAttributeValue(i,"variable"),u=this.cslXml.getAttributeValue(i,"prefix"),h=this.cslXml.getAttributeValue(i,"suffix"),d=this.cslXml.getAttributeValue(i,"display"),m=this.cslXml.getAttributeValue(i,"cslid"),s=this.cslXml.nodeCopy(this.getDate(n,y)),this.cslXml.setAttribute(s,"lingo",this.opt.lang),this.cslXml.setAttribute(s,"form",n),this.cslXml.setAttribute(s,"date-parts",b),this.cslXml.setAttribute(s,"cslid",m),this.cslXml.setAttribute(s,"variable",r),this.cslXml.setAttribute(s,"default-locale",y),u&&this.cslXml.setAttribute(s,"prefix",u),h&&this.cslXml.setAttribute(s,"suffix",h),d&&this.cslXml.setAttribute(s,"display",d),p=this.cslXml.children(s))o=p[_],"date-part"===this.cslXml.nodename(o)&&(a=this.cslXml.getAttributeValue(o,"name"),y&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(s,"date-part",a,"@default-locale","true"));for(var _ in p=this.cslXml.children(i))if(o=p[_],"date-part"===this.cslXml.nodename(o))for(l in a=this.cslXml.getAttributeValue(o,"name"),f=this.cslXml.attributes(o))"@name"!==l&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(c=f[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(s,"date-part",a,l,c)));if("year"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(s,"month"),this.cslXml.deleteNodeByNameAttribute(s,"day");else if("year-month"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(s,"day");else if("month-day"===this.cslXml.getAttributeValue(i,"date-parts")){for(var v=this.cslXml.children(s),w=1,x=this.cslXml.numberofnodes(v);w<x;w++)if("year"===this.cslXml.getAttributeValue(v[w],"name")){this.cslXml.setAttribute(v[w-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(s,"year")}return this.cslXml.insertChildNodeAfter(t,i,e,s)},h.dateMacroAsSortKey=function(t,e){h.dateAsSortKey.call(this,t,e,!0)},h.dateAsSortKey=function(t,e,i){var n,r,s,o,a,l,c,u=this.variables[0],p="empty";if(i&&t.tmp.extension&&(p="macro-with-date"),void 0===(n=e[u])&&(n={"date-parts":[[0]]}),void 0===this.dateparts&&(this.dateparts=["year","month","day"]),n.raw?n=t.fun.dateparser.parseDateToArray(n.raw):n["date-parts"]&&(n=t.dateParseArray(n)),void 0===n&&(n={}),n.year)for(l=0,c=h.DATE_PARTS_INTERNAL.length;l<c;l+=1)if(s=0,"_end"===(o=r=h.DATE_PARTS_INTERNAL[l]).slice(-4)&&(o=o.slice(0,-4)),n[r]&&this.dateparts.indexOf(o)>-1&&(s=n[r]),"year"===r.slice(0,4)){var f="1";"-"===(a=h.Util.Dates[o].numeric(t,s))[0]&&(f="0",a=a.slice(1),a=9999-parseInt(a,10)),t.output.append(h.Util.Dates[r.slice(0,4)].numeric(t,f+a),p)}else(s=h.Util.Dates[o]["numeric-leading-zeros"](t,s))||(s="00"),t.output.append(s,p)},h.Engine.prototype.dateParseArray=function(t){var e,i,n,r;for(i in e={},t)if("date-parts"===i){(n=t["date-parts"]).length>1&&n[0].length!==n[1].length&&h.error("CSL data error: element mismatch in date range input."),r=["","_end"];for(var s=0,o=n.length;s<o;s+=1)for(var a=0,l=h.DATE_PARTS.length;a<l;a+=1)isNaN(parseInt(n[s][a],10))?e[h.DATE_PARTS[a]+r[s]]=void 0:e[h.DATE_PARTS[a]+r[s]]=parseInt(n[s][a],10)}else t.hasOwnProperty(i)&&("literal"===i&&"object"==typeof t.literal&&"string"==typeof t.literal.part?(h.debug("Warning: fixing up weird literal date value"),e.literal=t.literal.part):e[i]=t[i]);return e},h.Util.Names={},h.Util.Names.compareNamesets=h.NameOutput.prototype._compareNamesets,h.Util.Names.unInitialize=function(t,e){var i,n,r,s,o;if(!e)return"";for(r=e.split(/(?:\-|\s+)/),s=e.match(/(\-|\s+)/g),o="",i=0,n=r.length;i<n;i+=1)o+=r[i],i<n-1&&(o+=s[i]);return o},h.Util.Names.initializeWith=function(t,e,i,n){var r;if(!e)return"";if(i||(i=""),["Lord","Lady"].indexOf(e)>-1||!e.replace(/^(?:<[^>]+>)*/,"").match(h.STARTSWITH_ROMANESQUE_REGEXP)&&!i.match("%s"))return e;!1===t.opt["initialize-with-hyphen"]&&(e=e.replace(/\-/g," "));for(var s=(e=(e=e.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"â$1")).length-2;s>-1;s+=-1)"."===e.slice(s,s+1)&&" "!==e.slice(s+1,s+2)&&(e=e.slice(0,s)+". "+e.slice(s+1));var o=h.Output.Formatters.nameDoppel.split(e),a=[];if(a=[o.strings[0]],0===o.tags.length){var l=a[0].match(/[^\.]+$/);l&&1===l[0].length&&l[0]!==l[0].toLowerCase()&&(a[0]+=".")}for(s=1,r=o.strings.length;s<r;s+=1)a.push(o.tags[s-1]),a.push(o.strings[s]);return(n?this.doNormalize(t,a,i):this.doInitialize(t,a,i)).replace(/\u2013([a-z])/g,"-$1")},h.Util.Names.notag=function(t){return t.replace(/^(?:<[^>]+>)*/,"")},h.Util.Names.mergetag=function(t,e,i){var n=e.match(/(?:-*<[^>]+>-*)/g);return n?(e=n.join(""),(n=i.match(/^(.*[^\s])*(\s+)$/))?(n[1]=n[1]?n[1]:"",i=n[1]+e+n[2]):i+=e,i):i},h.Util.Names.tagonly=function(t,e){var i=e.match(/(?:<[^>]+>)+/);return i?i.join(""):e},h.Util.Names.doNormalize=function(t,e,i){var n,r;i=i||"";var s=[];for(n=0,r=e.length;n<r;n+=1)this.notag(e[n]).length>1&&"."===this.notag(e[n]).slice(-1)?(e[n]=e[n].replace(/^(.*)\.(.*)$/,"$1$2"),s.push(!0)):1===e[n].length&&e[n].toUpperCase()===e[n]?s.push(!0):s.push(!1);for(n=0,r=e.length;n<r;n+=2)s[n]&&(n<e.length-2&&(e[n+1]=this.tagonly(t,e[n+1]),s[n+2]||(e[n+1]=this.tagonly(t,e[n+1])+" "),e[n+2].length>1?e[n+1]=i.replace(/\ufeff$/,"")+e[n+1]:e[n+1]=this.mergetag(t,e[n+1],i)),n===e.length-1&&(e[n]=e[n]+i));return e.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},h.Util.Names.doInitialize=function(t,e,i){var n,r,s,o,a,l,c;for(n=0,r=e.length;n<r;n+=2)if(c=e[n])if(!(s=c.match(h.NAME_INITIAL_REGEXP))&&!c.match(h.STARTSWITH_ROMANESQUE_REGEXP)&&c.length>1&&i.match("%s")&&(s=c.match(/(.)(.*)/)),s&&s[2]&&s[3]&&(s[1]=s[1]+s[2],s[2]=""),s&&s[1].slice(0,1)===s[1].slice(0,1).toUpperCase()){var u="";if(s[2]){var p="";for(o=0,a=(l=s[2].split("")).length;o<a;o+=1){var f=l[o];if(f!==f.toUpperCase())break;p+=f}p.length<s[2].length&&(u=h.toLocaleLowerCase.call(t,p))}e[n]=s[1]+u,n<r-1?i.match("%s")?e[n]=i.replace("%s",e[n]):e[n+1].indexOf("-")>-1?e[n+1]=this.mergetag(t,e[n+1].replace("-",""),i)+"-":e[n+1]=this.mergetag(t,e[n+1],i):i.match("%s")?e[n]=i.replace("%s",e[n]):e.push(i)}else!c.match(h.ROMANESQUE_REGEXP)||s&&s[3]||(e[n]=" "+c);var d=e.join("");return d.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},h.Util.Names.getRawName=function(t){var e=[];return t.literal?e.push(t.literal):(t.given&&e.push(t.given),t.family&&e.push(t.family)),e.join(" ")},h.Util.Dates={},h.Util.Dates.year={},h.Util.Dates.year.long=function(t,e){return e||(e="boolean"==typeof e?"":0),e.toString()},h.Util.Dates.year.imperial=function(t,e,i){var n="";e||(e="boolean"==typeof e?"":0),i=i?"_end":"";var r=t.tmp.date_object["month"+i];for(r=r?""+r:"1";r.length<2;)r="0"+r;var s=t.tmp.date_object["day"+i];for(s=s?""+s:"1";s.length<2;)s="0"+s;var o,a,l=parseInt(e+r+s,10);if(l>=18680908&&l<19120730?(o="ææ²»",a=1867):l>=19120730&&l<19261225?(o="å¤§æ­£",a=1911):l>=19261225&&l<19890108?(o="æ­å",a=1925):l>=19890108&&(o="å¹³æ",a=1988),o&&a){var c=o;t.sys.normalizeAbbrevsKey&&(c=t.sys.normalizeAbbrevsKey("number",o)),t.transform.abbrevs.default.number[c]||t.transform.loadAbbreviation("default","number",c,null),t.transform.abbrevs.default.number[c]&&(o=t.transform.abbrevs.default.number[c]),n=o+(e-a)}return n},h.Util.Dates.year.short=function(t,e){if((e=e.toString())&&4===e.length)return e.substr(2)},h.Util.Dates.year.numeric=function(t,e){var i,n;for((n=(e=""+e).match(/([0-9]*)$/))?(i=e.slice(0,-1*n[1].length),e=n[1]):(i=e,e="");e.length<4;)e="0"+e;return i+e},h.Util.Dates.normalizeMonth=function(t,e){var i;if(t||(t=0),(t=""+t).match(/^[0-9]+$/)||(t=0),t=parseInt(t,10),e){var n={stub:"month-",num:t};if(n.num<1||n.num>24)n.num=0;else{for(;n.num>16;)n.num=n.num-4;n.num>12&&(n.stub="season-",n.num=n.num-12)}i=n}else(t<1||t>12)&&(t=0),i=t;return i},h.Util.Dates.month={},h.Util.Dates.month.numeric=function(t,e){return(e=h.Util.Dates.normalizeMonth(e))||(e=""),e},h.Util.Dates.month["numeric-leading-zeros"]=function(t,e){if(e=h.Util.Dates.normalizeMonth(e))for(e=""+e;e.length<2;)e="0"+e;else e="";return e},h.Util.Dates.month.long=function(t,e,i,n){var r=h.Util.Dates.normalizeMonth(e,!0);if(e=r.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(r.stub+e,"long",0,0,!1,n)}else e="";return e},h.Util.Dates.month.short=function(t,e,i,n){var r=h.Util.Dates.normalizeMonth(e,!0);if(e=r.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(r.stub+e,"short",0,0,!1,n)}else e="";return e},h.Util.Dates.day={},h.Util.Dates.day.numeric=function(t,e){return e.toString()},h.Util.Dates.day.long=h.Util.Dates.day.numeric,h.Util.Dates.day["numeric-leading-zeros"]=function(t,e){for(e||(e=0),e=e.toString();e.length<2;)e="0"+e;return e.toString()},h.Util.Dates.day.ordinal=function(t,e,i){return t.fun.ordinalizer.format(e,i)},h.Util.Sort={},h.Util.Sort.strip_prepositions=function(t){var e;return"string"==typeof t&&(e=t.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),e&&(t=t.substr(e[1].length)),t},h.Util.substituteStart=function(t,e){var i,n,r,s,o,a,l;s=function(t,e,i){for(var n=0,r=this.decorations.length;n<r;n+=1)if("@strip-periods"===this.decorations[n][0]&&"true"===this.decorations[n][1]){t.tmp.strip_periods+=1;break}},this.execs.push(s),this.decorations&&t.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),l=["number","date","names"],("text"===this.name&&!this.postponed_macro||l.indexOf(this.name)>-1)&&(i=function(t,e,i){"author"===t.tmp.element_trace.value()||"names"===this.name?(!t.tmp.just_looking&&i&&i["author-only"]&&"intext"!==t.tmp.area&&t.tmp.probably_rendered_something&&t.tmp.element_trace.push("suppress-me"),!t.tmp.just_looking&&i&&i["suppress-author"]&&(t.tmp.probably_rendered_something||t.tmp.element_trace.push("suppress-me"))):"date"===this.name?!t.tmp.just_looking&&i&&i["author-only"]&&"intext"!==t.tmp.area&&t.tmp.probably_rendered_something&&t.tmp.element_trace.push("suppress-me"):!t.tmp.just_looking&&i&&i["author-only"]&&"intext"!==t.tmp.area?!t.tmp.probably_rendered_something&&t.tmp.can_block_substitute||t.tmp.element_trace.push("suppress-me"):i&&i["suppress-author"]&&t.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(i)),n=this.strings.cls,this.strings.cls=!1,0===t.build.render_nesting_level&&("bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]?((r=new h.Token("group",h.START)).decorations=[["@display","left-margin"]],s=function(t,e){t.tmp.render_seen||(r.strings.first_blob=e.id,t.output.startTag("bib_first",r))},r.execs.push(s),e.push(r)):h.DISPLAY_CLASSES.indexOf(n)>-1&&((r=new h.Token("group",h.START)).decorations=[["@display",n]],s=function(t,e){r.strings.first_blob=e.id,t.output.startTag("bib_first",r)},r.execs.push(s),e.push(r)),t.build.cls=n),t.build.render_nesting_level+=1,1===t.build.substitute_level.value()&&(o=new h.Token("choose",h.START),h.Node.choose.build.call(o,t,e),s=function(){return!!t.tmp.can_substitute.value()},(a=new h.Token("if",h.START)).tests||(a.tests=[]),a.tests.push(s),a.test=t.fun.match.any(this,t,a.tests),e.push(a)),t.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(s=function(t,e,i){if(!t.tmp.just_looking&&!t.tmp.suppress_decorations){var n=new h.Token("text",h.START);n.decorations=[["@showid","true"]],t.output.startTag("variable_entry",n);var r=null;i&&(r=i.position),r||(r=0);var s=0;i&&i.noteIndex&&(s=i.noteIndex);var o=0;i&&i["first-reference-note-number"]&&(o=i["first-reference-note-number"]);var a=0;i&&i["first-container-reference-note-number"]&&(a=i["first-container-reference-note-number"]);var l=0;i&&i["citation-number"]&&(l=i["citation-number"]);var c=0;i&&i.index&&(c=i.index);var u={itemData:e,variableNames:this.variables,context:t.tmp.area,xclass:t.opt.xclass,position:["first","container-subsequent","subsequent","ibid","ibid-with-locator"][r],"note-number":s,"first-reference-note-number":o,"first-container-reference-note-number":a,"citation-number":l,index:c,mode:t.opt.mode};t.output.current.value().params=u}},this.execs.push(s))},h.Util.substituteEnd=function(t,e){var i,n,r,s,o,a;if(t.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(i=function(t){t.tmp.just_looking||t.tmp.suppress_decorations||t.output.endTag("variable_entry")},this.execs.push(i)),i=function(t){for(var e=0,i=this.decorations.length;e<i;e+=1)if("@strip-periods"===this.decorations[e][0]&&"true"===this.decorations[e][1]){t.tmp.strip_periods+=-1;break}},this.execs.push(i),t.build.render_nesting_level+=-1,0===t.build.render_nesting_level&&(t.build.cls?(i=function(t){t.output.endTag("bib_first")},this.execs.push(i),t.build.cls=!1):"bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]&&(i=function(t){t.tmp.render_seen||t.output.endTag("bib_first")},(n=new h.Token("group",h.END)).execs.push(i),e.push(n),(r=new h.Token("group",h.START)).decorations=[["@display","right-inline"]],i=function(t){t.tmp.render_seen||(t.tmp.render_seen=!0,t.output.startTag("bib_other",r))},r.execs.push(i),e.push(r))),1===t.build.substitute_level.value()&&(s=new h.Token("if",h.END),e.push(s),o=new h.Token("choose",h.END),h.Node.choose.build.call(o,t,e)),"names"===this.name||"text"===this.name&&"title"!==this.variables_real){new h.Token("text",h.SINGLETON);var l=this.name;i=function(t,e){if("bibliography"===t.tmp.area&&"string"==typeof t.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||e[this.variables_real])&&(!this.variables_real||"names"!==l)){var i,n,r=t.bibliography.opt["subsequent-author-substitute-rule"];if(!t.tmp.suppress_decorations&&t.tmp.subsequent_author_substitute_ok&&t.tmp.rendered_name){if("partial-each"===r||"partial-first"===r){var s=!0,o=[];for(i=0,n=t.tmp.name_node.children.length;i<n;i+=1){var c=t.tmp.rendered_name[i];s&&t.tmp.last_rendered_name&&t.tmp.last_rendered_name.length>i-1&&c&&!c.localeCompare(t.tmp.last_rendered_name[i])?(a=new h.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[i].blobs=[a],"partial-first"===r&&(s=!1)):s=!1,o.push(c)}t.tmp.last_rendered_name=o}else if("complete-each"===r){if(o=t.tmp.rendered_name.join(",")){if(t.tmp.last_rendered_name&&!o.localeCompare(t.tmp.last_rendered_name))for(i=0,n=t.tmp.name_node.children.length;i<n;i+=1)a=new h.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[i].blobs=[a];t.tmp.last_rendered_name=o}}else(o=t.tmp.rendered_name.join(","))&&(t.tmp.last_rendered_name&&!o.localeCompare(t.tmp.last_rendered_name)&&(a=new h.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.label_blob?t.tmp.name_node.top.blobs=[a,t.tmp.label_blob]:t.tmp.name_node.top.blobs.length?t.tmp.name_node.top.blobs[0].blobs=[a]:t.tmp.name_node.top.blobs=[a],t.tmp.substituted_variable=l),t.tmp.last_rendered_name=o);t.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(i)}("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(i=function(t,e){t.tmp.element_trace.mystack.length>1&&t.tmp.element_trace.pop()},this.execs.push(i))},h.Util.padding=function(t){var e=t.match(/\s*(-{0,1}[0-9]+)/);if(e)for((t=parseInt(e[1],10))<0&&(t=1e20+t),t=""+t;t.length<20;)t="0"+t;return t},h.Util.LongOrdinalizer=function(){},h.Util.LongOrdinalizer.prototype.init=function(t){this.state=t},h.Util.LongOrdinalizer.prototype.format=function(t,e){t<10&&(t="0"+t);var i=h.Engine.getField(h.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+t,"long",0,e);return i||(i=this.state.fun.ordinalizer.format(t,e)),this.state.tmp.cite_renders_content=!0,i},h.Util.Ordinalizer=function(t){this.state=t,this.suffixes={}},h.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var t=0;t<3;t+=1){var e=[void 0,"masculine","feminine"][t];this.suffixes[this.state.opt.lang][e]=[];for(var i=1;i<5;i+=1){var n=this.state.getTerm("ordinal-0"+i,"long",!1,e);if(void 0===n){delete this.suffixes[this.state.opt.lang][e];break}this.suffixes[this.state.opt.lang][e].push(n)}}}},h.Util.Ordinalizer.prototype.format=function(t,e){var i;i=""+(t=parseInt(t,10));var n="",r=[];if(e&&r.push(e),r.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var s;n=this.state.getTerm("ordinal",!1,0,e);for(var o=0,a=r.length;o<a;o+=1){s=r[o];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][i]&&l["whole-number"][i][s]?n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][i][s],!1,0,e):l["last-two-digits"][i.slice(i.length-2)]&&l["last-two-digits"][i.slice(i.length-2)][s]?n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][i.slice(i.length-2)][s],!1,0,e):l["last-digit"][i.slice(i.length-1)]&&l["last-digit"][i.slice(i.length-1)][s]&&(n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][i.slice(i.length-1)][s],!1,0,e)),n)break}}else e||(e=void 0),this.state.fun.ordinalizer.init(),n=t/10%10==1||t>10&&t<20?this.suffixes[this.state.opt.lang][e][3]:t%10==1&&t%100!=11?this.suffixes[this.state.opt.lang][e][0]:t%10==2&&t%100!=12?this.suffixes[this.state.opt.lang][e][1]:t%10==3&&t%100!=13?this.suffixes[this.state.opt.lang][e][2]:this.suffixes[this.state.opt.lang][e][3];return i+n},h.Util.Romanizer=function(){},h.Util.Romanizer.prototype.format=function(t){var e,i,n,r,s;if(e="",t<6e3)for((r=t.toString().split("")).reverse(),i=0,n=0,s=r.length,i=0;i<s;i+=1)n=parseInt(r[i],10),e=h.ROMAN_NUMERALS[i][n]+e;return e},h.Util.Suffixator=function(t){t||(t=h.SUFFIX_CHARS),this.slist=t.split(",")},h.Util.Suffixator.prototype.format=function(t){var e;t+=1;var i="";do{e=t%26==0?26:t%26,i=this.slist[e-1]+i,t=(t-e)/26}while(0!==t);return i},h.Engine.prototype.processNumber=function(t,e,i){var n,r=this,s=i;i="page-first"===i?"page":i;var o=",\\s+and\\s+|\\s+and\\s+";"en"!==this.opt.lang.slice(0,2)&&(o+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var a="\\s*&\\s*",l=new RegExp("^"+a+"$"),c=new RegExp("("+a+"|"+o+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),u=new RegExp("(?:"+a+"|"+o+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),p=this.getTerm("and"),f=this.getTerm("and","symbol");function d(t,e,n,r,o){r=r||"";var a={};if(e||h.STATUTE_SUBDIV_STRINGS_REVERSE[i]||(e="var:"+i),e){var l=e.match(/(\s*)([^\s]+)(\s*)/);"page"===s&&0===o&&-1===["p.","pp."].indexOf(l[2])?(a.gotosleepability=!0,a.labelVisibility=!0):a.labelVisibility=!1,a.label=l[2],a.origLabel=t,a.labelSuffix=l[3]?l[3]:"",a.plural=0}return(l=n.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(a.particle=l[1]?l[1]:"",a.value=l[2]):(a.particle="",a.value=n),a.joiningSuffix=r.replace(/\s*-\s*/,"-"),a}function m(t,e,i){var n=t[i.pos],r=t[e].value,s="\\-"===n.joiningSuffix;r.particle&&r.particle!==n.particle&&(i.collapsible=!1);var o=r.match(/^[0-9]+([-,:a-zA-Z]*)$/),a=n.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if(r&&o&&a&&!s||(i.collapsible=!1,r&&a||(i.numeric=!1),s&&i.count--),(o&&o[1]||a&&a[1])&&(i.collapsible=!1),void 0===t[e].collapsible){for(var l=e,c=e+i.count;l<c;l++)isNaN(parseInt(t[l].value))&&!t[l].value.match(/^[ivxlcmIVXLCM]+$/)?t[l].collapsible=!1:t[l].collapsible=!0;i.collapsible=t[e].collapsible}var u=i.collapsible;for(l=i.pos,c=i.pos+i.count;l<c;l++)i.count>1&&u&&(t[l].plural=1),t[l].numeric=i.numeric,t[l].collapsible=i.collapsible}function g(t,e,n){"var:"!==n.label.slice(0,4)&&(0===n.pos?(["locator","number","locator-extra","page"].indexOf(i)>-1&&void 0===r.getTerm(h.STATUTE_SUBDIV_STRINGS[n.label])&&(t[n.pos].labelVisibility=!0),-1===["locator","number","locator-extra","page"].indexOf(i)&&h.STATUTE_SUBDIV_STRINGS[n.label]!==i&&(t[0].labelVisibility=!0)):t[n.pos].labelVisibility=!0)}function y(t){return t.replace("\\-","-")}function b(e){var i=h.Util.cloneToken(t),n=new h.Token;r.tmp.just_looking||(n.decorations=i.decorations,i.decorations=[],n.strings.prefix=i.strings.prefix,i.strings.prefix="",n.strings.suffix=i.strings.suffix,i.strings.suffix="");var s=e.length?e[0].label:null;if(e.length){for(var o=0,a=e.length;o<a;o++){var l=e[o],c=h.Util.cloneToken(i);c.gender=t.gender,s===l.label&&(c.formatter=t.formatter),l.numeric&&(c.successor_prefix=l.successor_prefix),c.strings.suffix=c.strings.suffix+y(l.joiningSuffix),l.styling=c}r.tmp.just_looking||'"'===e[0].value.slice(0,1)&&'"'===e[e.length-1].value.slice(-1)&&(e[0].value=e[0].value.slice(1),e[e.length-1].value=e[e.length-1].value.slice(0,-1),n.decorations.push(["@quotes",!0]))}return n}function _(t,e){return"page"===t||["locator","locator-extra"].indexOf(t)>-1&&(["p."].indexOf(e.label)>-1||["p."].indexOf(e.origLabel)>-1)}function v(t,e,i,n){var s=_(t,e),o=function(t,e){var i,n=!0;return["locator","locator-extra","page"].indexOf(t)>-1&&(i=e.origLabel?e.origLabel:e.label,n=!!r.getTerm(h.STATUTE_SUBDIV_STRINGS[i])),n}(t,e);return o&&"-"===i&&n&&((s||["locator","locator-extra","issue","volume","edition","number"].indexOf(t)>-1)&&((i=r.getTerm("page-range-delimiter"))||(i="â")),"collection-number"===t&&((i=r.getTerm("year-range-delimiter"))||(i="â"))),i}function w(t,e,n){if(!(e<1)&&2===n.count&&t[e-1].particle===t[e].particle)if("-"===t[e-1].joiningSuffix)if(!r.opt["page-range-format"]&&parseInt(t[e-1].value,10)>parseInt(t[e].value,10))t[e-1].joiningSuffix=v(i,t[e],t[e-1].joiningSuffix,!0);else{var s,o=t[e];!_(i,o)||isNaN(parseInt(t[e-1].value))||isNaN(parseInt(t[e].value))?((""+t[e-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+t[e].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(t[e-1].joiningSuffix=r.getTerm("page-range-delimiter")),s=t[e-1].value+y(t[e-1].joiningSuffix)+t[e].value):(s=t[e-1].particle+t[e-1].value+" - "+t[e].particle+t[e].value,s=r.fun.page_mangler(s));var a=s.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(a){var l=a[3];l=v(i,o,l,t[e].numeric),t[e-1].particle=a[1],t[e-1].value=a[2],t[e-1].joiningSuffix=l,t[e].particle=a[4],t[e].value=a[5]}n.count=0}else n.count=1}function x(e){if(t&&-1!==["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(i)){for(var n={count:0,label:null,lastHadRangeDelimiter:!1},r=0,s=e.length;r<s;r++){var o=e[r];if(o.collapsible)n.label===o.label&&"-"===o.joiningSuffix?n.count=1:n.label===o.label&&"-"!==o.joiningSuffix?(n.count++,2===n.count&&w(e,r,n)):n.label!==o.label?(n.label=o.label,n.count=1):(n.count=1,n.label=o.label);else{n.count=0,n.label=null;var a=o.numeric;o.joiningSuffix=v(i,o,o.joiningSuffix,a)}}2===n.count&&w(e,e.length-1,n)}}if(p===f&&(f="&"),t&&this.tmp.shadow_numbers[s]&&this.tmp.shadow_numbers[s].values.length)return x(T=this.tmp.shadow_numbers[s].values),void(this.tmp.shadow_numbers[s].masterStyling=b(T));if(this.tmp.shadow_numbers[s]||(this.tmp.shadow_numbers[s]={values:[]}),e){var k=h.LangPrefsMap[i];if(k){var E=this.opt["cite-lang-prefs"][k][0];n=(n=this.transform.getTextSubField(e,s,"locale-"+E,!0)).name}else n=e[s];if(n&&"number"===s&&"legal_case"===e.type&&(n=n.replace(/[\\]*-/g,"\\-")),n&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var A=this.sys.normalizeAbbrevsKey(s,n);else A=n;var S=this.transform.loadAbbreviation(e.jurisdiction,"number",A,e.language);this.transform.abbrevs[S].number&&(this.transform.abbrevs[S].number[A]?n=this.transform.abbrevs[S].number[A]:void 0!==this.transform.abbrevs[S].number[A]&&delete this.transform.abbrevs[S].number[A])}if(void 0!==n&&("string"==typeof n||"number"==typeof n)){"number"==typeof n&&(n=""+n);var O=h.STATUTE_SUBDIV_STRINGS_REVERSE[i];if(0===this.tmp.shadow_numbers[s].values.length){var T=function(t,n){var s,o,a;if(n=n||"",t=function(t){var n=(t=t.trim()).match(/^([^ ]+)/);if(n&&!h.STATUTE_SUBDIV_STRINGS[n[1]]){var r;(r=["locator","locator-extra","page"].indexOf(i)>-1?e.label?h.STATUTE_SUBDIV_STRINGS_REVERSE[e.label]:"p.":h.STATUTE_SUBDIV_STRINGS_REVERSE[i])&&(t=r+" "+t)}return t}(t),"page"===i&&t.indexOf("â")>-1&&(t=t.replace(/\u2013/g,"-")),t.indexOf("\\-")>-1){s=new RegExp(c.source.replace("\\-","")),o=new RegExp(u.source.replace("\\-",""));for(var p=0,m=(y=t.split("\\-")).length;p<m;p++)y[p]=y[p].replace(/\-/g,"â");a=(a=y.join("\\-")).replace(/\\/g,"")}else s=c,o=u,a=t;var g=[];if(w=a.match(s)){var y=a.split(o);for(p=0,m=w.length;p<m;p++)w[p].match(l)&&(y[p].match(/[a-zA-Z]$/)&&y[p].match(/^[a-zA-Z]/)?w[p]=f:w[p]=" "+f+" ");for(var p in y)if((""+y[p]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;for(p=0,m=y.length-1;p<m;p++)g.push(y[p]),g.push(w[p]);g.push(y[y.length-1]),g=function(t){for(var e=t.length-2;e>-1;e-=2)"-"===t[e]&&t[e-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&t[e+1].match(/^[,a-zA-Z]+$/)&&(t[e-1]=t.slice(e-1,e+2).join(""),t=t.slice(0,e).concat(t.slice(e+2)));return t}(g)}else g=[a];var b=[],_=n,v="";for(p=0,m=g.length;p<m;p+=2){var w;if(w=g[p].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g)){for(var x=(y=g[p].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/)).length-1;x>0;x--)!y[x-1]||y[x].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&y[x-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(y[x-1]=y[x-1]+w[x-1]+y[x],y=y.slice(0,x).concat(y.slice(x+1)),w=w.slice(0,x-1).concat(w.slice(x)));if(w.length>0){var k=w[0].trim();!h.STATUTE_SUBDIV_STRINGS[k]||void 0===r.getTerm(h.STATUTE_SUBDIV_STRINGS[k])||-1===["locator","number","locator-extra","page"].indexOf(i)&&h.STATUTE_SUBDIV_STRINGS[k]!==i?0===p&&(w=w.slice(1),y[0]=y[0]+" "+k+" "+y[1],y=y.slice(0,1).concat(y.slice(2))):v=k}x=0;for(var E=y.length;x<E;x++)(y[x]||x===y.length-1)&&(A=v===(_=w[x-1]?w[x-1]:_).trim()?"":v,a=y[x]?y[x].trim():"",x===y.length-1?b.push(d(A,_,a,g[p+1],p)):b.push(d(A,_,a,null,p)))}else{var A;A=v===_.trim()?"":v,b.push(d(A,_,g[p],g[p+1]))}}return b}(n,O);for(var C of(function(t){for(var e=0,i=t.length-1;e<i;e++)!t[e].joiningSuffix&&t[e+1].label&&(t[e].joiningSuffix=" ")}(T),function(t){if(0!==t.length){for(var n=0,r=1,o=1,a=t.length;o<a;o++){var l=t[o-1],c=t[o];l.label===c.label&&l.particle==l.particle?r++:((u=JSON.parse(JSON.stringify(t[n]))).pos=n,u.count=r,u.numeric=!0,m(t,n,u),l.label!==c.label&&g(t,0,u),n=o,r=1)}var u;(u=JSON.parse(JSON.stringify(t[n]))).pos=n,u.count=r,u.numeric=!0,m(t,n,u),g(t,0,u),t.length&&t[0].numeric&&"number-of-"===i.slice(0,10)&&parseInt(e[s],10)>1&&(t[0].plural=1)}}(T),T))C.numeric||(C.plural=0);this.tmp.shadow_numbers[s].values=T,t&&(x(T),this.tmp.shadow_numbers[s].masterStyling=b(T)),function(t,e,n){var s=t[e];n.length&&(s.numeric=n[0].numeric,s.collapsible=n[0].collapsible,s.plural=n[0].plural,s.label=h.STATUTE_SUBDIV_STRINGS[n[0].label],"number"===i&&"issue"===s.label&&r.getTerm("number")&&(s.label="number"))}(this.tmp.shadow_numbers,s,T)}var N=this.tmp.shadow_numbers[s];"number"===i&&1===N.values.length&&N.values[0].value.indexOf("|")>-1&&(N.values[0].value=N.values[0].value.replace(/\|/g,", "),N.values[0].numeric=!0,N.values[0].plural=1,N.values[0].collapsible=!1,N.numeric=!0,N.plural=1,N.collapsible=!1),1===N.values.length&&N.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(N.values[0].numeric=!0,N.values[0].plural=0,N.values[0].collapsible=!1,N.numeric=!0,N.plural=0,N.collapsible=!1),"page"===i&&N.values.length>0&&N.values[0].gotosleepability&&(N.labelForm="short")}}},h.Util.outputNumericField=function(t,e,i){t.output.openLevel(t.tmp.shadow_numbers[e].masterStyling);var n,r=t.tmp.shadow_numbers[e].masterStyling,s=t.tmp.shadow_numbers[e].values,o=s.length?s[0].label:null,a=t.tmp.shadow_numbers[e].labelForm,l=t.tmp.group_context.tip.label_static;n=a||"short";for(var c=t.tmp.shadow_numbers[e].labelCapitalizeIfFirst,u=t.tmp.shadow_numbers[e].labelDecorations,p=null,f=0,d=s.length;f<d;f++){var m,g=s[f],y="";g.label&&(m="var:"===g.label.slice(0,4)?g.label.slice(4):h.STATUTE_SUBDIV_STRINGS[g.label])&&(g.label===o?(l&&-1===(y=t.getTerm(m,"static",g.plural)).indexOf("%s")&&(y=""),y||(y=t.getTerm(m,a,g.plural))):(l&&-1===(y=t.getTerm(m,"static",g.plural)).indexOf("%s")&&(y=""),y||(y=t.getTerm(m,n,g.plural))),c&&(y=h.Output.Formatters["capitalize-first"](t,y)));var b=-1;y&&(b=y.indexOf("%s"));var _,v=h.Util.cloneToken(g.styling);if(v.formatter=g.styling.formatter,v.type=g.styling.type,v.num=g.styling.num,v.gender=g.styling.gender,b>0&&b<y.length-2)v.strings.prefix+=y.slice(0,b),v.strings.suffix=y.slice(b+2)+v.strings.suffix;else if(g.labelVisibility)if(y||(y=g.label,m=g.label),b>0){var w=new h.Token;w.decorations=u,t.output.append(y.slice(0,b),w)}else b!==y.length-2&&-1!==b||t.output.append(y+g.labelSuffix,"empty");if(h.UPDATE_GROUP_CONTEXT_CONDITION(t,r.strings.prefix,null,r,`${g.particle}${g.value}`),g.collapsible?(void 0===(_=g.value.match(/^[1-9][0-9]*$/)&&Number.isSafeInteger(parseInt(g.value,10))?new h.NumericBlob(t,g.particle,parseInt(g.value,10),v,i):new h.NumericBlob(t,g.particle,g.value,v,i)).gender&&(_.gender=t.locale[t.opt.lang]["noun-genders"][e]),t.output.append(_,"literal")):t.output.append(g.particle+g.value,v),0===b&&b<y.length-2&&(null===p&&(p=m),m!==p||f===s.length-1)){var x=new h.Token;x.decorations=u,t.output.append(y.slice(b+2),x)}p=m,t.tmp.term_predecessor=!0}t.output.closeLevel()},h.Util.PageRangeMangler={},h.Util.PageRangeMangler.getFunction=function(t,e){var i,n,r,s,o,a,l,c,u,h,p,f,d,m,g,y,b,_,v=t.getTerm(e+"-range-delimiter");i=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,s=function(i){for(r=i.length,n=1;n<r;n+=2)"object"==typeof i[n]&&(i[n]=i[n].join(""));var s=i.join("");return s.replace(/([^\\])\-/g,"$1"+t.getTerm(e+"-range-delimiter"))},o=function(t){var e,i,s,o="\\s+\\-\\s+",a=new RegExp("([^\\\\])[-"+("-"===v?"":v)+"\\u2013]","g");t=t.replace(a,"$1 - ").replace(/\s+-\s+/g," - ");var l=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+o+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),c=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+o+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(e=t.match(l),0===(i=t.split(c)).length)s=e;else for(s=[i[0]],n=1,r=i.length;n<r;n+=1)s.push(e[n-1].replace(/\s*\-\s*/g,"-")),s.push(i[n]);return s},a=function(t){for(p=o(t=""+t),r=p.length,n=1;n<r;n+=2)(f=p[n].match(i))&&(f[3]&&f[1]!==f[3]||(f[4].length<f[2].length&&(f[4]=f[2].slice(0,f[2].length-f[4].length)+f[4]),parseInt(f[2],10)<parseInt(f[4],10)&&(f[3]=v+(f[1]?f[1]:""),p[n]=f.slice(1)))),"string"==typeof p[n]&&(p[n]=p[n].replace(/\-/g,v));return p},l=function(t,e,i){r=t.length;for(var n=1,o=t.length;n<o;n+=2)"object"==typeof t[n]&&(t[n][3]=c(t[n][1],t[n][3],e,i),t[n][2].slice(1)===t[n][0]&&(t[n][2]=v));return s(t)},c=function(t,e,i,n){if(i||(i=0),d=(""+t).split(""),m=(""+e).split(""),(g=m.slice()).reverse(),d.length===m.length)for(var r=0,s=d.length;r<s;r+=1){if(!(d[r]===m[r]&&g.length>i)){if(i&&n&&3===g.length){var o=d.slice(0,r);o.reverse(),g=g.concat(o)}break}g.pop()}return g.reverse(),g.join("")},u=function(t){for(r=t.length,n=1;n<r;n+=2)"object"==typeof t[n]&&(f=t[n],y=parseInt(f[1],10),b=parseInt(f[3],10),y>100&&y%100&&parseInt(y/100,10)===parseInt(b/100,10)?f[3]=""+b%100:y>=1e4&&(f[3]=""+b%1e3)),f[2].slice(1)===f[0]&&(f[2]=v);return s(t)},h=function(t){for(r=t.length,n=1;n<r;n+=2){if("object"==typeof t[n]&&(f=t[n],y=parseInt(f[1],10),b=parseInt(f[3],10),m=""+b,y>100&&y%100))for(var e=2;e<m.length;e++){var i=Math.pow(10,e);if(Math.floor(y/i)===Math.floor(b/i)){f[3]=""+b%i;break}}f[2].slice(1)===f[0]&&(f[2]=v)}return s(t)};var w=function(t,e,i,n){return e(a(t=""+t),i,n)};return t.opt[e+"-range-format"]?"expanded"===t.opt[e+"-range-format"]?_=function(t){return w(t,s)}:"minimal"===t.opt[e+"-range-format"]?_=function(t){return w(t,l)}:"minimal-two"===t.opt[e+"-range-format"]?_=function(t,e){return w(t,l,2,e)}:"chicago"===t.opt[e+"-range-format"]||"chicago-15"===t.opt[e+"-range-format"]?_=function(t){return w(t,u)}:"chicago-16"===t.opt[e+"-range-format"]&&(_=function(t){return w(t,h)}):_=function(t){return w(t,s)},_},h.Util.FlipFlopper=function(t){var e=[],i={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};i['("']=i[' "'],i["('"]=i[" '"];var n=t.getTerm("open-quote"),r=t.getTerm("close-quote"),s=t.getTerm("open-inner-quote"),o=t.getTerm("close-inner-quote");function a(t){for(var e=[],n=Object.keys(i),r=0,s=n.length;r<s;r++){var o=n[r];"quote"===i[t].type&&i[t]||e.push(o)}var a=i[t];return a.opener=new RegExp("^(?:"+e.map((function(t){return t.replace("(","\\(")})).join("|")+")"),a}n&&r&&-1===[' "'," '",'"',"'"].indexOf(n)&&(i[n]=JSON.parse(JSON.stringify(i[' "'])),i[n].opener=n,i[n].closer=r),s&&o&&-1===[' "'," '",'"',"'"].indexOf(s)&&(i[s]=JSON.parse(JSON.stringify(i[" '"])),i[s].opener=s,i[s].closer=o);var l=function(){for(var t={},e=Object.keys(i),n=0,r=e.length;n<r;n++){var s=e[n];t[s]=a(s)}return t}(),c=function(){var t=[],e=[],i={};for(var n in l)t.push(n),i[l[n].closer]=!0;for(var r=Object.keys(i),s=0,o=r.length;s<o;s++){var a=r[s];e.push(a)}var c=t.concat(e).map((function(t){return t.replace("(","\\(")})).join("|");return{matchAll:new RegExp("((?:"+c+"))","g"),splitAll:new RegExp("(?:"+c+")","g"),open:new RegExp("(^(?:"+t.map((function(t){return t.replace("(","\\(")})).join("|")+")$)"),close:new RegExp("(^(?:"+e.join("|")+")$)")}}();function u(t,i){return t.match(c.open)?function(t,i){var n=e[e.length-1];return!n||t.match(n.opener)?(e.push({type:l[t].type,opener:l[t].opener,closer:l[t].closer,pos:i}),!1):(e.pop(),e.push({type:l[t].type,opener:l[t].opener,closer:l[t].closer,pos:i}),{fixtag:n.pos})}(t,i):function(t,i){var n=e[e.length-1];return n&&t===n.closer?(e.pop(),"nocase"===n.type&&{nocase:{open:n.pos,close:i}}):n?{fixtag:n.pos}:{fixtag:i}}(t,i)}var p=function(e){var n=[];this.set=function(r){for(var s=i[r].attr,o=null,a=n.length-1;a>-1;a--)if((h=n[a])[0]===s){o=h;break}if(!o){var l=[t[t.tmp.area].opt.layout_decorations].concat(e.alldecor);t:for(a=l.length-1;a>-1;a--){var c=l[a];if(c)for(var u=c.length-1;u>-1;u--){var h;if((h=c[u])[0]===s){o=h;break t}}}}o=o?[s,i[r].flipflop[o[1]]]:[s,i[r].outer],n.push(o)},this.pair=function(){return n[n.length-1]},this.pop=function(){n.pop()}};function f(t,e){if("'"===t){if(e&&e.match(/^[^\,\.\?\:\;\ ]/))return"â"}else if(" '"===t&&e&&e.match(/^[\ ]/))return" â";return!1}this.processTags=function(n){var r=!1;" "!==(g=n.blobs).slice(0,1)||g.match(/^\s+[\'\"]/)||(r=!0);var s=new RegExp("("+h.ROMANESQUE_REGEXP.source+")â("+h.ROMANESQUE_REGEXP.source+")","g"),o=function(t){var e=[],n=(t=(t=t.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(c.matchAll);if(!n)return{tags:[],strings:[t],forcedSpaces:[]};for(var r=t.split(c.splitAll),s=0,o=n.length-1;s<o;s++)i[n[s]]&&(""===r[s+1]&&['"',"'"].indexOf(n[s+1])>-1?(n[s+1]=" "+n[s+1],e.push(!0)):e.push(!1));return{tags:n,strings:r,forcedSpaces:e}}(g=" "+g.replace(s,"$1'$2"));if(0!==o.tags.length){for(var a,l=!1,d=0,m=o.tags.length;d<m;d++){var g,y=f(w=o.tags[d],g=o.strings[d+1]);if(y)o.strings[d+1]=y+o.strings[d+1],o.tags[d]="";else{for(var b;b=u(w,d);){if(!(Object.keys(b).indexOf("fixtag")>-1)){if(b.nocase){o.tags[b.nocase.open]="",o.tags[b.nocase.close]="";break}break}if(w.match(c.close)&&"'"===w)o.strings[d+1]="â"+o.strings[d+1],o.tags[d]="";else{var _=o.tags[b.fixtag];o.forcedSpaces[b.fixtag-1]&&(_=_.slice(1)),o.strings[b.fixtag+1]=_+o.strings[b.fixtag+1],o.tags[b.fixtag]=""}if(!(e.length>0))break;if("'"===w)break;e.pop()}b&&(b.fixtag||0===b.fixtag)&&(o.strings[d+1]=o.tags[d]+o.strings[d+1],o.tags[d]="")}}for(d=e.length-1;d>-1;d--){var v=e[d].pos,w=o.tags[v];o.strings[v+1]=" '"===w||"'"===w?" â"+o.strings[v+1]:o.tags[v]+o.strings[v+1],o.tags[v]="",e.pop()}for(d=o.tags.length-1;d>-1;d--)o.tags[d]||(o.tags=o.tags.slice(0,d).concat(o.tags.slice(d+1)),o.strings[d]=o.strings[d]+o.strings[d+1],o.strings=o.strings.slice(0,d+1).concat(o.strings.slice(d+2)));for(d=0,m=o.tags.length;d<m;d++){w=o.tags[d];var x=o.forcedSpaces[d-1];[' "'," '",'("',"('"].indexOf(w)>-1&&(l||(i[a=w].outer="true",i[{" '":' "',' "':" '",'("':"('","('":'("'}[a]].outer="inner",l=!0),x||(o.strings[d]+=w.slice(0,1)))}!function(e,i,n){var r=!0,s=new p(e);e.blobs=[];var o=new function(e){this.stack=[e],this.latest=e,this.addStyling=function(e,i){if(r&&(" "===e.slice(0,1)&&(e=e.slice(1))," "===e.slice(0,1)&&(e=e.slice(1)),r=!1),this.latest=this.stack[this.stack.length-1],i){"string"==typeof this.latest.blobs&&((d=new h.Blob).blobs=this.latest.blobs,d.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[d]);var n,s=new h.Token;if((n=new h.Blob(null,s)).alldecor=this.latest.alldecor.slice(),"@class"===i[0]&&"nodecor"===i[1]){for(var o=[],a={},l=[t[t.tmp.area].opt.layout_decorations].concat(n.alldecor),c=l.length-1;c>-1;c--){var u=l[c];if(u)for(var p=u.length-1;p>-1;p--){var f=u[p];["@font-weight","@font-style","@font-variant"].indexOf(f[0])>-1&&!a[f[0]]&&("normal"!==i[1]&&(n.decorations.push([f[0],"normal"]),o.push([f[0],"normal"])),a[f[0]]=!0)}}n.alldecor.push(o)}else n.decorations.push(i),n.alldecor.push([i]);this.latest.blobs.push(n),this.stack.push(n),this.latest=n,e&&(s=new h.Token,(n=new h.Blob(null,s)).blobs=e,n.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(n))}else{var d;e&&((d=new h.Blob).blobs=e,d.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(d))}},this.popStyling=function(){this.stack.pop()}}(e);if(i.strings.length){var a=i.strings[0];n&&(a=" "+a),o.addStyling(a)}for(var l=0,u=i.tags.length;l<u;l++){var f=i.tags[l];a=i.strings[l+1],f.match(c.open)?(s.set(f),o.addStyling(a,s.pair())):(s.pop(),o.popStyling(),o.addStyling(a))}}(n,o,r)}}},h.Output.Formatters=function(){var t=new h.Doppeler('(?:â|â|â|â| "| \'|"|\'|[-ââ/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',(function(t){return t.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")})),e=new h.Doppeler('(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)'),i=new h.Doppeler("(?:[Â  Â â-ââã]+)"),n={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function r(t){var e=t.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!e||e[2].match(/^[\u0370-\u03FF]$/)&&!e[3]?t:e[1]+h.toLocaleUpperCase.call(this,e[2])+e[3]}function s(e,s){if(!s)return"";e.doppel=t.split(s);var o={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"â":{opener:"â",closer:"â"},"â":{opener:"â",closer:"â"}};function a(t,i){var n=t.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(n)return function(t,i){return["â","â",' "'," '"].indexOf(t)>-1?function(t,i){if(0===e.quoteState.length||t===e.quoteState[e.quoteState.length-1].opener)return e.quoteState.push({opener:o[t].opener,closer:o[t].closer,pos:i}),!1;var n=e.quoteState[e.quoteState.length-1].pos;return e.quoteState.pop(),e.quoteState.push({opener:o[t].opener,closer:o[t].closer,positions:i}),n}(t,i):function(t,i){if(!(e.quoteState.length>0&&t===e.quoteState[e.quoteState.length-1].closer))return i;e.quoteState.pop()}(t,i)}(n[1],i)}e.doppel.strings.length&&e.doppel.strings[0].trim()&&(e.doppel.strings[0]=e.capitaliseWords(e.doppel.strings[0],0,e.doppel.tags[0]));for(var l=0,c=e.doppel.tags.length;l<c;l++){var u=e.doppel.tags[l],p=e.doppel.strings[l+1];if(null!==e.tagState&&(n[u]?e.tagState.push(n[u]):e.tagState.length&&u===e.tagState[e.tagState.length-1]&&e.tagState.pop()),null!==e.afterPunct&&u.match(/[\!\?\:]$/)&&(e.afterPunct=!0),0===e.tagState.length?e.doppel.strings[l+1]=e.capitaliseWords(p,l+1,e.doppel,e.doppel.tags[l+1]):e.doppel.strings[l+1].trim()&&(e.lastWordPos=null),null!==e.quoteState&&((d=a(u,l))||0===d)){var f=e.doppel.origStrings[d+1].slice(0,1);e.doppel.strings[d+1]=f+e.doppel.strings[d+1].slice(1),e.lastWordPos=null}e.isFirst&&p.trim()&&(e.isFirst=!1),e.afterPunct&&p.trim()&&(e.afterPunct=!1)}if(e.quoteState)for(l=0,c=e.quoteState.length;l<c;l++){var d;void 0!==(d=e.quoteState[l].pos)&&(f=e.doppel.origStrings[d+1].slice(0,1),e.doppel.strings[d+1]=f+e.doppel.strings[d+1].slice(1))}if(e.lastWordPos){var m=i.split(e.doppel.strings[e.lastWordPos.strings]),g=m.strings[e.lastWordPos.words];g.length>1&&h.toLocaleLowerCase.call(this,g).match(e.skipWordsRex)&&(g=r.call(this,g),m.strings[e.lastWordPos.words]=g),e.doppel.strings[e.lastWordPos.strings]=i.join(m)}return t.join(e.doppel)}return{nameDoppel:e,passthrough:function(t,e){return e},lowercase:function(t,e){var i={quoteState:null,capitaliseWords:function(e){for(var i=e.split(" "),n=0,r=i.length;n<r;n++){var s=i[n];s&&(i[n]=h.toLocaleLowerCase.call(t,s))}return i.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return s.call(t,i,e)},uppercase:function(t,e){var i={quoteState:null,capitaliseWords:function(e){for(var i=e.split(" "),n=0,r=i.length;n<r;n++){var s=i[n];s&&(i[n]=h.toLocaleUpperCase.call(t,s))}return i.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return s.call(t,i,e)},sentence:function(t,e){var i={quoteState:[],capitaliseWords:function(e){for(var n=e.split(" "),s=0,o=n.length;s<o;s++){var a=n[s];a&&(i.isFirst?(n[s]=r.call(t,a),i.isFirst=!1):n[s]=h.toLocaleLowerCase.call(t,a))}return n.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return s.call(t,i,e)},title:function(t,e){var n={quoteState:[],capitaliseWords:function(e,s,o){if(e.trim()){for(var a=i.split(e),l=a.strings,c=0,u=l.length;c<u;c++){var p=l[c];if(!p)continue;let e=h.toLocaleLowerCase.call(t,p),i=!1;(p.length>1&&!e.match(n.skipWordsRex)||c===l.length-1&&"-"===o||n.isFirst||n.afterPunct)&&(i=!0),i&&p===e&&(l[c]=r.call(t,p)),n.afterPunct=!1,n.isFirst=!1,n.lastWordPos={strings:s,words:c}}e=i.join(a)}return e},skipWordsRex:t.locale[t.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return s.call(t,n,e)},"capitalize-first":function(t,e){var n={quoteState:[],capitaliseWords:function(e){for(var s=i.split(e),o=s.strings,a=0,l=o.length;a<l;a++){var c=o[a];if(c&&n.isFirst){c===h.toLocaleLowerCase.call(t,c)&&(o[a]=r.call(t,c)),n.isFirst=!1;break}}return i.join(s)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return s.call(t,n,e)},"capitalize-all":function(t,e){var n={quoteState:[],capitaliseWords:function(e){for(var n=i.split(e),s=n.strings,o=0,a=s.length;o<a;o++){var l=s[o];l&&l===h.toLocaleLowerCase.call(t,l)&&(s[o]=r.call(t,l))}return i.join(n)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return s.call(t,n,e)}}}(),h.Output.Formats=function(){},h.Output.Formats.prototype.html={text_escape:function(t){return t||(t=""),t.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"Â  ").replace(h.SUPERSCRIPTS_REGEXP,(function(t){return"<sup>"+h.SUPERSCRIPTS[t]+"</sup>"}))},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":h.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":h.Output.Formatters.passthrough,"@strip-periods/false":h.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"â":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var i="";return t.sys.embedBibliographyEntry&&(i=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+e+"</div>\n"+i},"@display/block":function(t,e){return'\n\n    <div class="csl-block">'+e+"</div>\n"},"@display/left-margin":function(t,e){return'\n    <div class="csl-left-margin">'+e+"</div>"},"@display/right-inline":function(t,e){return'<div class="csl-right-inline">'+e+"</div>\n  "},"@display/indent":function(t,e){return'<div class="csl-indent">'+e+"</div>\n  "},"@showid/true":function(t,e,i){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;if(i)return'<span class="'+t.opt.nodenames[i]+'" cslid="'+i+'">'+e+"</span>";if(this.params&&"string"==typeof e){var n="";if(e){var r=e.match(h.VARIABLE_WRAPPER_PREPUNCT_REX);n=r[1],e=r[2]}var s="";return e&&h.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,n,e,s)}return e},"@URL/true":function(t,e){return'<a href="'+e+'">'+e+"</a>"},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),'<a href="'+i+'">'+e+"</a>"}},h.Output.Formats.prototype.text={text_escape:function(t){return t||(t=""),t},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":h.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":h.Output.Formatters.passthrough,"@strip-periods/false":h.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"â":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e+" "},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},h.Output.Formats.prototype.rtf={text_escape:function(t){return t||(t=""),t.replace(/([\\{}])/g,"\\$1").replace(h.SUPERSCRIPTS_REGEXP,(function(t){return"\\super "+h.SUPERSCRIPTS[t]+"\\nosupersub{}"})).replace(/[\u007F-\uFFFF]/g,(function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"})).split("\t").join("\\tab{}")},"@passthrough/true":h.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":h.Output.Formatters.passthrough,"@strip-periods/false":h.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?h.Output.Formats.rtf.text_escape(t.getTerm("open-quote")):h.Output.Formats.rtf.text_escape(t.getTerm("open-quote"))+e+h.Output.Formats.rtf.text_escape(t.getTerm("close-quote"))},"@quotes/inner":function(t,e){return void 0===e?h.Output.Formats.rtf.text_escape("â"):h.Output.Formats.rtf.text_escape(t.getTerm("open-inner-quote"))+e+h.Output.Formats.rtf.text_escape(t.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e},"@display/left-margin":function(t,e){return e+"\\tab "},"@display/right-inline":function(t,e){return e+"\r\n"},"@display/indent":function(t,e){return"\n\\tab "+e+"\\line\r\n"},"@showid/true":function(t,e){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;var i="";if(e){var n=e.match(h.VARIABLE_WRAPPER_PREPUNCT_REX);i=n[1],e=n[2]}var r="";return e&&h.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(r=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,r)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},h.Output.Formats.prototype.asciidoc={text_escape:function(t){return t||(t=""),t.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(h.SUPERSCRIPTS_REGEXP,(function(t){return"^"+h.SUPERSCRIPTS[t]+"^"}))},bibstart:"",bibend:"","@passthrough/true":h.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":h.Output.Formatters.passthrough,"@strip-periods/false":h.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?"``":"``"+e+"''"},"@quotes/inner":function(t,e){return void 0===e?"`":"`"+e+"'"},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return" "+e},"@display/indent":function(t,e){return" "+e},"@showid/true":function(t,e){if(t.tmp.just_looking||t.tmp.suppress_decorations||!this.params||"string"!=typeof e)return e;var i="";if(e){var n=e.match(h.VARIABLE_WRAPPER_PREPUNCT_REX);i=n[1],e=n[2]}var r="";return e&&h.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(r=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,r)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),i+"["+e+"]"}},h.Output.Formats.prototype.fo={text_escape:function(t){return t||(t=""),t.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(h.SUPERSCRIPTS_REGEXP,(function(t){return'<fo:inline vertical-align="super">'+h.SUPERSCRIPTS[t]+"</fo:inline>"}))},bibstart:"",bibend:"","@passthrough/true":h.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":h.Output.Formatters.passthrough,"@strip-periods/false":h.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"â":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var i="";if(t.bibliography&&t.bibliography.opt&&t.bibliography.opt.hangingindent){var n=t.bibliography.opt.hangingindent;i=' start-indent="'+n+'em" text-indent="-'+n+'em"'}var r="";return t.sys.embedBibliographyEntry&&(r=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'<fo:block id="'+this.system_id+'"'+i+">"+e+"</fo:block>\n"+r},"@display/block":function(t,e){return"\n  <fo:block>"+e+"</fo:block>\n"},"@display/left-margin":function(t,e){return'\n  <fo:table table-layout="fixed" width="100%">\n    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>\n    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>\n    <fo:table-body>\n      <fo:table-row>\n        <fo:table-cell>\n          <fo:block>'+e+"</fo:block>\n        </fo:table-cell>\n        "},"@display/right-inline":function(t,e){return"<fo:table-cell>\n          <fo:block>"+e+"</fo:block>\n        </fo:table-cell>\n      </fo:table-row>\n    </fo:table-body>\n  </fo:table>\n"},"@display/indent":function(t,e){return'<fo:block margin-left="2em">'+e+"</fo:block>\n"},"@showid/true":function(t,e){if(t.tmp.just_looking||t.tmp.suppress_decorations||!this.params||"string"!=typeof e)return e;var i="";if(e){var n=e.match(h.VARIABLE_WRAPPER_PREPUNCT_REX);i=n[1],e=n[2]}var r="";return e&&h.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(r=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,r)},"@URL/true":function(t,e){return"<fo:basic-link external-destination=\"url('"+e+"')\">"+e+"</fo:basic-link>"},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),"<fo:basic-link external-destination=\"url('"+i+"')\">"+e+"</fo:basic-link>"}},h.Output.Formats.prototype.latex={text_escape:function(t){return t||(t=""),t},bibstart:"\\begin{thebibliography}{4}",bibend:"\\end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":h.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":h.Output.Formatters.passthrough,"@strip-periods/false":h.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"â":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return"\\bibitem{"+t.sys.embedBibliographyEntry(this.item_id)+"}\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e,i){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},h.Output.Formats=new h.Output.Formats,h.Registry=function(t){this.debug=!1,this.state=t,this.registry={},this.reflist=[],this.refhash={},this.namereg=new h.Registry.NameReg(t),this.citationreg=new h.Registry.CitationReg(t),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new h.Registry.Comparifier(t,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(""+this.reflist[e].id);return t},this.getSortedRegistryItems=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(this.reflist[e]);return t}},h.Registry.prototype.init=function(t,e){if(this.oldseq={},e){this.uncited={};for(var i=0,n=t.length;i<n;i+=1)this.myhash[t[i]]||this.mylist.push(""+t[i]),this.uncited[t[i]]=!0,this.myhash[t[i]]=!0}else{for(var r in this.uncited)t.push(r);var s={};for(i=t.length-1;i>-1;i+=-1)s[t[i]]?t=t.slice(0,i).concat(t.slice(i+1)):s[t[i]]=!0;this.mylist=t,this.myhash=s}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},h.Registry.prototype.dopurge=function(t){for(var e=this.mylist.length-1;e>-1;e+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[this.mylist[e]]||t[this.mylist[e]]||(delete this.myhash[this.mylist[e]],delete this.uncited[this.mylist[e]],this.mylist=this.mylist.slice(0,e).concat(this.mylist.slice(e+1))));this.dodeletes(this.myhash)},h.Registry.prototype.dodeletes=function(t){var e,i,n,r,s,o,a;if("string"==typeof t){var l=t;(t={})[l]=!0}for(var l in this.registry)if(!t[l]){if(this.uncited[l])continue;for(s in this.namereg.delitems(l))this.refreshes[s]=!0;for(e=this.registry[l].ambig,(o=this.ambigcites[e].indexOf(l))>-1&&(r=this.ambigcites[e].slice(),this.ambigcites[e]=r.slice(0,o).concat(r.slice(o+1,r.length)),this.ambigresets[e]=this.ambigcites[e].length),n=this.ambigcites[e].length,i=0;i<n;i+=1)a=""+this.ambigcites[e][i],this.refreshes[a]=!0;if(this.registry[l].siblings)if(1==this.registry[l].siblings.length){var c=this.registry[l].siblings[0];this.registry[c].siblings&&(this.registry[c].siblings.pop(),this.registry[c].master=!0)}else if(this.registry[l].siblings.length>1){var u=[l];if(this.registry[l].master){var h=this.registry[l].siblings[0];this.registry[h].master=!0,u.push(h)}for(var p=[],f=this.registry[l].siblings.length-1;f>-1;f+=-1){var d=this.registry[l].siblings.pop();-1===u.indexOf(d)&&p.push(d)}for(f=p.length-1;f>-1;f+=-1)this.registry[l].siblings.push(p[f])}for(var m=this.reflist.length-1;m>-1;m--)this.reflist[m].id===l&&(this.reflist=this.reflist.slice(0,m).concat(this.reflist.slice(m+1)));delete this.registry[l],delete this.refhash[l],this.return_data.bibchange=!0}},h.Registry.prototype.doinserts=function(t){var e,i,n,r,s;"string"==typeof t&&(t=[t]);for(var o=0,a=t.length;o<a;o+=1)e=t[o],this.registry[e]||(i=this.state.retrieveItem(e),n=h.getAmbiguousCite.call(this.state,i),this.ambigsTouched[n]=!0,i.legislation_id||(this.akeys[n]=!0),r={id:""+e,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:i,newItem:!0},this.registry[e]=r,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[e]&&(this.registry[e]["first-reference-note-number"]=this.citationreg.citationsByItemId[e][0].properties.noteIndex),s=h.getAmbigConfig.call(this.state),this.registerAmbigToken(n,e,s),this.touched[e]=!0,this.return_data.bibchange=!0)},h.Registry.prototype.rebuildlist=function(t){var e,i,n,r;if(t)for(this.reflist=[],e=this.mylist.length,i=0;i<e;i+=1)n=this.mylist[i],r=this.registry[n],this.reflist.push(r),this.oldseq[n]=this.registry[n].seq,this.registry[n].seq=i+1;else for(this.reflist_inserts=[],e=this.mylist.length,i=0;i<e;i+=1)n=this.mylist[i],(r=this.registry[n]).newItem&&this.reflist_inserts.push(r),this.oldseq[n]=this.registry[n].seq,this.registry[n].seq=i+1},h.Registry.prototype.dorefreshes=function(){var t;for(var e in this.refreshes)if(t=this.registry[e]){t.sortkeys=void 0,s=this.state.refetchItem(e);var i=t.ambig;for(var n in void 0===i&&(this.state.tmp.disambig_settings=!1,i=h.getAmbiguousCite.call(this.state,s),o=h.getAmbigConfig.call(this.state),this.registerAmbigToken(i,e,o)),this.ambigresets)if(1===this.ambigresets[n]){var r=this.ambigcites[i][0],s=this.state.refetchItem(r);this.registry[r].disambig=new h.AmbigConfig,this.state.tmp.disambig_settings=!1,i=h.getAmbiguousCite.call(this.state,s);var o=h.getAmbigConfig.call(this.state);this.registerAmbigToken(i,r,o)}this.state.tmp.taintedItemIDs[e]=!0,this.ambigsTouched[i]=!0,s.legislation_id||(this.akeys[i]=!0),this.touched[e]=!0}},h.Registry.prototype.setdisambigs=function(){for(var t in this.ambigsTouched)this.state.disambiguate.run(t);this.ambigsTouched={},this.akeys={}},h.Registry.prototype.renumber=function(){var t,e,i;for(this.state.bibliography_sort.opt.citation_number_sort_direction===h.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),t=this.reflist.length,e=0;e<t;e+=1)(i=this.reflist[e]).seq=e+1,this.state.bibliography_sort.opt.citation_number_sort_direction===h.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[i.seq]=this.reflist.length-i.seq+1),this.state.opt.update_mode===h.NUMERIC&&i.seq!=this.oldseq[i.id]&&(this.state.tmp.taintedItemIDs[i.id]=!0),i.seq!=this.oldseq[i.id]&&(this.return_data.bibchange=!0)},h.Registry.prototype.setsortkeys=function(){for(var t=0,e=this.mylist.length;t<e;t+=1){var i=this.mylist[t];(this.touched[i]||this.state.tmp.taintedItemIDs[i]||!this.registry[i].sortkeys)&&(this.registry[i].sortkeys=h.getSortKeys.call(this.state,this.state.retrieveItem(i),"bibliography_sort"))}},h.Registry.prototype._insertItem=function(t,e){return e.splice(this._locationOf(t,e)+1,0,t),e},h.Registry.prototype._locationOf=function(t,e,i,n){if(0===e.length)return-1;var r=(i=i||0)+(n=n||e.length)>>1,s=this.sorter.compareKeys(t,e[r]);if(n-i<=1)return-1==s?r-1:r;switch(s){case-1:return this._locationOf(t,e,i,r);case 0:return r;case 1:return this._locationOf(t,e,r,n)}},h.Registry.prototype.sorttokens=function(t){var e,i,n;if(!t){for(this.reflist_inserts=[],e=this.mylist.length,n=0;n<e;n+=1)i=this.mylist[n],(a=this.registry[i]).newItem&&this.reflist_inserts.push(a);for(var r in this.state.tmp.taintedItemIDs)if(this.registry[r]&&!this.registry[r].newItem)for(var s=this.reflist.length-1;s>-1;s--)this.reflist[s].id===r&&(this.reflist_inserts.push(this.reflist[s]),this.reflist=this.reflist.slice(0,s).concat(this.reflist.slice(s+1)));s=0;for(var o=this.reflist_inserts.length;s<o;s++){var a;delete(a=this.reflist_inserts[s]).newItem,this.reflist=this._insertItem(a,this.reflist)}for(n=0;n<e;n+=1)i=this.mylist[n],a=this.registry[i],this.registry[i].seq=n+1}},h.Registry.Comparifier=function(t,e){var i,n,r,s,o=h.getSortCompare.call(t,t.opt["default-locale-sort"]);i=t[e].opt.sort_directions,this.compareKeys=function(t,e){for(n=t.sortkeys?t.sortkeys.length:0,r=0;r<n;r+=1){var s;if(0<(s=t.sortkeys[r]===e.sortkeys[r]?0:void 0===t.sortkeys[r]?i[r][1]:void 0===e.sortkeys[r]?i[r][0]:o(t.sortkeys[r],e.sortkeys[r])))return i[r][1];if(0>s)return i[r][0]}return t.seq>e.seq?1:t.seq<e.seq?-1:0},s=this.compareKeys,this.compareCompositeKeys=function(t,e){return s(t[1],e[1])}},h.Registry.prototype.compareRegistryTokens=function(t,e){return t.seq>e.seq?1:t.seq<e.seq?-1:0},h.Registry.prototype.registerAmbigToken=function(t,e,i){if(this.registry[e]||h.debug("Warning: unregistered item: itemID=("+e+"), akey=("+t+")"),this.registry[e]&&this.registry[e].disambig&&this.registry[e].disambig.names)for(var n=0,r=i.names.length;n<r;n+=1)if(i.names[n]!==this.registry[e].disambig.names[n])this.state.tmp.taintedItemIDs[e]=!0;else if(i.givens[n])for(var s=0,o=i.givens[n].length;s<o;s+=1)i.givens[n][s]!==this.registry[e].disambig.givens[n][s]&&(this.state.tmp.taintedItemIDs[e]=!0);this.ambigcites[t]||(this.ambigcites[t]=[]),-1===this.ambigcites[t].indexOf(""+e)&&this.ambigcites[t].push(""+e),this.registry[e].ambig=t,this.registry[e].disambig=h.cloneAmbigConfig(i)},h.getSortKeys=function(t,e){var i,n,r,s,o,a;for(i=this.tmp.area,n=this.tmp.root,r=this.tmp.extension,s=h.Util.Sort.strip_prepositions,this.tmp.area=e,this.tmp.root=e.indexOf("_")>-1?e.slice(0,-5):e,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,h.getCite.call(this,t),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,o=this[e].keys.length,a=0;a<o;a+=1)this[e].keys[a]=s(this[e].keys[a]);return this.tmp.area=i,this.tmp.root=n,this.tmp.extension=r,this[e].keys},h.Registry.NameReg=function(t){var e,i,n,r,s,o,a,l,c,u,p,f;this.state=t,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},a=function(t){return t||(t=""),t.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(t,r,s){e=a(s.family),"never"===t.opt["demote-non-dropping-particle"]&&s["non-dropping-particle"]&&s.family&&(e=`${e} ${s["non-dropping-particle"]}`);var o=(n=a(s.given)).match(/[,\!]* ([^,]+)$/);o&&o[1]===o[1].toLowerCase()&&(n=n.replace(/[,\!]* [^,]+$/,"")),i=h.Util.Names.initializeWith(t,n,"%s"),"by-cite"===t.citation.opt["givenname-disambiguation-rule"]&&(e=""+r+e)},c=function(n,o,a,c,u,h){var p;if("bibliography"===t.tmp.area.slice(0,12)&&!u)return"string"==typeof h?1:2;o=t.nameOutput.getName(o,"locale-translit",!0).name,l(this.state,""+n,o),p=2,r=t.opt["disambiguate-add-givenname"];var f=s=t.citation.opt["givenname-disambiguation-rule"];return"by-cite"===s&&(s="all-names"),"short"===u?p=0:"string"==typeof h&&(p=1),void 0===this.namereg[e]||void 0===this.namereg[e].ikey[i]?p:"by-cite"===f&&p<=c?c:r?"string"==typeof s&&"primary-name"===s.slice(0,12)&&a>0?p:(s&&"all-names"!==s&&"primary-name"!==s?"all-names-with-initials"!==s&&"primary-name-with-initials"!==s||(p=this.namereg[e].count>1?1:0):(this.namereg[e].count>1&&(p=1),(this.namereg[e].ikey&&this.namereg[e].ikey[i].count>1||this.namereg[e].count>1&&"string"!=typeof h)&&(p=2)),t.registry.registry[n]?p:"short"==u?0:"string"==typeof h?1:void 0):p},u=function(r){var s,a,l,c,u;for("string"!=typeof r&&"number"!=typeof r||(r=[""+r]),a=r.length,s=0;s<a;s+=1)if(c=""+r[s],this.nameind[c]){for(u in this.nameind[c])if(this.nameind[c].hasOwnProperty(u)){var h=u.split("::");if(e=h[0],i=h[1],n=h[2],void 0===this.namereg[e])continue;if(o=this.namereg[e].items,n&&this.namereg[e].ikey[i]&&this.namereg[e].ikey[i].skey[n]&&((l=(f=this.namereg[e].ikey[i].skey[n].items).indexOf(""+c))>-1&&(this.namereg[e].ikey[i].skey[n].items=f.slice(0,l).concat(f.slice([l+1]))),0===this.namereg[e].ikey[i].skey[n].items.length&&(delete this.namereg[e].ikey[i].skey[n],this.namereg[e].ikey[i].count+=-1,this.namereg[e].ikey[i].count<2)))for(var p=0,d=this.namereg[e].ikey[i].items.length;p<d;p+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[i].items[p]]=!0;if(i&&this.namereg[e].ikey[i]&&((l=this.namereg[e].ikey[i].items.indexOf(""+c))>-1&&(o=this.namereg[e].ikey[i].items.slice(),this.namereg[e].ikey[i].items=o.slice(0,l).concat(o.slice([l+1]))),0===this.namereg[e].ikey[i].items.length&&(delete this.namereg[e].ikey[i],this.namereg[e].count+=-1,this.namereg[e].count<2)))for(p=0,d=this.namereg[e].items.length;p<d;p+=1)t.tmp.taintedItemIDs[this.namereg[e].items[p]]=!0;e&&((l=this.namereg[e].items.indexOf(""+c))>-1&&(o=this.namereg[e].items.slice(),this.namereg[e].items=o.slice(0,l).concat(o.slice([l+1],o.length))),this.namereg[e].items.length<2&&delete this.namereg[e]),delete this.nameind[c][u]}delete this.nameind[c],delete this.nameindpkeys[c]}return{}},p=function(r,s,o){if(s=t.nameOutput.getName(s,"locale-translit",!0).name,!t.citation.opt["givenname-disambiguation-rule"]||"primary-"!==t.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===o){if(l(this.state,""+r,s),e&&(void 0===this.namereg[e]?(this.namereg[e]={},this.namereg[e].count=0,this.namereg[e].ikey={},this.namereg[e].items=[r]):-1===this.namereg[e].items.indexOf(r)&&this.namereg[e].items.push(r)),e&&i)if(void 0===this.namereg[e].ikey[i]){if(this.namereg[e].ikey[i]={},this.namereg[e].ikey[i].count=0,this.namereg[e].ikey[i].skey={},this.namereg[e].ikey[i].items=[r],this.namereg[e].count+=1,2===this.namereg[e].count)for(var a=0,c=this.namereg[e].items.length;a<c;a+=1)t.tmp.taintedItemIDs[this.namereg[e].items[a]]=!0}else-1===this.namereg[e].ikey[i].items.indexOf(r)&&this.namereg[e].ikey[i].items.push(r);if(e&&i&&n)if(void 0===this.namereg[e].ikey[i].skey[n]){if(this.namereg[e].ikey[i].skey[n]={},this.namereg[e].ikey[i].skey[n].items=[r],this.namereg[e].ikey[i].count+=1,2===this.namereg[e].ikey[i].count)for(a=0,c=this.namereg[e].ikey[i].items.length;a<c;a+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[i].items[a]]=!0}else-1===this.namereg[e].ikey[i].skey[n].items.indexOf(r)&&this.namereg[e].ikey[i].skey[n].items.push(r);void 0===this.nameind[r]&&(this.nameind[r]={},this.nameindpkeys[r]={}),e&&(this.nameind[r][e+"::"+i+"::"+n]=!0,this.nameindpkeys[r][e]=this.namereg[e])}},this.addname=p,this.delitems=u,this.evalname=c},h.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]},h.Disambiguation=function(t){this.state=t,this.sys=this.state.sys,this.registry=t.registry.registry,this.ambigcites=t.registry.ambigcites,this.configModes(),this.debug=!1},h.Disambiguation.prototype.run=function(t){this.modes.length&&(this.debug&&this.state.sys.print("[A] === RUN ==="),this.akey=t,this.initVars(t)&&this.runDisambig())},h.Disambiguation.prototype.runDisambig=function(){var t;for(this.debug&&this.state.sys.print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),t=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(t);this.lists=this.lists.slice(1)}},h.Disambiguation.prototype.scanItems=function(t){var e;this.debug&&this.state.sys.print("[2] === scanItems() ==="),this.Item=t[1][0],this.ItemCite=h.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=t[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var i=0,n=1,r=t[1].length;n<r;n+=1){e=t[1][n];var s=h.getAmbiguousCite.call(this.state,e,this.base,!0);this.debug&&n>1&&this.state.sys.print("  -----------"),this.ItemCite===s?(this.debug&&(this.state.sys.print("  [CLASH]--\x3e "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+e.id+": "+s)),i+=1,this.partners.push(e)):(this.debug&&(this.state.sys.print("  [clear]--\x3e "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+e.id+": "+s)),this.nonpartners.push(e))}this.clashes[0]=this.clashes[1],this.clashes[1]=i},h.Disambiguation.prototype.evalScan=function(t){this[this.modes[this.modeindex]](t),t&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},h.Disambiguation.prototype.disNames=function(t){if(this.debug&&this.state.sys.print("[3] == disNames() =="),0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [a]: lone partner, one nonpartner"),this.state.sys.print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),this.state.sys.print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),this.state.sys.print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&this.state.sys.print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&this.state.sys.print("  ** RESOLUTION [e]: no improvement, and clashes remain"),t&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&this.state.sys.print("     (registering clashing entries because we've run out of options)");for(var e=0,i=this.partners.length;e<i;e+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[e].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},h.Disambiguation.prototype.disExtraText=function(){this.debug&&this.state.sys.print("[3] === disExtraText ==");var t=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(t=!0),t||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(t||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(t||this.modeindex===this.modes.length-1){var e=this.lists[this.listpos][0];for(i=0,n=this.lists[this.listpos][1].length;i<n;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,e);this.lists[this.listpos]=[this.betterbase,[]]}else for(this.modeindex=this.modes.length-1,(e=this.lists[this.listpos][0]).disambiguate=!0,i=0,n=this.lists[this.listpos][1].length;i<n;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,e)}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var i=0,n=this.lists[this.listpos][1].length;i<n;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0}},h.Disambiguation.prototype.disYears=function(){var t;this.debug&&this.state.sys.print("[3] === disYears =="),t=[];var e=this.lists[this.listpos][0];if(this.clashes[1])for(var i=0,n=this.state.registry.mylist.length;i<n;i+=1)for(var r=this.state.registry.mylist[i],s=0,o=this.lists[this.listpos][1].length;s<o;s+=1){var a;if((a=this.lists[this.listpos][1][s]).id==r){t.push(this.registry[a.id]);break}}t.sort(this.state.registry.sorter.compareKeys);for(var l=0,c=t.length;l<c;l+=1){e.year_suffix=""+l;var u=this.state.registry.registry[t[l].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+t[l].id,e),h.ambigConfigDiff(u,e)&&(this.state.tmp.taintedItemIDs[t[l].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},h.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&this.state.sys.print("\n[1] === incrementDisambig() ==="),this.initGivens)return this.initGivens=!1,!1;var t=!1,e=!0;if("disNames"===this.modes[this.modeindex]){e=!1,"number"!=typeof this.givensMax&&(e=!0);var i=!1;"number"!=typeof this.namesMax&&(i=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:e=!0),"number"==typeof this.namesMax&&e&&(this.state.opt["disambiguate-add-names"]?(i=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):i=!0):i=!0),"number"==typeof this.namesetsMax&&i&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(this.state.sys.print("    ------------------"),this.state.sys.print("    incremented values"),this.state.sys.print("    ------------------"),this.state.sys.print("    | gnameset: "+this.gnameset),this.state.sys.print("    | gname: "+this.gname),this.state.sys.print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?this.state.sys.print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):this.state.sys.print("    | givens value: nil"),this.state.sys.print("    | namesetsMax: "+this.namesetsMax),this.state.sys.print("    | namesMax: "+this.namesMax),this.state.sys.print("    | givensMax: "+this.givensMax)),"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&void 0!==this.base.givens[this.gnameset]&&void 0!==this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(t=!0,this.debug&&this.state.sys.print("    MAXED"))}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return t},h.Disambiguation.prototype.initVars=function(t){var e,i,n;if(this.debug&&this.state.sys.print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=t,this.maxNamesByItemId={},i=[],!(e=this.ambigcites[t])||!e.length)return!1;var r=this.state.refetchItem(""+e[0]);if(this.getCiteData(r),this.base=h.getAmbigConfig.call(this.state),e&&e.length>1){i.push([this.maxNamesByItemId[r.id],r]);for(var s=1,o=e.length;s<o;s+=1)r=this.state.refetchItem(""+e[s]),this.getCiteData(r,this.base),i.push([this.maxNamesByItemId[r.id],r]);i.sort((function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1].id>e[1].id?1:t[1].id<e[1].id?-1:0})),n=[];for(s=0,o=i.length;s<o;s+=1)n.push(i[s][1]);this.lists.push([this.base,n]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+e[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},h.Disambiguation.prototype.padBase=function(t){for(var e=0,i=t.names.length;e<i;e+=1){t.givens[e]||(t.givens[e]=[]);for(var n=0,r=t.names[e];n<r;n+=1)t.givens[e][n]||(t.givens[e][n]=0)}},h.Disambiguation.prototype.configModes=function(){var t,e;this.modes=[],t=this.state.opt["disambiguate-add-givenname"],e=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||t&&"by-cite"===e)&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))},h.Disambiguation.prototype.getCiteData=function(t,e){if(!this.maxNamesByItemId[t.id]){h.getAmbiguousCite.call(this.state,t,e),e=h.getAmbigConfig.call(this.state),this.maxNamesByItemId[t.id]=h.getMaxVals.call(this.state),this.state.registry.registry[t.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var i=0,n=this.state.registry.registry[t.id].disambig.givens.length;i<n;i+=1)this.state.registry.registry[t.id].disambig.givens[i]=this.state.tmp.disambig_settings.givens[i].slice();for(this.namesetsMax=this.state.registry.registry[t.id].disambig.names.length-1,this.base||(this.base=e,this.betterbase=h.cloneAmbigConfig(e)),e.names.length<this.base.names.length&&(this.base=e),i=0,n=e.names.length;i<n;i+=1)e.names[i]>this.base.names[i]&&(this.base.givens[i]=e.givens[i].slice(),this.base.names[i]=e.names[i],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var r=0,s=this.base.givens.length;r<s;r+=1)this.betterbase.givens[r]=this.base.givens[r].slice()}},h.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&void 0!==this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},h.Engine.prototype.getJurisdictionList=function(t){for(var e=[],i=t.split(":"),n=i.length;n>0;n--){var r=i.slice(0,n).join(":");if(e.push(r),this.opt.jurisdiction_fallbacks[r]){var s=this.opt.jurisdiction_fallbacks[r];e.push(s)}}return-1===e.indexOf("us")&&e.push("us"),e},h.Engine.prototype.loadStyleModule=function(t,e,i){var n=null;this.juris[t]={};var r=h.setupXml(e);r.addMissingNameNodes(r.dataObj),r.addInstitutionNodes(r.dataObj),r.insertPublisherAndPlace(r.dataObj),r.flagDateMacros(r.dataObj);for(var s=0,o=(u=r.getNodesByName(r.dataObj,"law-module")).length;s<o;s++){var a=r.getAttributeValue(u[s],"types");if(a){this.juris[t].types={};for(var l=0,c=(a=a.split(/\s+/)).length;l<c;l++)this.juris[t].types[a[l]]=!0}i||(n=r.getAttributeValue(u[s],"fallback"))&&"us"!==t&&(this.opt.jurisdiction_fallbacks[t]=n)}var u,p=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];for(h.SET_COURT_CLASSES(this,p,r,r.dataObj),this.juris[t].types||(this.juris[t].types=h.MODULE_TYPES),s=0,o=(u=r.getNodesByName(r.dataObj,"macro")).length;s<o;s++){var f=r.getAttributeValue(u[s],"name");h.MODULE_MACROS[f]?(this.juris[t][f]=[],this.buildTokenLists(u[s],this.juris[t][f]),this.configureTokenList(this.juris[t][f])):h.debug('CSL: skipping non-modular macro name "'+f+'" in module context')}return n},h.Engine.prototype.retrieveAllStyleModules=function(t){for(var e={},i=this.locale[this.opt.lang].opts["jurisdiction-preference"],n=(i=[""].concat(i=i||[])).length-1;n>-1;n--)for(var r=i[n],s=0,o=t.length;s<o;s++){var a=t[s];if(!this.opt.jurisdictions_seen[a]){var l=this.sys.retrieveStyleModule(a,r);(!l&&!r||l)&&(this.opt.jurisdictions_seen[a]=!0),l&&(e[a]=l)}}return e},h.ParticleList=[["'s",n=[[null,[0,1]]]],["'s-",n],["'t",n],["a",n],["aan 't",r=[[null,[0,2]]]],["aan de",r],["aan den",r],["aan der",r],["aan het",r],["aan t",r],["aan",n],["ad-",o=[[null,[0,1]],[[0,1],null]]],["adh-",o],["af",o],["al",o],["al-",o],["am de",r],["am",n],["an-",o],["ar-",o],["as-",o],["ash-",o],["at-",o],["ath-",o],["auf dem",c=[[[0,2],null],[null,[0,2]]]],["auf den",c],["auf der",c],["auf ter",r],["auf",l=[[[0,1],null],[null,[0,1]]]],["aus 'm",c],["aus dem",c],["aus den",c],["aus der",c],["aus m",c],["aus",l],["aus'm",c],["az-",o],["aÅ¡-",o],["aá¸-",o],["aá¸-",o],["aá¹£-",o],["aá¹­-",o],["aá¹¯-",o],["aáº-",o],["ben",n],["bij 't",r],["bij de",r],["bij den",r],["bij het",r],["bij t",r],["bij",n],["bin",n],["boven d",r],["boven d'",r],["d",n],["d'",o],["da",o],["dal",n],["dal'",n],["dall'",n],["dalla",n],["das",o],["de die le",s=[[null,[0,3]]]],["de die",r],["de l",r],["de l'",r],["de la",u=[[null,[0,2]],[[0,1],[1,2]]]],["de las",u],["de le",r],["de li",a=[[null,[0,2]],[[0,2],null]]],["de van der",s],["de",o],["de'",o],["deca",n],["degli",o],["dei",o],["del",o],["dela",i=[[[0,1],null]]],["dell'",o],["della",o],["delle",o],["dello",o],["den",o],["der",o],["des",o],["di",o],["die le",r],["do",n],["don",n],["dos",o],["du",o],["ed-",o],["edh-",o],["el",o],["el-",o],["en-",o],["er-",o],["es-",o],["esh-",o],["et-",o],["eth-",o],["ez-",o],["eÅ¡-",o],["eá¸-",o],["eá¸-",o],["eá¹£-",o],["eá¹­-",o],["eá¹¯-",o],["eáº-",o],["het",n],["i",n],["il",i],["im",n],["in 't",r],["in de",r],["in den",r],["in der",a],["in het",r],["in t",r],["in",n],["l",n],["l'",n],["la",n],["las",n],["le",n],["les",o],["lo",o],["los",n],["lou",n],["of",n],["onder 't",r],["onder de",r],["onder den",r],["onder het",r],["onder t",r],["onder",n],["op 't",r],["op de",a],["op den",r],["op der",r],["op gen",r],["op het",r],["op t",r],["op ten",r],["op",n],["over 't",r],["over de",r],["over den",r],["over het",r],["over t",r],["over",n],["s",n],["s'",n],["sen",i],["t",n],["te",n],["ten",n],["ter",n],["tho",n],["thoe",n],["thor",n],["to",n],["toe",n],["tot",n],["uijt 't",r],["uijt de",r],["uijt den",r],["uijt te de",s],["uijt ten",r],["uijt",n],["uit 't",r],["uit de",r],["uit den",r],["uit het",r],["uit t",r],["uit te de",s],["uit ten",r],["uit",n],["unter",n],["v",n],["v.",n],["v.d.",n],["van 't",r],["van de l",s],["van de l'",s],["van de",r],["van de",r],["van den",r],["van der",r],["van gen",r],["van het",r],["van la",r],["van t",r],["van ter",r],["van van de",s],["van",o],["vander",n],["vd",n],["ver",n],["vom und zum",[[[0,3],null]]],["vom",o],["von 't",r],["von dem",c],["von den",c],["von der",c],["von t",r],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",c],["von",l],["voor 't",r],["voor de",r],["voor den",r],["voor in 't",s],["voor in t",s],["voor",n],["vor der",c],["vor",l],["z",i],["ze",i],["zu",l],["zum",o],["zur",o]],h.parseParticles=function(){function t(t,e,i){var n=t;t=i?t.toLowerCase():t;var r,s,o=[];e?(t=t.split("").reverse().join(""),r=h.PARTICLE_GIVEN_REGEXP):r=h.PARTICLE_FAMILY_REGEXP;for(var a=t.match(r);a;){var l,c=e?a[1].split("").reverse().join(""):a[1];if(!(s=!!(l=!!(l=!!a&&c)&&c.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&l.toUpperCase()!==l))break;e?(o.push(n.slice(-1*c.length)),n=n.slice(0,-1*c.length)):(o.push(n.slice(0,c.length)),n=n.slice(c.length)),a=(t=a[2]).match(r)}if(e){t=t.split("").reverse().join(""),o.reverse();for(var u=1,p=o.length;u<p;u++)" "==o[u].slice(0,1)&&(o[u-1]+=" ");for(u=0,p=o.length;u<p;u++)" "==o[u].slice(0,1)&&(o[u]=o[u].slice(1));t=n.slice(0,t.length)}else t=n.slice(-1*t.length);return[s,t,o]}return function(e){var i=(a=t(e.family))[1],n=a[2];e.family=i;var r,s,o=(s=(r=n.join("")).slice(-1),r=r.trim()," "===s&&["'","â"].indexOf(r.slice(-1))>-1&&(r+=" "),r);o&&(e["non-dropping-particle"]=o),function(t){if(!t.suffix&&t.given){var e=t.given.match(/(\s*,!*\s*)/);if(e){var i=t.given.indexOf(e[1]),n=t.given.slice(i+e[1].length),r=t.given.slice(i,i+e[1].length).replace(/\s*/g,"");"et al"!==n.replace(/\./g,"")||t["dropping-particle"]?(2===r.length&&(t["comma-suffix"]=!0),t.suffix=n):(t["dropping-particle"]=n,t["comma-dropping-particle"]=","),t.given=t.given.slice(0,i)}}}(e);var a,l=(a=t(e.given,!0))[1],c=a[2];e.given=l;var u=c.join("").trim();u&&(e["dropping-particle"]=u)}}(),t.exports=h},2949:(t,e,i)=>{"use strict";const n=i(6928),r=i(857),s=r.homedir(),o=r.tmpdir(),{env:a}=process,l=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected string, got "+typeof t);return(e=Object.assign({suffix:"nodejs"},e)).suffix&&(t+=`-${e.suffix}`),"darwin"===process.platform?(t=>{const e=n.join(s,"Library");return{data:n.join(e,"Application Support",t),config:n.join(e,"Preferences",t),cache:n.join(e,"Caches",t),log:n.join(e,"Logs",t),temp:n.join(o,t)}})(t):"win32"===process.platform?(t=>{const e=a.APPDATA||n.join(s,"AppData","Roaming"),i=a.LOCALAPPDATA||n.join(s,"AppData","Local");return{data:n.join(i,t,"Data"),config:n.join(e,t,"Config"),cache:n.join(i,t,"Cache"),log:n.join(i,t,"Log"),temp:n.join(o,t)}})(t):(t=>{const e=n.basename(s);return{data:n.join(a.XDG_DATA_HOME||n.join(s,".local","share"),t),config:n.join(a.XDG_CONFIG_HOME||n.join(s,".config"),t),cache:n.join(a.XDG_CACHE_HOME||n.join(s,".cache"),t),log:n.join(a.XDG_STATE_HOME||n.join(s,".local","state"),t),temp:n.join(o,e,t)}})(t)};t.exports=l,t.exports.default=l},7028:(t,e,i)=>{"use strict";const n=i(9023),r=i(54),s=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),o=t=>"number"==typeof t||"string"==typeof t&&""!==t,a=t=>Number.isInteger(+t),l=t=>{let e=`${t}`,i=-1;if("-"===e[0]&&(e=e.slice(1)),"0"===e)return!1;for(;"0"===e[++i];);return i>0},c=(t,e,i)=>{if(e>0){let i="-"===t[0]?"-":"";i&&(t=t.slice(1)),t=i+t.padStart(i?e-1:e,"0")}return!1===i?String(t):t},u=(t,e)=>{let i="-"===t[0]?"-":"";for(i&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return i?"-"+t:t},h=(t,e,i,n)=>{if(i)return r(t,e,{wrap:!1,...n});let s=String.fromCharCode(t);return t===e?s:`[${s}-${String.fromCharCode(e)}]`},p=(t,e,i)=>{if(Array.isArray(t)){let e=!0===i.wrap,n=i.capture?"":"?:";return e?`(${n}${t.join("|")})`:t.join("|")}return r(t,e,i)},f=(...t)=>new RangeError("Invalid range arguments: "+n.inspect(...t)),d=(t,e,i)=>{if(!0===i.strictRanges)throw f([t,e]);return[]},m=(t,e,i,n={})=>{if(null==e&&o(t))return[t];if(!o(t)||!o(e))return d(t,e,n);if("function"==typeof i)return m(t,e,1,{transform:i});if(s(i))return m(t,e,0,i);let r={...n};return!0===r.capture&&(r.wrap=!0),i=i||r.step||1,a(i)?a(t)&&a(e)?((t,e,i=1,n={})=>{let r=Number(t),s=Number(e);if(!Number.isInteger(r)||!Number.isInteger(s)){if(!0===n.strictRanges)throw f([t,e]);return[]}0===r&&(r=0),0===s&&(s=0);let o=r>s,a=String(t),d=String(e),m=String(i);i=Math.max(Math.abs(i),1);let g=l(a)||l(d)||l(m),y=g?Math.max(a.length,d.length,m.length):0,b=!1===g&&!1===((t,e,i)=>"string"==typeof t||"string"==typeof e||!0===i.stringify)(t,e,n),_=n.transform||(t=>e=>!0===t?Number(e):String(e))(b);if(n.toRegex&&1===i)return h(u(t,y),u(e,y),!0,n);let v={negatives:[],positives:[]},w=[],x=0;for(;o?r>=s:r<=s;)!0===n.toRegex&&i>1?v[(k=r)<0?"negatives":"positives"].push(Math.abs(k)):w.push(c(_(r,x),y,b)),r=o?r-i:r+i,x++;var k;return!0===n.toRegex?i>1?((t,e,i)=>{t.negatives.sort(((t,e)=>t<e?-1:t>e?1:0)),t.positives.sort(((t,e)=>t<e?-1:t>e?1:0));let n,r=e.capture?"":"?:",s="",o="";return t.positives.length&&(s=t.positives.map((t=>u(String(t),i))).join("|")),t.negatives.length&&(o=`-(${r}${t.negatives.map((t=>u(String(t),i))).join("|")})`),n=s&&o?`${s}|${o}`:s||o,e.wrap?`(${r}${n})`:n})(v,n,y):p(w,null,{wrap:!1,...n}):w})(t,e,i,r):((t,e,i=1,n={})=>{if(!a(t)&&t.length>1||!a(e)&&e.length>1)return d(t,e,n);let r=n.transform||(t=>String.fromCharCode(t)),s=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),l=s>o,c=Math.min(s,o),u=Math.max(s,o);if(n.toRegex&&1===i)return h(c,u,!1,n);let f=[],m=0;for(;l?s>=o:s<=o;)f.push(r(s,m)),s=l?s-i:s+i,m++;return!0===n.toRegex?p(f,null,{wrap:!1,options:n}):f})(t,e,Math.max(Math.abs(i),1),r):null==i||s(i)?m(t,e,1,i):((t,e)=>{if(!0===e.strictRanges)throw new TypeError(`Expected step "${t}" to be a number`);return[]})(i,r)};t.exports=m},5014:(t,e,i)=>{"use strict";var n=i(2382),r=i(6928).posix.dirname,s="win32"===i(857).platform(),o=/\\/g,a=/[\{\[].*[\}\]]$/,l=/(^|[^\\])([\{\[]|\([^\)]+$)/,c=/\\([\!\*\?\|\[\]\(\)\{\}])/g;t.exports=function(t,e){Object.assign({flipBackslashes:!0},e).flipBackslashes&&s&&t.indexOf("/")<0&&(t=t.replace(o,"/")),a.test(t)&&(t+="/"),t+="a";do{t=r(t)}while(n(t)||l.test(t));return t.replace(c,"$1")}},3843:(t,e,i)=>{"use strict";const n=i(6928),r=i(1493),s=new Set(r);t.exports=t=>s.has(n.extname(t).slice(1).toLowerCase())},1341:t=>{t.exports=function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1}},2382:(t,e,i)=>{var n=i(1341),r={"{":"}","(":")","[":"]"},s=function(t){if("!"===t[0])return!0;for(var e=0,i=-2,n=-2,s=-2,o=-2,a=-2;e<t.length;){if("*"===t[e])return!0;if("?"===t[e+1]&&/[\].+)]/.test(t[e]))return!0;if(-1!==n&&"["===t[e]&&"]"!==t[e+1]&&(n<e&&(n=t.indexOf("]",e)),n>e)){if(-1===a||a>n)return!0;if(-1===(a=t.indexOf("\\",e))||a>n)return!0}if(-1!==s&&"{"===t[e]&&"}"!==t[e+1]&&(s=t.indexOf("}",e))>e&&(-1===(a=t.indexOf("\\",e))||a>s))return!0;if(-1!==o&&"("===t[e]&&"?"===t[e+1]&&/[:!=]/.test(t[e+2])&&")"!==t[e+3]&&(o=t.indexOf(")",e))>e&&(-1===(a=t.indexOf("\\",e))||a>o))return!0;if(-1!==i&&"("===t[e]&&"|"!==t[e+1]&&(i<e&&(i=t.indexOf("|",e)),-1!==i&&")"!==t[i+1]&&(o=t.indexOf(")",i))>i&&(-1===(a=t.indexOf("\\",i))||a>o)))return!0;if("\\"===t[e]){var l=t[e+1];e+=2;var c=r[l];if(c){var u=t.indexOf(c,e);-1!==u&&(e=u+1)}if("!"===t[e])return!0}else e++}return!1},o=function(t){if("!"===t[0])return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if("\\"===t[e]){var i=t[e+1];e+=2;var n=r[i];if(n){var s=t.indexOf(n,e);-1!==s&&(e=s+1)}if("!"===t[e])return!0}else e++}return!1};t.exports=function(t,e){if("string"!=typeof t||""===t)return!1;if(n(t))return!0;var i=s;return e&&!1===e.strict&&(i=o),i(t)}},1929:t=>{"use strict";t.exports=function(t){return"number"==typeof t?t-t==0:"string"==typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t))}},4100:t=>{t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("expected path to be a string");if("\\"===t||"/"===t)return"/";var i=t.length;if(i<=1)return t;var n="";if(i>4&&"\\"===t[3]){var r=t[2];"?"!==r&&"."!==r||"\\\\"!==t.slice(0,2)||(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return!1!==e&&""===s[s.length-1]&&s.pop(),n+s.join("/")}},3938:(t,e,i)=>{"use strict";var n,r=i(6644),s=i(9346),o=s.Environment,a=s.Template,l=i(7960),c=i(4343),u=i(6685),h=i(9374),p=i(8676),f=i(7509),d=i(8467),m=i(9118),g=i(2154);function y(t,e){var i;return e=e||{},r.isObject(t)&&(e=t,t=null),c.FileSystemLoader?i=new c.FileSystemLoader(t,{watch:e.watch,noCache:e.noCache}):c.WebLoader&&(i=new c.WebLoader(t,{useCache:e.web&&e.web.useCache,async:e.web&&e.web.async})),n=new o(i,e),e&&e.express&&n.express(e.express),n}t.exports={Environment:o,Template:a,Loader:l,FileSystemLoader:c.FileSystemLoader,NodeResolveLoader:c.NodeResolveLoader,PrecompiledLoader:c.PrecompiledLoader,WebLoader:c.WebLoader,compiler:h,parser:p,lexer:f,runtime:d,lib:r,nodes:m,installJinjaCompat:g,configure:y,reset:function(){n=void 0},compile:function(t,e,i,r){return n||y(),new a(t,e,i,r)},render:function(t,e,i){return n||y(),n.render(t,e,i)},renderString:function(t,e,i){return n||y(),n.renderString(t,e,i)},precompile:u?u.precompile:void 0,precompileString:u?u.precompileString:void 0}},9374:(t,e,i)=>{"use strict";function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}var r=i(8676),s=i(4752),o=i(9118),a=i(6644).TemplateError,l=i(8467).Frame,c=i(2436).Obj,u={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},h=function(t){var e,i;function r(){return t.apply(this,arguments)||this}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,n(e,i);var s=r.prototype;return s.init=function(t,e){this.templateName=t,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=e},s.fail=function(t,e,i){throw void 0!==e&&(e+=1),void 0!==i&&(i+=1),new a(t,e,i)},s._pushBuffer=function(){var t=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=t,this._emit("var "+this.buffer+' = "";'),t},s._popBuffer=function(){this.buffer=this.bufferStack.pop()},s._emit=function(t){this.codebuf.push(t)},s._emitLine=function(t){this._emit(t+"\n")},s._emitLines=function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];i.forEach((function(e){return t._emitLine(e)}))},s._emitFuncBegin=function(t,e){this.buffer="output",this._scopeClosers="",this._emitLine("function "+e+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+t.lineno+";"),this._emitLine("var colno = "+t.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},s._emitFuncEnd=function(t){t||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},s._addScopeLevel=function(){this._scopeClosers+="})"},s._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},s._withScopedSyntax=function(t){var e=this._scopeClosers;this._scopeClosers="",t.call(this),this._closeScopeLevels(),this._scopeClosers=e},s._makeCallback=function(t){var e=this._tmpid();return"function("+e+(t?","+t:"")+") {\nif("+e+") { cb("+e+"); return; }"},s._tmpid=function(){return this.lastId++,"t_"+this.lastId},s._templateName=function(){return null==this.templateName?"undefined":JSON.stringify(this.templateName)},s._compileChildren=function(t,e){var i=this;t.children.forEach((function(t){i.compile(t,e)}))},s._compileAggregate=function(t,e,i,n){var r=this;i&&this._emit(i),t.children.forEach((function(t,i){i>0&&r._emit(","),r.compile(t,e)})),n&&this._emit(n)},s._compileExpression=function(t,e){this.assertType(t,o.Literal,o.Symbol,o.Group,o.Array,o.Dict,o.FunCall,o.Caller,o.Filter,o.LookupVal,o.Compare,o.InlineIf,o.In,o.Is,o.And,o.Or,o.Not,o.Add,o.Concat,o.Sub,o.Mul,o.Div,o.FloorDiv,o.Mod,o.Pow,o.Neg,o.Pos,o.Compare,o.NodeList),this.compile(t,e)},s.assertType=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];i.some((function(e){return t instanceof e}))||this.fail("assertType: invalid type: "+t.typename,t.lineno,t.colno)},s.compileCallExtension=function(t,e,i){var n=this,r=t.args,s=t.contentArgs,a="boolean"!=typeof t.autoescape||t.autoescape;if(i||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+t.extName+'")["'+t.prop+'"]('),this._emit("context"),(r||s)&&this._emit(","),r&&(r instanceof o.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),r.children.forEach((function(t,i){n._compileExpression(t,e),(i!==r.children.length-1||s.length)&&n._emit(",")}))),s.length&&s.forEach((function(t,i){if(i>0&&n._emit(","),t){n._emitLine("function(cb) {"),n._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var r=n._pushBuffer();n._withScopedSyntax((function(){n.compile(t,e),n._emitLine("cb(null, "+r+");")})),n._popBuffer(),n._emitLine("return "+r+";"),n._emitLine("}")}else n._emit("null")})),i){var l=this._tmpid();this._emitLine(", "+this._makeCallback(l)),this._emitLine(this.buffer+" += runtime.suppressValue("+l+", "+a+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+a+" && env.opts.autoescape);\n")},s.compileCallExtensionAsync=function(t,e){this.compileCallExtension(t,e,!0)},s.compileNodeList=function(t,e){this._compileChildren(t,e)},s.compileLiteral=function(t){if("string"==typeof t.value){var e=t.value.replace(/\\/g,"\\\\");e=(e=(e=(e=(e=e.replace(/"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t")).replace(/\u2028/g,"\\u2028"),this._emit('"'+e+'"')}else null===t.value?this._emit("null"):this._emit(t.value.toString())},s.compileSymbol=function(t,e){var i=t.value,n=e.lookup(i);n?this._emit(n):this._emit('runtime.contextOrFrameLookup(context, frame, "'+i+'")')},s.compileGroup=function(t,e){this._compileAggregate(t,e,"(",")")},s.compileArray=function(t,e){this._compileAggregate(t,e,"[","]")},s.compileDict=function(t,e){this._compileAggregate(t,e,"{","}")},s.compilePair=function(t,e){var i=t.key,n=t.value;i instanceof o.Symbol?i=new o.Literal(i.lineno,i.colno,i.value):i instanceof o.Literal&&"string"==typeof i.value||this.fail("compilePair: Dict keys must be strings or names",i.lineno,i.colno),this.compile(i,e),this._emit(": "),this._compileExpression(n,e)},s.compileInlineIf=function(t,e){this._emit("("),this.compile(t.cond,e),this._emit("?"),this.compile(t.body,e),this._emit(":"),null!==t.else_?this.compile(t.else_,e):this._emit('""'),this._emit(")")},s.compileIn=function(t,e){this._emit("runtime.inOperator("),this.compile(t.left,e),this._emit(","),this.compile(t.right,e),this._emit(")")},s.compileIs=function(t,e){var i=t.right.name?t.right.name.value:t.right.value;this._emit('env.getTest("'+i+'").call(context, '),this.compile(t.left,e),t.right.args&&(this._emit(","),this.compile(t.right.args,e)),this._emit(") === true")},s._binOpEmitter=function(t,e,i){this.compile(t.left,e),this._emit(i),this.compile(t.right,e)},s.compileOr=function(t,e){return this._binOpEmitter(t,e," || ")},s.compileAnd=function(t,e){return this._binOpEmitter(t,e," && ")},s.compileAdd=function(t,e){return this._binOpEmitter(t,e," + ")},s.compileConcat=function(t,e){return this._binOpEmitter(t,e,' + "" + ')},s.compileSub=function(t,e){return this._binOpEmitter(t,e," - ")},s.compileMul=function(t,e){return this._binOpEmitter(t,e," * ")},s.compileDiv=function(t,e){return this._binOpEmitter(t,e," / ")},s.compileMod=function(t,e){return this._binOpEmitter(t,e," % ")},s.compileNot=function(t,e){this._emit("!"),this.compile(t.target,e)},s.compileFloorDiv=function(t,e){this._emit("Math.floor("),this.compile(t.left,e),this._emit(" / "),this.compile(t.right,e),this._emit(")")},s.compilePow=function(t,e){this._emit("Math.pow("),this.compile(t.left,e),this._emit(", "),this.compile(t.right,e),this._emit(")")},s.compileNeg=function(t,e){this._emit("-"),this.compile(t.target,e)},s.compilePos=function(t,e){this._emit("+"),this.compile(t.target,e)},s.compileCompare=function(t,e){var i=this;this.compile(t.expr,e),t.ops.forEach((function(t){i._emit(" "+u[t.type]+" "),i.compile(t.expr,e)}))},s.compileLookupVal=function(t,e){this._emit("runtime.memberLookup(("),this._compileExpression(t.target,e),this._emit("),"),this._compileExpression(t.val,e),this._emit(")")},s._getNodeName=function(t){switch(t.typename){case"Symbol":return t.value;case"FunCall":return"the return value of ("+this._getNodeName(t.name)+")";case"LookupVal":return this._getNodeName(t.target)+'["'+this._getNodeName(t.val)+'"]';case"Literal":return t.value.toString();default:return"--expression--"}},s.compileFunCall=function(t,e){this._emit("(lineno = "+t.lineno+", colno = "+t.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(t.name,e),this._emit(', "'+this._getNodeName(t.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(t.args,e,"[","])"),this._emit(")")},s.compileFilter=function(t,e){var i=t.name;this.assertType(i,o.Symbol),this._emit('env.getFilter("'+i.value+'").call(context, '),this._compileAggregate(t.args,e),this._emit(")")},s.compileFilterAsync=function(t,e){var i=t.name,n=t.symbol.value;this.assertType(i,o.Symbol),e.set(n,n),this._emit('env.getFilter("'+i.value+'").call(context, '),this._compileAggregate(t.args,e),this._emitLine(", "+this._makeCallback(n)),this._addScopeLevel()},s.compileKeywordArgs=function(t,e){this._emit("runtime.makeKeywordArgs("),this.compileDict(t,e),this._emit(")")},s.compileSet=function(t,e){var i=this,n=[];t.targets.forEach((function(t){var r=t.value,s=e.lookup(r);null==s&&(s=i._tmpid(),i._emitLine("var "+s+";")),n.push(s)})),t.value?(this._emit(n.join(" = ")+" = "),this._compileExpression(t.value,e),this._emitLine(";")):(this._emit(n.join(" = ")+" = "),this.compile(t.body,e),this._emitLine(";")),t.targets.forEach((function(t,e){var r=n[e],s=t.value;i._emitLine('frame.set("'+s+'", '+r+", true);"),i._emitLine("if(frame.topLevel) {"),i._emitLine('context.setVariable("'+s+'", '+r+");"),i._emitLine("}"),"_"!==s.charAt(0)&&(i._emitLine("if(frame.topLevel) {"),i._emitLine('context.addExport("'+s+'", '+r+");"),i._emitLine("}"))}))},s.compileSwitch=function(t,e){var i=this;this._emit("switch ("),this.compile(t.expr,e),this._emit(") {"),t.cases.forEach((function(t,n){i._emit("case "),i.compile(t.cond,e),i._emit(": "),i.compile(t.body,e),t.body.children.length&&i._emitLine("break;")})),t.default&&(this._emit("default:"),this.compile(t.default,e)),this._emit("}")},s.compileIf=function(t,e,i){var n=this;this._emit("if("),this._compileExpression(t.cond,e),this._emitLine(") {"),this._withScopedSyntax((function(){n.compile(t.body,e),i&&n._emit("cb()")})),t.else_?(this._emitLine("}\nelse {"),this._withScopedSyntax((function(){n.compile(t.else_,e),i&&n._emit("cb()")}))):i&&(this._emitLine("}\nelse {"),this._emit("cb()")),this._emitLine("}")},s.compileIfAsync=function(t,e){this._emit("(function(cb) {"),this.compileIf(t,e,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},s._emitLoopBindings=function(t,e,i,n){var r=this;[{name:"index",val:i+" + 1"},{name:"index0",val:i},{name:"revindex",val:n+" - "+i},{name:"revindex0",val:n+" - "+i+" - 1"},{name:"first",val:i+" === 0"},{name:"last",val:i+" === "+n+" - 1"},{name:"length",val:n}].forEach((function(t){r._emitLine('frame.set("loop.'+t.name+'", '+t.val+");")}))},s.compileFor=function(t,e){var i=this,n=this._tmpid(),r=this._tmpid(),s=this._tmpid();if(e=e.push(),this._emitLine("frame = frame.push();"),this._emit("var "+s+" = "),this._compileExpression(t.arr,e),this._emitLine(";"),this._emit("if("+s+") {"),this._emitLine(s+" = runtime.fromIterator("+s+");"),t.name instanceof o.Array){this._emitLine("var "+n+";"),this._emitLine("if(runtime.isArray("+s+")) {"),this._emitLine("var "+r+" = "+s+".length;"),this._emitLine("for("+n+"=0; "+n+" < "+s+".length; "+n+"++) {"),t.name.children.forEach((function(r,o){var a=i._tmpid();i._emitLine("var "+a+" = "+s+"["+n+"]["+o+"];"),i._emitLine('frame.set("'+r+'", '+s+"["+n+"]["+o+"]);"),e.set(t.name.children[o].value,a)})),this._emitLoopBindings(t,s,n,r),this._withScopedSyntax((function(){i.compile(t.body,e)})),this._emitLine("}"),this._emitLine("} else {");var a=t.name.children,l=a[0],c=a[1],u=this._tmpid(),h=this._tmpid();e.set(l.value,u),e.set(c.value,h),this._emitLine(n+" = -1;"),this._emitLine("var "+r+" = runtime.keys("+s+").length;"),this._emitLine("for(var "+u+" in "+s+") {"),this._emitLine(n+"++;"),this._emitLine("var "+h+" = "+s+"["+u+"];"),this._emitLine('frame.set("'+l.value+'", '+u+");"),this._emitLine('frame.set("'+c.value+'", '+h+");"),this._emitLoopBindings(t,s,n,r),this._withScopedSyntax((function(){i.compile(t.body,e)})),this._emitLine("}"),this._emitLine("}")}else{var p=this._tmpid();e.set(t.name.value,p),this._emitLine("var "+r+" = "+s+".length;"),this._emitLine("for(var "+n+"=0; "+n+" < "+s+".length; "+n+"++) {"),this._emitLine("var "+p+" = "+s+"["+n+"];"),this._emitLine('frame.set("'+t.name.value+'", '+p+");"),this._emitLoopBindings(t,s,n,r),this._withScopedSyntax((function(){i.compile(t.body,e)})),this._emitLine("}")}this._emitLine("}"),t.else_&&(this._emitLine("if (!"+r+") {"),this.compile(t.else_,e),this._emitLine("}")),this._emitLine("frame = frame.pop();")},s._compileAsyncLoop=function(t,e,i){var n=this,r=this._tmpid(),s=this._tmpid(),a=this._tmpid(),l=i?"asyncAll":"asyncEach";if(e=e.push(),this._emitLine("frame = frame.push();"),this._emit("var "+a+" = runtime.fromIterator("),this._compileExpression(t.arr,e),this._emitLine(");"),t.name instanceof o.Array){var c=t.name.children.length;this._emit("runtime."+l+"("+a+", "+c+", function("),t.name.children.forEach((function(t){n._emit(t.value+",")})),this._emit(r+","+s+",next) {"),t.name.children.forEach((function(t){var i=t.value;e.set(i,i),n._emitLine('frame.set("'+i+'", '+i+");")}))}else{var u=t.name.value;this._emitLine("runtime."+l+"("+a+", 1, function("+u+", "+r+", "+s+",next) {"),this._emitLine('frame.set("'+u+'", '+u+");"),e.set(u,u)}this._emitLoopBindings(t,a,r,s),this._withScopedSyntax((function(){var s;i&&(s=n._pushBuffer()),n.compile(t.body,e),n._emitLine("next("+r+(s?","+s:"")+");"),i&&n._popBuffer()}));var h=this._tmpid();this._emitLine("}, "+this._makeCallback(h)),this._addScopeLevel(),i&&this._emitLine(this.buffer+" += "+h+";"),t.else_&&(this._emitLine("if (!"+a+".length) {"),this.compile(t.else_,e),this._emitLine("}")),this._emitLine("frame = frame.pop();")},s.compileAsyncEach=function(t,e){this._compileAsyncLoop(t,e)},s.compileAsyncAll=function(t,e){this._compileAsyncLoop(t,e,!0)},s._compileMacro=function(t,e){var i=this,n=[],r=null,s="macro_"+this._tmpid(),a=void 0!==e;t.args.children.forEach((function(e,s){s===t.args.children.length-1&&e instanceof o.Dict?r=e:(i.assertType(e,o.Symbol),n.push(e))}));var c,u=[].concat(n.map((function(t){return"l_"+t.value})),["kwargs"]),h=n.map((function(t){return'"'+t.value+'"'})),p=(r&&r.children||[]).map((function(t){return'"'+t.key.value+'"'}));c=a?e.push(!0):new l,this._emitLines("var "+s+" = runtime.makeMacro(","["+h.join(", ")+"], ","["+p.join(", ")+"], ","function ("+u.join(", ")+") {","var callerFrame = frame;","frame = "+(a?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),n.forEach((function(t){i._emitLine('frame.set("'+t.value+'", l_'+t.value+");"),c.set(t.value,"l_"+t.value)})),r&&r.children.forEach((function(t){var e=t.key.value;i._emit('frame.set("'+e+'", '),i._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+e+'")'),i._emit(' ? kwargs["'+e+'"] : '),i._compileExpression(t.value,c),i._emit(");")}));var f=this._pushBuffer();return this._withScopedSyntax((function(){i.compile(t.body,c)})),this._emitLine("frame = "+(a?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+f+");"),this._emitLine("});"),this._popBuffer(),s},s.compileMacro=function(t,e){var i=this._compileMacro(t),n=t.name.value;e.set(n,i),e.parent?this._emitLine('frame.set("'+n+'", '+i+");"):("_"!==t.name.value.charAt(0)&&this._emitLine('context.addExport("'+n+'");'),this._emitLine('context.setVariable("'+n+'", '+i+");"))},s.compileCaller=function(t,e){this._emit("(function (){");var i=this._compileMacro(t,e);this._emit("return "+i+";})()")},s._compileGetTemplate=function(t,e,i,n){var r=this._tmpid(),s=this._templateName(),o=this._makeCallback(r),a=i?"true":"false",l=n?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(t.template,e),this._emitLine(", "+a+", "+s+", "+l+", "+o),r},s.compileImport=function(t,e){var i=t.target.value,n=this._compileGetTemplate(t,e,!1,!1);this._addScopeLevel(),this._emitLine(n+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(n)),this._addScopeLevel(),e.set(i,n),e.parent?this._emitLine('frame.set("'+i+'", '+n+");"):this._emitLine('context.setVariable("'+i+'", '+n+");")},s.compileFromImport=function(t,e){var i=this,n=this._compileGetTemplate(t,e,!1,!1);this._addScopeLevel(),this._emitLine(n+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(n)),this._addScopeLevel(),t.names.children.forEach((function(t){var r,s,a=i._tmpid();t instanceof o.Pair?(r=t.key.value,s=t.value.value):s=r=t.value,i._emitLine("if(Object.prototype.hasOwnProperty.call("+n+', "'+r+'")) {'),i._emitLine("var "+a+" = "+n+"."+r+";"),i._emitLine("} else {"),i._emitLine("cb(new Error(\"cannot import '"+r+"'\")); return;"),i._emitLine("}"),e.set(s,a),e.parent?i._emitLine('frame.set("'+s+'", '+a+");"):i._emitLine('context.setVariable("'+s+'", '+a+");")}))},s.compileBlock=function(t){var e=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+t.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(e)),this._emitLine(this.buffer+" += "+e+";"),this._addScopeLevel()},s.compileSuper=function(t,e){var i=t.blockName.value,n=t.symbol.value,r=this._makeCallback(n);this._emitLine('context.getSuper(env, "'+i+'", b_'+i+", frame, runtime, "+r),this._emitLine(n+" = runtime.markSafe("+n+");"),this._addScopeLevel(),e.set(n,n)},s.compileExtends=function(t,e){var i=this._tmpid(),n=this._compileGetTemplate(t,e,!0,!1);this._emitLine("parentTemplate = "+n),this._emitLine("for(var "+i+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+i+", parentTemplate.blocks["+i+"]);"),this._emitLine("}"),this._addScopeLevel()},s.compileInclude=function(t,e){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var i=this._compileGetTemplate(t,e,!1,t.ignoreMissing);this._emitLine("callback(null,"+i+");});"),this._emitLine("});");var n=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(n)),this._emitLine("callback(null,"+n+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},s.compileTemplateData=function(t,e){this.compileLiteral(t,e)},s.compileCapture=function(t,e){var i=this,n=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax((function(){i.compile(t.body,e)})),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=n},s.compileOutput=function(t,e){var i=this;t.children.forEach((function(n){n instanceof o.TemplateData?n.value&&(i._emit(i.buffer+" += "),i.compileLiteral(n,e),i._emitLine(";")):(i._emit(i.buffer+" += runtime.suppressValue("),i.throwOnUndefined&&i._emit("runtime.ensureDefined("),i.compile(n,e),i.throwOnUndefined&&i._emit(","+t.lineno+","+t.colno+")"),i._emit(", env.opts.autoescape);\n"))}))},s.compileRoot=function(t,e){var i=this;e&&this.fail("compileRoot: root node can't have frame"),e=new l,this._emitFuncBegin(t,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(t,e),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var n=[],r=t.findAll(o.Block);r.forEach((function(t,e){var r=t.name.value;if(-1!==n.indexOf(r))throw new Error('Block "'+r+'" defined more than once.');n.push(r),i._emitFuncBegin(t,"b_"+r);var s=new l;i._emitLine("var frame = frame.push(true);"),i.compile(t.body,s),i._emitFuncEnd()})),this._emitLine("return {"),r.forEach((function(t,e){var n="b_"+t.name.value;i._emitLine(n+": "+n+",")})),this._emitLine("root: root\n};")},s.compile=function(t,e){var i=this["compile"+t.typename];i?i.call(this,t,e):this.fail("compile: Cannot compile node: "+t.typename,t.lineno,t.colno)},s.getCode=function(){return this.codebuf.join("")},r}(c);t.exports={compile:function(t,e,i,n,o){void 0===o&&(o={});var a=new h(n,o.throwOnUndefined),l=(i||[]).map((function(t){return t.preprocess})).filter((function(t){return!!t})).reduce((function(t,e){return e(t)}),t);return a.compile(s.transform(r.parse(l,i,o),e,n)),a.getCode()},Compiler:h}},9346:(t,e,i)=>{"use strict";function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var s=i(983),o=i(211),a=i(6644),l=i(9374),c=i(4136),u=i(4343),h=u.FileSystemLoader,p=u.WebLoader,f=u.PrecompiledLoader,d=i(3038),m=i(8931),g=i(2436),y=g.Obj,b=g.EmitterObj,_=i(8467),v=_.handleError,w=_.Frame,x=i(4369);function k(t,e,i){s((function(){t(e,i)}))}var E={type:"code",obj:{root:function(t,e,i,n,r){try{r(null,"")}catch(t){r(v(t,null,null))}}}},A=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.init=function(t,e){var i=this;e=this.opts=e||{},this.opts.dev=!!e.dev,this.opts.autoescape=null==e.autoescape||e.autoescape,this.opts.throwOnUndefined=!!e.throwOnUndefined,this.opts.trimBlocks=!!e.trimBlocks,this.opts.lstripBlocks=!!e.lstripBlocks,this.loaders=[],t?this.loaders=a.isArray(t)?t:[t]:h?this.loaders=[new h("views")]:p&&(this.loaders=[new p("/views")]),"undefined"!=typeof window&&window.nunjucksPrecompiled&&this.loaders.unshift(new f(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=m(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],a._entries(c).forEach((function(t){var e=t[0],n=t[1];return i.addFilter(e,n)})),a._entries(d).forEach((function(t){var e=t[0],n=t[1];return i.addTest(e,n)}))},i._initLoaders=function(){var t=this;this.loaders.forEach((function(e){e.cache={},"function"==typeof e.on&&(e.on("update",(function(i,n){e.cache[i]=null,t.emit("update",i,n,e)})),e.on("load",(function(i,n){t.emit("load",i,n,e)})))}))},i.invalidateCache=function(){this.loaders.forEach((function(t){t.cache={}}))},i.addExtension=function(t,e){return e.__name=t,this.extensions[t]=e,this.extensionsList.push(e),this},i.removeExtension=function(t){var e=this.getExtension(t);e&&(this.extensionsList=a.without(this.extensionsList,e),delete this.extensions[t])},i.getExtension=function(t){return this.extensions[t]},i.hasExtension=function(t){return!!this.extensions[t]},i.addGlobal=function(t,e){return this.globals[t]=e,this},i.getGlobal=function(t){if(void 0===this.globals[t])throw new Error("global not found: "+t);return this.globals[t]},i.addFilter=function(t,e,i){var n=e;return i&&this.asyncFilters.push(t),this.filters[t]=n,this},i.getFilter=function(t){if(!this.filters[t])throw new Error("filter not found: "+t);return this.filters[t]},i.addTest=function(t,e){return this.tests[t]=e,this},i.getTest=function(t){if(!this.tests[t])throw new Error("test not found: "+t);return this.tests[t]},i.resolveTemplate=function(t,e,i){return t.isRelative&&e&&t.isRelative(i)&&t.resolve?t.resolve(e,i):i},i.getTemplate=function(t,e,i,n,r){var s,o=this,l=this,c=null;if(t&&t.raw&&(t=t.raw),a.isFunction(i)&&(r=i,i=null,e=e||!1),a.isFunction(e)&&(r=e,e=!1),t instanceof O)c=t;else{if("string"!=typeof t)throw new Error("template names must be a string: "+t);for(var u=0;u<this.loaders.length;u++){var h=this.loaders[u];if(c=h.cache[this.resolveTemplate(h,i,t)])break}}return c?(e&&c.compile(),r?void r(null,c):c):(a.asyncIter(this.loaders,(function(e,n,r,s){function o(t,i){t?s(t):i?(i.loader=e,s(null,i)):r()}t=l.resolveTemplate(e,i,t),e.async?e.getSource(t,o):o(null,e.getSource(t))}),(function(i,a){if(a||i||n||(i=new Error("template not found: "+t)),i){if(r)return void r(i);throw i}var l;a?(l=new O(a.src,o,a.path,e),a.noCache||(a.loader.cache[t]=l)):l=new O(E,o,"",e),r?r(null,l):s=l})),s)},i.express=function(t){return x(this,t)},i.render=function(t,e,i){a.isFunction(e)&&(i=e,e=null);var n=null;return this.getTemplate(t,(function(t,r){if(t&&i)k(i,t);else{if(t)throw t;n=r.render(e,i)}})),n},i.renderString=function(t,e,i,n){return a.isFunction(i)&&(n=i,i={}),new O(t,this,(i=i||{}).path).render(e,n)},i.waterfall=function(t,e,i){return o(t,e,i)},e}(b),S=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.init=function(t,e,i){var n=this;this.env=i||new A,this.ctx=a.extend({},t),this.blocks={},this.exported=[],a.keys(e).forEach((function(t){n.addBlock(t,e[t])}))},i.lookup=function(t){return t in this.env.globals&&!(t in this.ctx)?this.env.globals[t]:this.ctx[t]},i.setVariable=function(t,e){this.ctx[t]=e},i.getVariables=function(){return this.ctx},i.addBlock=function(t,e){return this.blocks[t]=this.blocks[t]||[],this.blocks[t].push(e),this},i.getBlock=function(t){if(!this.blocks[t])throw new Error('unknown block "'+t+'"');return this.blocks[t][0]},i.getSuper=function(t,e,i,n,r,s){var o=a.indexOf(this.blocks[e]||[],i),l=this.blocks[e][o+1];if(-1===o||!l)throw new Error('no super block available for "'+e+'"');l(t,this,n,r,s)},i.addExport=function(t){this.exported.push(t)},i.getExported=function(){var t=this,e={};return this.exported.forEach((function(i){e[i]=t.ctx[i]})),e},e}(y),O=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.init=function(t,e,i,n){if(this.env=e||new A,a.isObject(t))switch(t.type){case"code":this.tmplProps=t.obj;break;case"string":this.tmplStr=t.obj;break;default:throw new Error("Unexpected template object type "+t.type+"; expected 'code', or 'string'")}else{if(!a.isString(t))throw new Error("src must be a string or an object describing the source");this.tmplStr=t}if(this.path=i,n)try{this._compile()}catch(t){throw a._prettifyError(this.path,this.env.opts.dev,t)}else this.compiled=!1},i.render=function(t,e,i){var n=this;"function"==typeof t?(i=t,t={}):"function"==typeof e&&(i=e,e=null);var r=!e;try{this.compile()}catch(t){var s=a._prettifyError(this.path,this.env.opts.dev,t);if(i)return k(i,s);throw s}var o=new S(t||{},this.blocks,this.env),l=e?e.push(!0):new w;l.topLevel=!0;var c=null,u=!1;return this.rootRenderFunc(this.env,o,l,_,(function(t,e){if(!u||!i||void 0===e)if(t&&(t=a._prettifyError(n.path,n.env.opts.dev,t),u=!0),i)r?k(i,t,e):i(t,e);else{if(t)throw t;c=e}})),c},i.getExported=function(t,e,i){"function"==typeof t&&(i=t,t={}),"function"==typeof e&&(i=e,e=null);try{this.compile()}catch(t){if(i)return i(t);throw t}var n=e?e.push():new w;n.topLevel=!0;var r=new S(t||{},this.blocks,this.env);this.rootRenderFunc(this.env,r,n,_,(function(t){t?i(t,null):i(null,r.getExported())}))},i.compile=function(){this.compiled||this._compile()},i._compile=function(){var t;if(this.tmplProps)t=this.tmplProps;else{var e=l.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);t=new Function(e)()}this.blocks=this._getBlocks(t),this.rootRenderFunc=t.root,this.compiled=!0},i._getBlocks=function(t){var e={};return a.keys(t).forEach((function(i){"b_"===i.slice(0,2)&&(e[i.slice(2)]=t[i])})),e},e}(y);t.exports={Environment:A,Template:O}},4369:(t,e,i)=>{"use strict";var n=i(6928);t.exports=function(t,e){function i(t,e){if(this.name=t,this.path=t,this.defaultEngine=e.defaultEngine,this.ext=n.extname(t),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return i.prototype.render=function(e,i){t.render(this.name,e,i)},e.set("view",i),e.set("nunjucksEnv",t),t}},4136:(t,e,i)=>{"use strict";var n=i(6644),r=i(8467),s=t.exports={};function o(t,e){return null==t||!1===t?e:t}function a(t){return t!=t}function l(t){var e=(t=o(t,"")).toLowerCase();return r.copySafeness(t,e.charAt(0).toUpperCase()+e.slice(1))}function c(t){if(n.isString(t))return t.split("");if(n.isObject(t))return n._entries(t||{}).map((function(t){return{key:t[0],value:t[1]}}));if(n.isArray(t))return t;throw new n.TemplateError("list filter: type not iterable")}function u(t){return function(e,i,r){void 0===i&&(i="truthy");var s=this,o=s.env.getTest(i);return n.toArray(e).filter((function(e){return o.call(s,e,r)===t}))}}function h(t){return r.copySafeness(t,t.replace(/^\s*|\s*$/g,""))}s.abs=Math.abs,s.batch=function(t,e,i){var n,r=[],s=[];for(n=0;n<t.length;n++)n%e==0&&s.length&&(r.push(s),s=[]),s.push(t[n]);if(s.length){if(i)for(n=s.length;n<e;n++)s.push(i);r.push(s)}return r},s.capitalize=l,s.center=function(t,e){if(e=e||80,(t=o(t,"")).length>=e)return t;var i=e-t.length,s=n.repeat(" ",i/2-i%2),a=n.repeat(" ",i/2);return r.copySafeness(t,s+t+a)},s.default=function(t,e,i){return i?t||e:void 0!==t?t:e},s.dictsort=function(t,e,i){if(!n.isObject(t))throw new n.TemplateError("dictsort filter: val must be an object");var r,s=[];for(var o in t)s.push([o,t[o]]);if(void 0===i||"key"===i)r=0;else{if("value"!==i)throw new n.TemplateError("dictsort filter: You can only sort by either key or value");r=1}return s.sort((function(t,i){var s=t[r],o=i[r];return e||(n.isString(s)&&(s=s.toUpperCase()),n.isString(o)&&(o=o.toUpperCase())),s>o?1:s===o?0:-1})),s},s.dump=function(t,e){return JSON.stringify(t,null,e)},s.escape=function(t){return t instanceof r.SafeString?t:(t=null==t?"":t,r.markSafe(n.escape(t.toString())))},s.safe=function(t){return t instanceof r.SafeString?t:(t=null==t?"":t,r.markSafe(t.toString()))},s.first=function(t){return t[0]},s.forceescape=function(t){return t=null==t?"":t,r.markSafe(n.escape(t.toString()))},s.groupby=function(t,e){return n.groupBy(t,e,this.env.opts.throwOnUndefined)},s.indent=function(t,e,i){if(""===(t=o(t,"")))return"";e=e||4;var s=t.split("\n"),a=n.repeat(" ",e),l=s.map((function(t,e){return 0!==e||i?""+a+t:t})).join("\n");return r.copySafeness(t,l)},s.join=function(t,e,i){return e=e||"",i&&(t=n.map(t,(function(t){return t[i]}))),t.join(e)},s.last=function(t){return t[t.length-1]},s.length=function(t){var e=o(t,"");return void 0!==e?"function"==typeof Map&&e instanceof Map||"function"==typeof Set&&e instanceof Set?e.size:!n.isObject(e)||e instanceof r.SafeString?e.length:n.keys(e).length:0},s.list=c,s.lower=function(t){return(t=o(t,"")).toLowerCase()},s.nl2br=function(t){return null==t?"":r.copySafeness(t,t.replace(/\r\n|\n/g,"<br />\n"))},s.random=function(t){return t[Math.floor(Math.random()*t.length)]},s.reject=u(!1),s.rejectattr=function(t,e){return t.filter((function(t){return!t[e]}))},s.select=u(!0),s.selectattr=function(t,e){return t.filter((function(t){return!!t[e]}))},s.replace=function(t,e,i,n){var s=t;if(e instanceof RegExp)return t.replace(e,i);void 0===n&&(n=-1);var o="";if("number"==typeof e)e=""+e;else if("string"!=typeof e)return t;if("number"==typeof t&&(t=""+t),"string"!=typeof t&&!(t instanceof r.SafeString))return t;if(""===e)return o=i+t.split("").join(i)+i,r.copySafeness(t,o);var a=t.indexOf(e);if(0===n||-1===a)return t;for(var l=0,c=0;a>-1&&(-1===n||c<n);)o+=t.substring(l,a)+i,l=a+e.length,c++,a=t.indexOf(e,l);return l<t.length&&(o+=t.substring(l)),r.copySafeness(s,o)},s.reverse=function(t){var e;return(e=n.isString(t)?c(t):n.map(t,(function(t){return t}))).reverse(),n.isString(t)?r.copySafeness(t,e.join("")):e},s.round=function(t,e,i){e=e||0;var n=Math.pow(10,e);return("ceil"===i?Math.ceil:"floor"===i?Math.floor:Math.round)(t*n)/n},s.slice=function(t,e,i){for(var n=Math.floor(t.length/e),r=t.length%e,s=[],o=0,a=0;a<e;a++){var l=o+a*n;a<r&&o++;var c=o+(a+1)*n,u=t.slice(l,c);i&&a>=r&&u.push(i),s.push(u)}return s},s.sum=function(t,e,i){return void 0===i&&(i=0),e&&(t=n.map(t,(function(t){return t[e]}))),i+t.reduce((function(t,e){return t+e}),0)},s.sort=r.makeMacro(["value","reverse","case_sensitive","attribute"],[],(function(t,e,i,r){var s=this,o=n.map(t,(function(t){return t})),a=n.getAttrGetter(r);return o.sort((function(t,o){var l=r?a(t):t,c=r?a(o):o;if(s.env.opts.throwOnUndefined&&r&&(void 0===l||void 0===c))throw new TypeError('sort: attribute "'+r+'" resolved to undefined');return!i&&n.isString(l)&&n.isString(c)&&(l=l.toLowerCase(),c=c.toLowerCase()),l<c?e?1:-1:l>c?e?-1:1:0})),o})),s.string=function(t){return r.copySafeness(t,t)},s.striptags=function(t,e){var i,n=h((t=o(t,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,""));return i=e?n.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):n.replace(/\s+/gi," "),r.copySafeness(t,i)},s.title=function(t){var e=(t=o(t,"")).split(" ").map((function(t){return l(t)}));return r.copySafeness(t,e.join(" "))},s.trim=h,s.truncate=function(t,e,i,n){var s=t;if(e=e||255,(t=o(t,"")).length<=e)return t;if(i)t=t.substring(0,e);else{var a=t.lastIndexOf(" ",e);-1===a&&(a=e),t=t.substring(0,a)}return t+=null!=n?n:"...",r.copySafeness(s,t)},s.upper=function(t){return(t=o(t,"")).toUpperCase()},s.urlencode=function(t){var e=encodeURIComponent;return n.isString(t)?e(t):(n.isArray(t)?t:n._entries(t)).map((function(t){var i=t[0],n=t[1];return e(i)+"="+e(n)})).join("&")};var p=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,f=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,d=/^https?:\/\/.*$/,m=/^www\./,g=/\.(?:org|net|com)(?:\:|\/|$)/;s.urlize=function(t,e,i){a(e)&&(e=1/0);var n=!0===i?' rel="nofollow"':"";return t.split(/(\s+)/).filter((function(t){return t&&t.length})).map((function(t){var i=t.match(p),r=i?i[1]:t,s=r.substr(0,e);return d.test(r)?'<a href="'+r+'"'+n+">"+s+"</a>":m.test(r)?'<a href="http://'+r+'"'+n+">"+s+"</a>":f.test(r)?'<a href="mailto:'+r+'">'+r+"</a>":g.test(r)?'<a href="http://'+r+'"'+n+">"+s+"</a>":t})).join("")},s.wordcount=function(t){var e=(t=o(t,""))?t.match(/\w+/g):null;return e?e.length:null},s.float=function(t,e){var i=parseFloat(t);return a(i)?e:i};var y=r.makeMacro(["value","default","base"],[],(function(t,e,i){void 0===i&&(i=10);var n=parseInt(t,i);return a(n)?e:n}));s.int=y,s.d=s.default,s.e=s.escape},8931:t=>{"use strict";t.exports=function(){return{range:function(t,e,i){void 0===e?(e=t,t=0,i=1):i||(i=1);var n=[];if(i>0)for(var r=t;r<e;r+=i)n.push(r);else for(var s=t;s>e;s+=i)n.push(s);return n},cycler:function(){return t=Array.prototype.slice.call(arguments),e=-1,{current:null,reset:function(){e=-1,this.current=null},next:function(){return++e>=t.length&&(e=0),this.current=t[e],this.current}};var t,e},joiner:function(t){return function(t){t=t||",";var e=!0;return function(){var i=e?"":t;return e=!1,i}}(t)}}}},2154:t=>{"use strict";t.exports=function(){var t,e,i=this.runtime,n=this.lib,r=this.compiler.Compiler,s=this.parser.Parser,o=this.nodes,a=this.lexer,l=i.contextOrFrameLookup,c=i.memberLookup;function u(t){return{index:t.index,lineno:t.lineno,colno:t.colno}}if(r&&(t=r.prototype.assertType),s&&(e=s.prototype.parseAggregate),i.contextOrFrameLookup=function(t,e,i){var n=l.apply(this,arguments);if(void 0!==n)return n;switch(i){case"True":return!0;case"False":return!1;case"None":return null;default:return}},"SLIM"!==process.env.BUILD_TYPE&&o&&r&&s){var h=o.Node.extend("Slice",{fields:["start","stop","step"],init:function(t,e,i,n,r){i=i||new o.Literal(t,e,null),n=n||new o.Literal(t,e,null),r=r||new o.Literal(t,e,1),this.parent(t,e,i,n,r)}});r.prototype.assertType=function(e){e instanceof h||t.apply(this,arguments)},r.prototype.compileSlice=function(t,e){this._emit("("),this._compileExpression(t.start,e),this._emit("),("),this._compileExpression(t.stop,e),this._emit("),("),this._compileExpression(t.step,e),this._emit(")")},s.prototype.parseAggregate=function(){var t=this,i=u(this.tokens);i.colno--,i.index--;try{return e.apply(this)}catch(e){var r=u(this.tokens),s=function(){return n._assign(t.tokens,r),e};n._assign(this.tokens,i),this.peeked=!1;var l=this.peekToken();if(l.type!==a.TOKEN_LEFT_BRACKET)throw s();this.nextToken();for(var c=new h(l.lineno,l.colno),p=!1,f=0;f<=c.fields.length&&!this.skip(a.TOKEN_RIGHT_BRACKET);f++){if(f===c.fields.length){if(!p)break;this.fail("parseSlice: too many slice components",l.lineno,l.colno)}this.skip(a.TOKEN_COLON)?p=!0:(c[c.fields[f]]=this.parseExpression(),p=this.skip(a.TOKEN_COLON)||p)}if(!p)throw s();return new o.Array(l.lineno,l.colno,[c])}}}function p(t,e,n,r){t=t||[],null===e&&(e=r<0?t.length-1:0),null===n?n=r<0?-1:t.length:n<0&&(n+=t.length),e<0&&(e+=t.length);for(var s=[],o=e;!(o<0||o>t.length||r>0&&o>=n||r<0&&o<=n);o+=r)s.push(i.memberLookup(t,o));return s}function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var d={pop:function(t){if(void 0===t)return this.pop();if(t>=this.length||t<0)throw new Error("KeyError");return this.splice(t,1)},append:function(t){return this.push(t)},remove:function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return this.splice(e,1);throw new Error("ValueError")},count:function(t){for(var e=0,i=0;i<this.length;i++)this[i]===t&&e++;return e},index:function(t){var e;if(-1===(e=this.indexOf(t)))throw new Error("ValueError");return e},find:function(t){return this.indexOf(t)},insert:function(t,e){return this.splice(t,0,e)}},m={items:function(){return n._entries(this)},values:function(){return n._values(this)},keys:function(){return n.keys(this)},get:function(t,e){var i=this[t];return void 0===i&&(i=e),i},has_key:function(t){return f(this,t)},pop:function(t,e){var i=this[t];if(void 0===i&&void 0!==e)i=e;else{if(void 0===i)throw new Error("KeyError");delete this[t]}return i},popitem:function(){var t=n.keys(this);if(!t.length)throw new Error("KeyError");var e=t[0],i=this[e];return delete this[e],[e,i]},setdefault:function(t,e){return void 0===e&&(e=null),t in this||(this[t]=e),this[t]},update:function(t){return n._assign(this,t),null}};return m.iteritems=m.items,m.itervalues=m.values,m.iterkeys=m.keys,i.memberLookup=function(t,e,i){return 4===arguments.length?p.apply(this,arguments):(t=t||{},n.isArray(t)&&f(d,e)?d[e].bind(t):n.isObject(t)&&f(m,e)?m[e].bind(t):c.apply(this,arguments))},function(){i.contextOrFrameLookup=l,i.memberLookup=c,r&&(r.prototype.assertType=t),s&&(s.prototype.parseAggregate=e)}}},7509:(t,e,i)=>{"use strict";var n=i(6644),r=" \n\t\rÂ ",s="()[]{}%*-+~/#,:|.<>=!",o="string",a="whitespace",l="data",c="block-start",u="block-end",h="variable-start",p="variable-end",f="comment",d="left-paren",m="right-paren",g="left-bracket",y="right-bracket",b="left-curly",_="right-curly",v="operator",w="comma",x="colon",k="tilde",E="pipe",A="float",S="boolean",O="none",T="symbol",C="regex";function N(t,e,i,n){return{type:t,value:e,lineno:i,colno:n}}var I=function(){function t(t,e){this.str=t,this.index=0,this.len=t.length,this.lineno=0,this.colno=0,this.in_code=!1;var i=(e=e||{}).tags||{};this.tags={BLOCK_START:i.blockStart||"{%",BLOCK_END:i.blockEnd||"%}",VARIABLE_START:i.variableStart||"{{",VARIABLE_END:i.variableEnd||"}}",COMMENT_START:i.commentStart||"{#",COMMENT_END:i.commentEnd||"#}"},this.trimBlocks=!!e.trimBlocks,this.lstripBlocks=!!e.lstripBlocks}var e=t.prototype;return e.nextToken=function(){var t,e=this.lineno,i=this.colno;if(this.in_code){var I=this.current();if(this.isFinished())return null;if('"'===I||"'"===I)return N(o,this._parseString(I),e,i);if(t=this._extract(r))return N(a,t,e,i);if((t=this._extractString(this.tags.BLOCK_END))||(t=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&("\n"===(I=this.current())?this.forward():"\r"===I&&(this.forward(),"\n"===(I=this.current())?this.forward():this.back())),N(u,t,e,i);if((t=this._extractString(this.tags.VARIABLE_END))||(t=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,N(p,t,e,i);if("r"===I&&"/"===this.str.charAt(this.index+1)){this.forwardN(2);for(var L="";!this.isFinished();){if("/"===this.current()&&"\\"!==this.previous()){this.forward();break}L+=this.current(),this.forward()}for(var R=["g","i","m","y"],D="";!this.isFinished()&&-1!==R.indexOf(this.current());)D+=this.current(),this.forward();return N(C,{body:L,flags:D},e,i)}if(-1!==s.indexOf(I)){this.forward();var M,P=["==","===","!=","!==","<=",">=","//","**"],F=I+this.current();switch(-1!==n.indexOf(P,F)&&(this.forward(),I=F,-1!==n.indexOf(P,F+this.current())&&(I=F+this.current(),this.forward())),I){case"(":M=d;break;case")":M=m;break;case"[":M=g;break;case"]":M=y;break;case"{":M=b;break;case"}":M=_;break;case",":M=w;break;case":":M=x;break;case"~":M=k;break;case"|":M=E;break;default:M=v}return N(M,I,e,i)}if((t=this._extractUntil(r+s)).match(/^[-+]?[0-9]+$/)){if("."===this.current()){this.forward();var j=this._extract("0123456789");return N(A,t+"."+j,e,i)}return N("int",t,e,i)}if(t.match(/^(true|false)$/))return N(S,t,e,i);if("none"===t)return N(O,t,e,i);if("null"===t)return N(O,t,e,i);if(t)return N(T,t,e,i);throw new Error("Unexpected value while parsing: "+t)}var B,$=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((t=this._extractString(this.tags.BLOCK_START+"-"))||(t=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,N(c,t,e,i);if((t=this._extractString(this.tags.VARIABLE_START+"-"))||(t=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,N(h,t,e,i);t="";var z=!1;for(this._matches(this.tags.COMMENT_START)&&(z=!0,t=this._extractString(this.tags.COMMENT_START));null!==(B=this._extractUntil($));){if(t+=B,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!z){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=t.length){var U=t.slice(-this.colno);if(/^\s+$/.test(U)&&!(t=t.slice(0,-this.colno)).length)return this.nextToken()}break}if(this._matches(this.tags.COMMENT_END)){if(!z)throw new Error("unexpected end of comment");t+=this._extractString(this.tags.COMMENT_END);break}t+=this.current(),this.forward()}if(null===B&&z)throw new Error("expected end of comment, got end of file");return N(z?f:l,t,e,i)},e._parseString=function(t){this.forward();for(var e="";!this.isFinished()&&this.current()!==t;){var i=this.current();if("\\"===i){switch(this.forward(),this.current()){case"n":e+="\n";break;case"t":e+="\t";break;case"r":e+="\r";break;default:e+=this.current()}this.forward()}else e+=i,this.forward()}return this.forward(),e},e._matches=function(t){return this.index+t.length>this.len?null:this.str.slice(this.index,this.index+t.length)===t},e._extractString=function(t){return this._matches(t)?(this.forwardN(t.length),t):null},e._extractUntil=function(t){return this._extractMatching(!0,t||"")},e._extract=function(t){return this._extractMatching(!1,t)},e._extractMatching=function(t,e){if(this.isFinished())return null;var i=e.indexOf(this.current());if(t&&-1===i||!t&&-1!==i){var n=this.current();this.forward();for(var r=e.indexOf(this.current());(t&&-1===r||!t&&-1!==r)&&!this.isFinished();)n+=this.current(),this.forward(),r=e.indexOf(this.current());return n}return""},e._extractRegex=function(t){var e=this.currentStr().match(t);return e?(this.forwardN(e[0].length),e):null},e.isFinished=function(){return this.index>=this.len},e.forwardN=function(t){for(var e=0;e<t;e++)this.forward()},e.forward=function(){this.index++,"\n"===this.previous()?(this.lineno++,this.colno=0):this.colno++},e.backN=function(t){for(var e=0;e<t;e++)this.back()},e.back=function(){if(this.index--,"\n"===this.current()){this.lineno--;var t=this.src.lastIndexOf("\n",this.index-1);this.colno=-1===t?this.index:this.index-t}else this.colno--},e.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},e.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},e.previous=function(){return this.str.charAt(this.index-1)},t}();t.exports={lex:function(t,e){return new I(t,e)},TOKEN_STRING:o,TOKEN_WHITESPACE:a,TOKEN_DATA:l,TOKEN_BLOCK_START:c,TOKEN_BLOCK_END:u,TOKEN_VARIABLE_START:h,TOKEN_VARIABLE_END:p,TOKEN_COMMENT:f,TOKEN_LEFT_PAREN:d,TOKEN_RIGHT_PAREN:m,TOKEN_LEFT_BRACKET:g,TOKEN_RIGHT_BRACKET:y,TOKEN_LEFT_CURLY:b,TOKEN_RIGHT_CURLY:_,TOKEN_OPERATOR:v,TOKEN_COMMA:w,TOKEN_COLON:x,TOKEN_TILDE:k,TOKEN_PIPE:E,TOKEN_INT:"int",TOKEN_FLOAT:A,TOKEN_BOOLEAN:S,TOKEN_NONE:O,TOKEN_SYMBOL:T,TOKEN_SPECIAL:"special",TOKEN_REGEX:C}},6644:t=>{"use strict";var e=Array.prototype,i=Object.prototype,n={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},r=/[&"'<>\\]/g,s=t.exports={};function o(t,e){return i.hasOwnProperty.call(t,e)}function a(t){return n[t]}function l(t,e,i){var n,r,s;if(t instanceof Error&&(t=(r=t).name+": "+r.message),Object.setPrototypeOf?(n=new Error(t),Object.setPrototypeOf(n,l.prototype)):(n=this,Object.defineProperty(n,"message",{enumerable:!1,writable:!0,value:t})),Object.defineProperty(n,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(n,this.constructor),r){var o=Object.getOwnPropertyDescriptor(r,"stack");(s=o&&(o.get||function(){return o.value}))||(s=function(){return r.stack})}else{var a=new Error(t).stack;s=function(){return a}}return Object.defineProperty(n,"stack",{get:function(){return s.call(n)}}),Object.defineProperty(n,"cause",{value:r}),n.lineno=e,n.colno=i,n.firstUpdate=!0,n.Update=function(t){var e="("+(t||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?e+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(e+=" [Line "+this.lineno+"]")),e+="\n ",this.firstUpdate&&(e+=" "),this.message=e+(this.message||""),this.firstUpdate=!1,this},n}function c(t){return"[object Function]"===i.toString.call(t)}function u(t){return"[object Array]"===i.toString.call(t)}function h(t){return"[object String]"===i.toString.call(t)}function p(t){return"[object Object]"===i.toString.call(t)}function f(t){var e,i=(e=t)?"string"==typeof e?e.split("."):[e]:[];return function(t){for(var e=t,n=0;n<i.length;n++){var r=i[n];if(!o(e,r))return;e=e[r]}return e}}function d(t){return Array.prototype.slice.call(t)}function m(t,e,i){return Array.prototype.indexOf.call(t||[],e,i)}function g(t){var e=[];for(var i in t)o(t,i)&&e.push(i);return e}s.hasOwnProp=o,s._prettifyError=function(t,e,i){if(i.Update||(i=new s.TemplateError(i)),i.Update(t),!e){var n=i;(i=new Error(n.message)).name=n.name}return i},Object.setPrototypeOf?Object.setPrototypeOf(l.prototype,Error.prototype):l.prototype=Object.create(Error.prototype,{constructor:{value:l}}),s.TemplateError=l,s.escape=function(t){return t.replace(r,a)},s.isFunction=c,s.isArray=u,s.isString=h,s.isObject=p,s.getAttrGetter=f,s.groupBy=function(t,e,i){for(var n={},r=c(e)?e:f(e),s=0;s<t.length;s++){var o=t[s],a=r(o,s);if(void 0===a&&!0===i)throw new TypeError('groupby: attribute "'+e+'" resolved to undefined');(n[a]||(n[a]=[])).push(o)}return n},s.toArray=d,s.without=function(t){var e=[];if(!t)return e;for(var i=t.length,n=d(arguments).slice(1),r=-1;++r<i;)-1===m(n,t[r])&&e.push(t[r]);return e},s.repeat=function(t,e){for(var i="",n=0;n<e;n++)i+=t;return i},s.each=function(t,i,n){if(null!=t)if(e.forEach&&t.forEach===e.forEach)t.forEach(i,n);else if(t.length===+t.length)for(var r=0,s=t.length;r<s;r++)i.call(n,t[r],r,t)},s.map=function(t,i){var n=[];if(null==t)return n;if(e.map&&t.map===e.map)return t.map(i);for(var r=0;r<t.length;r++)n[n.length]=i(t[r],r);return t.length===+t.length&&(n.length=t.length),n},s.asyncIter=function(t,e,i){var n=-1;!function r(){++n<t.length?e(t[n],n,r,i):i()}()},s.asyncFor=function(t,e,i){var n=g(t||{}),r=n.length,s=-1;!function o(){s++;var a=n[s];s<r?e(a,t[a],s,r,o):i()}()},s.indexOf=m,s.keys=g,s._entries=function(t){return g(t).map((function(e){return[e,t[e]]}))},s._values=function(t){return g(t).map((function(e){return t[e]}))},s._assign=s.extend=function(t,e){return t=t||{},g(e).forEach((function(i){t[i]=e[i]})),t},s.inOperator=function(t,e){if(u(e)||h(e))return-1!==e.indexOf(t);if(p(e))return t in e;throw new Error('Cannot use "in" operator to search for "'+t+'" in unexpected types.')}},7960:(t,e,i)=>{"use strict";function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}var r=i(6928),s=i(2436).EmitterObj;t.exports=function(t){var e,i;function s(){return t.apply(this,arguments)||this}i=t,(e=s).prototype=Object.create(i.prototype),e.prototype.constructor=e,n(e,i);var o=s.prototype;return o.resolve=function(t,e){return r.resolve(r.dirname(t),e)},o.isRelative=function(t){return 0===t.indexOf("./")||0===t.indexOf("../")},s}(s)},4343:(t,e,i)=>{"use strict";t.exports=i(898)},898:(t,e,i)=>{"use strict";function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var s,o=i(9896),a=i(6928),l=i(7960),c=i(5525).PrecompiledLoader,u=function(t){function e(e,n){var r;if(r=t.call(this)||this,"boolean"==typeof n&&console.log("[nunjucks] Warning: you passed a boolean as the second argument to FileSystemLoader, but it now takes an options object. See http://mozilla.github.io/nunjucks/api.html#filesystemloader"),n=n||{},r.pathsToNames={},r.noCache=!!n.noCache,e?(e=Array.isArray(e)?e:[e],r.searchPaths=e.map(a.normalize)):r.searchPaths=["."],n.watch){try{s=i(158)}catch(t){throw new Error("watch requires chokidar to be installed")}var l=r.searchPaths.filter(o.existsSync),c=s.watch(l);c.on("all",(function(t,e){e=a.resolve(e),"change"===t&&e in r.pathsToNames&&r.emit("update",r.pathsToNames[e],e)})),c.on("error",(function(t){console.log("Watcher error: "+t)}))}return r}return n(e,t),e.prototype.getSource=function(t){for(var e=null,i=this.searchPaths,n=0;n<i.length;n++){var r=a.resolve(i[n]),s=a.resolve(i[n],t);if(0===s.indexOf(r)&&o.existsSync(s)){e=s;break}}if(!e)return null;this.pathsToNames[e]=t;var l={src:o.readFileSync(e,"utf-8"),path:e,noCache:this.noCache};return this.emit("load",t,l),l},e}(l),h=function(t){function e(e){var n;if(e=e||{},(n=t.call(this)||this).pathsToNames={},n.noCache=!!e.noCache,e.watch){try{s=i(158)}catch(t){throw new Error("watch requires chokidar to be installed")}n.watcher=s.watch(),n.watcher.on("change",(function(t){n.emit("update",n.pathsToNames[t],t)})),n.watcher.on("error",(function(t){console.log("Watcher error: "+t)})),n.on("load",(function(t,e){n.watcher.add(e.path)}))}return n}return n(e,t),e.prototype.getSource=function(t){if(/^\.?\.?(\/|\\)/.test(t))return null;if(/^[A-Z]:/.test(t))return null;var e;try{e=i(1254).resolve(t)}catch(t){return null}this.pathsToNames[e]=t;var n={src:o.readFileSync(e,"utf-8"),path:e,noCache:this.noCache};return this.emit("load",t,n),n},e}(l);t.exports={FileSystemLoader:u,PrecompiledLoader:c,NodeResolveLoader:h}},9118:(t,e,i)=>{"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key))?r:String(r)),n)}var r}function r(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function a(t,e,i){t instanceof e&&i.push(t),t instanceof l&&t.findAll(e,i)}var l=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var i=e.prototype;return i.init=function(t,e){for(var i=arguments,n=this,r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];this.lineno=t,this.colno=e,this.fields.forEach((function(t,e){var r=i[e+2];void 0===r&&(r=null),n[t]=r}))},i.findAll=function(t,e){var i=this;return e=e||[],this instanceof u?this.children.forEach((function(i){return a(i,t,e)})):this.fields.forEach((function(n){return a(i[n],t,e)})),e},i.iterFields=function(t){var e=this;this.fields.forEach((function(i){t(e[i],i)}))},e}(i(2436).Obj),c=function(t){function e(){return t.apply(this,arguments)||this}return s(e,t),r(e,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),e}(l),u=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var i=e.prototype;return i.init=function(e,i,n){t.prototype.init.call(this,e,i,n||[])},i.addChild=function(t){this.children.push(t)},r(e,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),e}(l),h=u.extend("Root"),p=c.extend("Literal"),f=c.extend("Symbol"),d=u.extend("Group"),m=u.extend("Array"),g=l.extend("Pair",{fields:["key","value"]}),y=u.extend("Dict"),b=l.extend("LookupVal",{fields:["target","val"]}),_=l.extend("If",{fields:["cond","body","else_"]}),v=_.extend("IfAsync"),w=l.extend("InlineIf",{fields:["cond","body","else_"]}),x=l.extend("For",{fields:["arr","name","body","else_"]}),k=x.extend("AsyncEach"),E=x.extend("AsyncAll"),A=l.extend("Macro",{fields:["name","args","body"]}),S=A.extend("Caller"),O=l.extend("Import",{fields:["template","target","withContext"]}),T=function(t){function e(){return t.apply(this,arguments)||this}return s(e,t),e.prototype.init=function(e,i,n,r,s){t.prototype.init.call(this,e,i,n,r||new u,s)},r(e,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),e}(l),C=l.extend("FunCall",{fields:["name","args"]}),N=C.extend("Filter"),I=N.extend("FilterAsync",{fields:["name","args","symbol"]}),L=y.extend("KeywordArgs"),R=l.extend("Block",{fields:["name","body"]}),D=l.extend("Super",{fields:["blockName","symbol"]}),M=l.extend("TemplateRef",{fields:["template"]}).extend("Extends"),P=l.extend("Include",{fields:["template","ignoreMissing"]}),F=l.extend("Set",{fields:["targets","value"]}),j=l.extend("Switch",{fields:["expr","cases","default"]}),B=l.extend("Case",{fields:["cond","body"]}),$=u.extend("Output"),z=l.extend("Capture",{fields:["body"]}),U=p.extend("TemplateData"),q=l.extend("UnaryOp",{fields:["target"]}),G=l.extend("BinOp",{fields:["left","right"]}),V=G.extend("In"),H=G.extend("Is"),W=G.extend("Or"),K=G.extend("And"),X=q.extend("Not"),Y=G.extend("Add"),J=G.extend("Concat"),Z=G.extend("Sub"),Q=G.extend("Mul"),tt=G.extend("Div"),et=G.extend("FloorDiv"),it=G.extend("Mod"),nt=G.extend("Pow"),rt=q.extend("Neg"),st=q.extend("Pos"),ot=l.extend("Compare",{fields:["expr","ops"]}),at=l.extend("CompareOperand",{fields:["expr","type"]}),lt=l.extend("CallExtension",{init:function(t,e,i,n){this.parent(),this.extName=t.__name||t,this.prop=e,this.args=i||new u,this.contentArgs=n||[],this.autoescape=t.autoescape},fields:["extName","prop","args","contentArgs"]}),ct=lt.extend("CallExtensionAsync");function ut(t,e,i){var n=t.split("\n");n.forEach((function(t,r){t&&(i&&r>0||!i)&&process.stdout.write(" ".repeat(e));var s=r===n.length-1?"":"\n";process.stdout.write(""+t+s)}))}t.exports={Node:l,Root:h,NodeList:u,Value:c,Literal:p,Symbol:f,Group:d,Array:m,Pair:g,Dict:y,Output:$,Capture:z,TemplateData:U,If:_,IfAsync:v,InlineIf:w,For:x,AsyncEach:k,AsyncAll:E,Macro:A,Caller:S,Import:O,FromImport:T,FunCall:C,Filter:N,FilterAsync:I,KeywordArgs:L,Block:R,Super:D,Extends:M,Include:P,Set:F,Switch:j,Case:B,LookupVal:b,BinOp:G,In:V,Is:H,Or:W,And:K,Not:X,Add:Y,Concat:J,Sub:Z,Mul:Q,Div:tt,FloorDiv:et,Mod:it,Pow:nt,Neg:rt,Pos:st,Compare:ot,CompareOperand:at,CallExtension:lt,CallExtensionAsync:ct,printNodes:function t(e,i){if(i=i||0,ut(e.typename+": ",i),e instanceof u)ut("\n"),e.children.forEach((function(e){t(e,i+2)}));else if(e instanceof lt)ut(e.extName+"."+e.prop+"\n"),e.args&&t(e.args,i+2),e.contentArgs&&e.contentArgs.forEach((function(e){t(e,i+2)}));else{var n=[],r=null;e.iterFields((function(t,e){t instanceof l?n.push([e,t]):(r=r||{})[e]=t})),r?ut(JSON.stringify(r,null,2)+"\n",null,!0):ut("\n"),n.forEach((function(e){var n=e[0],r=e[1];ut("["+n+"] =>",i+2),t(r,i+4)}))}}}},2436:(t,e,i)=>{"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key))?r:String(r)),n)}var r}function r(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}var a=i(4434),l=i(6644);function c(t,e,i){i=i||{},l.keys(i).forEach((function(e){var n,r;i[e]=(n=t.prototype[e],r=i[e],"function"!=typeof n||"function"!=typeof r?r:function(){var t=this.parent;this.parent=n;var e=r.apply(this,arguments);return this.parent=t,e})}));var n=function(t){function i(){return t.apply(this,arguments)||this}return s(i,t),r(i,[{key:"typename",get:function(){return e}}]),i}(t);return l._assign(n.prototype,i),n}var u=function(){function t(){this.init.apply(this,arguments)}return t.prototype.init=function(){},t.extend=function(t,e){return"object"==typeof t&&(e=t,t="anonymous"),c(this,t,e)},r(t,[{key:"typename",get:function(){return this.constructor.name}}]),t}(),h=function(t){function e(){var e,i;return(e=i=t.call(this)||this).init.apply(e,arguments),i}return s(e,t),e.prototype.init=function(){},e.extend=function(t,e){return"object"==typeof t&&(e=t,t="anonymous"),c(this,t,e)},r(e,[{key:"typename",get:function(){return this.constructor.name}}]),e}(a);t.exports={Obj:u,EmitterObj:h}},8676:(t,e,i)=>{"use strict";function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}var r=i(7509),s=i(9118),o=i(2436).Obj,a=i(6644),l=function(t){var e,i;function o(){return t.apply(this,arguments)||this}i=t,(e=o).prototype=Object.create(i.prototype),e.prototype.constructor=e,n(e,i);var l=o.prototype;return l.init=function(t){this.tokens=t,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},l.nextToken=function(t){var e;if(this.peeked){if(t||this.peeked.type!==r.TOKEN_WHITESPACE)return e=this.peeked,this.peeked=null,e;this.peeked=null}if(e=this.tokens.nextToken(),!t)for(;e&&e.type===r.TOKEN_WHITESPACE;)e=this.tokens.nextToken();return e},l.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},l.pushToken=function(t){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=t},l.error=function(t,e,i){if(void 0===e||void 0===i){var n=this.peekToken()||{};e=n.lineno,i=n.colno}return void 0!==e&&(e+=1),void 0!==i&&(i+=1),new a.TemplateError(t,e,i)},l.fail=function(t,e,i){throw this.error(t,e,i)},l.skip=function(t){var e=this.nextToken();return!(!e||e.type!==t)||(this.pushToken(e),!1)},l.expect=function(t){var e=this.nextToken();return e.type!==t&&this.fail("expected "+t+", got "+e.type,e.lineno,e.colno),e},l.skipValue=function(t,e){var i=this.nextToken();return!(!i||i.type!==t||i.value!==e)||(this.pushToken(i),!1)},l.skipSymbol=function(t){return this.skipValue(r.TOKEN_SYMBOL,t)},l.advanceAfterBlockEnd=function(t){var e;return t||((e=this.peekToken())||this.fail("unexpected end of file"),e.type!==r.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),t=this.nextToken().value),(e=this.nextToken())&&e.type===r.TOKEN_BLOCK_END?"-"===e.value.charAt(0)&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+t+" statement"),e},l.advanceAfterVariableEnd=function(){var t=this.nextToken();t&&t.type===r.TOKEN_VARIABLE_END?this.dropLeadingWhitespace="-"===t.value.charAt(t.value.length-this.tokens.tags.VARIABLE_END.length-1):(this.pushToken(t),this.fail("expected variable end"))},l.parseFor=function(){var t,e,i=this.peekToken();if(this.skipSymbol("for")?(t=new s.For(i.lineno,i.colno),e="endfor"):this.skipSymbol("asyncEach")?(t=new s.AsyncEach(i.lineno,i.colno),e="endeach"):this.skipSymbol("asyncAll")?(t=new s.AsyncAll(i.lineno,i.colno),e="endall"):this.fail("parseFor: expected for{Async}",i.lineno,i.colno),t.name=this.parsePrimary(),t.name instanceof s.Symbol||this.fail("parseFor: variable name expected for loop"),this.peekToken().type===r.TOKEN_COMMA){var n=t.name;for(t.name=new s.Array(n.lineno,n.colno),t.name.addChild(n);this.skip(r.TOKEN_COMMA);){var o=this.parsePrimary();t.name.addChild(o)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',i.lineno,i.colno),t.arr=this.parseExpression(),this.advanceAfterBlockEnd(i.value),t.body=this.parseUntilBlocks(e,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),t.else_=this.parseUntilBlocks(e)),this.advanceAfterBlockEnd(),t},l.parseMacro=function(){var t=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var e=this.parsePrimary(!0),i=this.parseSignature(),n=new s.Macro(t.lineno,t.colno,e,i);return this.advanceAfterBlockEnd(t.value),n.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),n},l.parseCall=function(){var t=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var e=this.parseSignature(!0)||new s.NodeList,i=this.parsePrimary();this.advanceAfterBlockEnd(t.value);var n=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var r=new s.Symbol(t.lineno,t.colno,"caller"),o=new s.Caller(t.lineno,t.colno,r,e,n),a=i.args.children;return a[a.length-1]instanceof s.KeywordArgs||a.push(new s.KeywordArgs),a[a.length-1].addChild(new s.Pair(t.lineno,t.colno,r,o)),new s.Output(t.lineno,t.colno,[i])},l.parseWithContext=function(){var t=this.peekToken(),e=null;return this.skipSymbol("with")?e=!0:this.skipSymbol("without")&&(e=!1),null!==e&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",t.lineno,t.colno)),e},l.parseImport=function(){var t=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",t.lineno,t.colno);var e=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',t.lineno,t.colno);var i=this.parseExpression(),n=this.parseWithContext(),r=new s.Import(t.lineno,t.colno,e,i,n);return this.advanceAfterBlockEnd(t.value),r},l.parseFrom=function(){var t=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var e=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",t.lineno,t.colno);for(var i,n=new s.NodeList;;){var o=this.peekToken();if(o.type===r.TOKEN_BLOCK_END){n.children.length||this.fail("parseFrom: Expected at least one import name",t.lineno,t.colno),"-"===o.value.charAt(0)&&(this.dropLeadingWhitespace=!0),this.nextToken();break}n.children.length>0&&!this.skip(r.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",t.lineno,t.colno);var a=this.parsePrimary();if("_"===a.value.charAt(0)&&this.fail("parseFrom: names starting with an underscore cannot be imported",a.lineno,a.colno),this.skipSymbol("as")){var l=this.parsePrimary();n.addChild(new s.Pair(a.lineno,a.colno,a,l))}else n.addChild(a);i=this.parseWithContext()}return new s.FromImport(t.lineno,t.colno,e,n,i)},l.parseBlock=function(){var t=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",t.lineno,t.colno);var e=new s.Block(t.lineno,t.colno);e.name=this.parsePrimary(),e.name instanceof s.Symbol||this.fail("parseBlock: variable name expected",t.lineno,t.colno),this.advanceAfterBlockEnd(t.value),e.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(e.name.value);var i=this.peekToken();return i||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(i.value),e},l.parseExtends=function(){var t="extends",e=this.peekToken();this.skipSymbol(t)||this.fail("parseTemplateRef: expected "+t);var i=new s.Extends(e.lineno,e.colno);return i.template=this.parseExpression(),this.advanceAfterBlockEnd(e.value),i},l.parseInclude=function(){var t="include",e=this.peekToken();this.skipSymbol(t)||this.fail("parseInclude: expected "+t);var i=new s.Include(e.lineno,e.colno);return i.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(i.ignoreMissing=!0),this.advanceAfterBlockEnd(e.value),i},l.parseIf=function(){var t,e=this.peekToken();this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?t=new s.If(e.lineno,e.colno):this.skipSymbol("ifAsync")?t=new s.IfAsync(e.lineno,e.colno):this.fail("parseIf: expected if, elif, or elseif",e.lineno,e.colno),t.cond=this.parseExpression(),this.advanceAfterBlockEnd(e.value),t.body=this.parseUntilBlocks("elif","elseif","else","endif");var i=this.peekToken();switch(i&&i.value){case"elseif":case"elif":t.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),t.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":t.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return t},l.parseSet=function(){var t=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",t.lineno,t.colno);for(var e,i=new s.Set(t.lineno,t.colno,[]);(e=this.parsePrimary())&&(i.targets.push(e),this.skip(r.TOKEN_COMMA)););return this.skipValue(r.TOKEN_OPERATOR,"=")?(i.value=this.parseExpression(),this.advanceAfterBlockEnd(t.value)):this.skip(r.TOKEN_BLOCK_END)?(i.body=new s.Capture(t.lineno,t.colno,this.parseUntilBlocks("endset")),i.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",t.lineno,t.colno),i},l.parseSwitch=function(){var t="switch",e="endswitch",i="case",n="default",r=this.peekToken();this.skipSymbol(t)||this.skipSymbol(i)||this.skipSymbol(n)||this.fail('parseSwitch: expected "switch," "case" or "default"',r.lineno,r.colno);var o=this.parseExpression();this.advanceAfterBlockEnd(t),this.parseUntilBlocks(i,n,e);var a,l=this.peekToken(),c=[];do{this.skipSymbol(i);var u=this.parseExpression();this.advanceAfterBlockEnd(t);var h=this.parseUntilBlocks(i,n,e);c.push(new s.Case(l.line,l.col,u,h)),l=this.peekToken()}while(l&&l.value===i);switch(l.value){case n:this.advanceAfterBlockEnd(),a=this.parseUntilBlocks(e),this.advanceAfterBlockEnd();break;case e:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new s.Switch(r.lineno,r.colno,o,c,a)},l.parseStatement=function(){var t=this.peekToken();if(t.type!==r.TOKEN_SYMBOL&&this.fail("tag name expected",t.lineno,t.colno),this.breakOnBlocks&&-1!==a.indexOf(this.breakOnBlocks,t.value))return null;switch(t.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var e=0;e<this.extensions.length;e++){var i=this.extensions[e];if(-1!==a.indexOf(i.tags||[],t.value))return i.parse(this,s,r)}this.fail("unknown block tag: "+t.value,t.lineno,t.colno)}},l.parseRaw=function(t){for(var e="end"+(t=t||"raw"),i=new RegExp("([\\s\\S]*?){%\\s*("+t+"|"+e+")\\s*(?=%})%}"),n=1,r="",o=null,a=this.advanceAfterBlockEnd();(o=this.tokens._extractRegex(i))&&n>0;){var l=o[0],c=o[1],u=o[2];u===t?n+=1:u===e&&(n-=1),0===n?(r+=c,this.tokens.backN(l.length-c.length)):r+=l}return new s.Output(a.lineno,a.colno,[new s.TemplateData(a.lineno,a.colno,r)])},l.parsePostfix=function(t){for(var e,i=this.peekToken();i;){if(i.type===r.TOKEN_LEFT_PAREN)t=new s.FunCall(i.lineno,i.colno,t,this.parseSignature());else if(i.type===r.TOKEN_LEFT_BRACKET)(e=this.parseAggregate()).children.length>1&&this.fail("invalid index"),t=new s.LookupVal(i.lineno,i.colno,t,e.children[0]);else{if(i.type!==r.TOKEN_OPERATOR||"."!==i.value)break;this.nextToken();var n=this.nextToken();n.type!==r.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+n.value,n.lineno,n.colno),e=new s.Literal(n.lineno,n.colno,n.value),t=new s.LookupVal(i.lineno,i.colno,t,e)}i=this.peekToken()}return t},l.parseExpression=function(){return this.parseInlineIf()},l.parseInlineIf=function(){var t=this.parseOr();if(this.skipSymbol("if")){var e=this.parseOr(),i=t;(t=new s.InlineIf(t.lineno,t.colno)).body=i,t.cond=e,this.skipSymbol("else")?t.else_=this.parseOr():t.else_=null}return t},l.parseOr=function(){for(var t=this.parseAnd();this.skipSymbol("or");){var e=this.parseAnd();t=new s.Or(t.lineno,t.colno,t,e)}return t},l.parseAnd=function(){for(var t=this.parseNot();this.skipSymbol("and");){var e=this.parseNot();t=new s.And(t.lineno,t.colno,t,e)}return t},l.parseNot=function(){var t=this.peekToken();return this.skipSymbol("not")?new s.Not(t.lineno,t.colno,this.parseNot()):this.parseIn()},l.parseIn=function(){for(var t=this.parseIs();;){var e=this.nextToken();if(!e)break;var i=e.type===r.TOKEN_SYMBOL&&"not"===e.value;if(i||this.pushToken(e),!this.skipSymbol("in")){i&&this.pushToken(e);break}var n=this.parseIs();t=new s.In(t.lineno,t.colno,t,n),i&&(t=new s.Not(t.lineno,t.colno,t))}return t},l.parseIs=function(){var t=this.parseCompare();if(this.skipSymbol("is")){var e=this.skipSymbol("not"),i=this.parseCompare();t=new s.Is(t.lineno,t.colno,t,i),e&&(t=new s.Not(t.lineno,t.colno,t))}return t},l.parseCompare=function(){for(var t=["==","===","!=","!==","<",">","<=",">="],e=this.parseConcat(),i=[];;){var n=this.nextToken();if(!n)break;if(-1===t.indexOf(n.value)){this.pushToken(n);break}i.push(new s.CompareOperand(n.lineno,n.colno,this.parseConcat(),n.value))}return i.length?new s.Compare(i[0].lineno,i[0].colno,e,i):e},l.parseConcat=function(){for(var t=this.parseAdd();this.skipValue(r.TOKEN_TILDE,"~");){var e=this.parseAdd();t=new s.Concat(t.lineno,t.colno,t,e)}return t},l.parseAdd=function(){for(var t=this.parseSub();this.skipValue(r.TOKEN_OPERATOR,"+");){var e=this.parseSub();t=new s.Add(t.lineno,t.colno,t,e)}return t},l.parseSub=function(){for(var t=this.parseMul();this.skipValue(r.TOKEN_OPERATOR,"-");){var e=this.parseMul();t=new s.Sub(t.lineno,t.colno,t,e)}return t},l.parseMul=function(){for(var t=this.parseDiv();this.skipValue(r.TOKEN_OPERATOR,"*");){var e=this.parseDiv();t=new s.Mul(t.lineno,t.colno,t,e)}return t},l.parseDiv=function(){for(var t=this.parseFloorDiv();this.skipValue(r.TOKEN_OPERATOR,"/");){var e=this.parseFloorDiv();t=new s.Div(t.lineno,t.colno,t,e)}return t},l.parseFloorDiv=function(){for(var t=this.parseMod();this.skipValue(r.TOKEN_OPERATOR,"//");){var e=this.parseMod();t=new s.FloorDiv(t.lineno,t.colno,t,e)}return t},l.parseMod=function(){for(var t=this.parsePow();this.skipValue(r.TOKEN_OPERATOR,"%");){var e=this.parsePow();t=new s.Mod(t.lineno,t.colno,t,e)}return t},l.parsePow=function(){for(var t=this.parseUnary();this.skipValue(r.TOKEN_OPERATOR,"**");){var e=this.parseUnary();t=new s.Pow(t.lineno,t.colno,t,e)}return t},l.parseUnary=function(t){var e,i=this.peekToken();return e=this.skipValue(r.TOKEN_OPERATOR,"-")?new s.Neg(i.lineno,i.colno,this.parseUnary(!0)):this.skipValue(r.TOKEN_OPERATOR,"+")?new s.Pos(i.lineno,i.colno,this.parseUnary(!0)):this.parsePrimary(),t||(e=this.parseFilter(e)),e},l.parsePrimary=function(t){var e,i=this.nextToken(),n=null;if(i?i.type===r.TOKEN_STRING?e=i.value:i.type===r.TOKEN_INT?e=parseInt(i.value,10):i.type===r.TOKEN_FLOAT?e=parseFloat(i.value):i.type===r.TOKEN_BOOLEAN?"true"===i.value?e=!0:"false"===i.value?e=!1:this.fail("invalid boolean: "+i.value,i.lineno,i.colno):i.type===r.TOKEN_NONE?e=null:i.type===r.TOKEN_REGEX&&(e=new RegExp(i.value.body,i.value.flags)):this.fail("expected expression, got end of file"),void 0!==e?n=new s.Literal(i.lineno,i.colno,e):i.type===r.TOKEN_SYMBOL?n=new s.Symbol(i.lineno,i.colno,i.value):(this.pushToken(i),n=this.parseAggregate()),t||(n=this.parsePostfix(n)),n)return n;throw this.error("unexpected token: "+i.value,i.lineno,i.colno)},l.parseFilterName=function(){for(var t=this.expect(r.TOKEN_SYMBOL),e=t.value;this.skipValue(r.TOKEN_OPERATOR,".");)e+="."+this.expect(r.TOKEN_SYMBOL).value;return new s.Symbol(t.lineno,t.colno,e)},l.parseFilterArgs=function(t){return this.peekToken().type===r.TOKEN_LEFT_PAREN?this.parsePostfix(t).args.children:[]},l.parseFilter=function(t){for(;this.skip(r.TOKEN_PIPE);){var e=this.parseFilterName();t=new s.Filter(e.lineno,e.colno,e,new s.NodeList(e.lineno,e.colno,[t].concat(this.parseFilterArgs(t))))}return t},l.parseFilterStatement=function(){var t=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var e=this.parseFilterName(),i=this.parseFilterArgs(e);this.advanceAfterBlockEnd(t.value);var n=new s.Capture(e.lineno,e.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var r=new s.Filter(e.lineno,e.colno,e,new s.NodeList(e.lineno,e.colno,[n].concat(i)));return new s.Output(e.lineno,e.colno,[r])},l.parseAggregate=function(){var t,e=this.nextToken();switch(e.type){case r.TOKEN_LEFT_PAREN:t=new s.Group(e.lineno,e.colno);break;case r.TOKEN_LEFT_BRACKET:t=new s.Array(e.lineno,e.colno);break;case r.TOKEN_LEFT_CURLY:t=new s.Dict(e.lineno,e.colno);break;default:return null}for(;;){var i=this.peekToken().type;if(i===r.TOKEN_RIGHT_PAREN||i===r.TOKEN_RIGHT_BRACKET||i===r.TOKEN_RIGHT_CURLY){this.nextToken();break}if(t.children.length>0&&(this.skip(r.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",e.lineno,e.colno)),t instanceof s.Dict){var n=this.parsePrimary();this.skip(r.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",e.lineno,e.colno);var o=this.parseExpression();t.addChild(new s.Pair(n.lineno,n.colno,n,o))}else{var a=this.parseExpression();t.addChild(a)}}return t},l.parseSignature=function(t,e){var i=this.peekToken();if(!e&&i.type!==r.TOKEN_LEFT_PAREN){if(t)return null;this.fail("expected arguments",i.lineno,i.colno)}i.type===r.TOKEN_LEFT_PAREN&&(i=this.nextToken());for(var n=new s.NodeList(i.lineno,i.colno),o=new s.KeywordArgs(i.lineno,i.colno),a=!1;;){if(i=this.peekToken(),!e&&i.type===r.TOKEN_RIGHT_PAREN){this.nextToken();break}if(e&&i.type===r.TOKEN_BLOCK_END)break;if(a&&!this.skip(r.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",i.lineno,i.colno);else{var l=this.parseExpression();this.skipValue(r.TOKEN_OPERATOR,"=")?o.addChild(new s.Pair(l.lineno,l.colno,l,this.parseExpression())):n.addChild(l)}a=!0}return o.children.length&&n.addChild(o),n},l.parseUntilBlocks=function(){for(var t=this.breakOnBlocks,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.breakOnBlocks=i;var r=this.parse();return this.breakOnBlocks=t,r},l.parseNodes=function(){for(var t,e=[];t=this.nextToken();)if(t.type===r.TOKEN_DATA){var i=t.value,n=this.peekToken(),o=n&&n.value;this.dropLeadingWhitespace&&(i=i.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),n&&(n.type===r.TOKEN_BLOCK_START&&"-"===o.charAt(o.length-1)||n.type===r.TOKEN_VARIABLE_START&&"-"===o.charAt(this.tokens.tags.VARIABLE_START.length)||n.type===r.TOKEN_COMMENT&&"-"===o.charAt(this.tokens.tags.COMMENT_START.length))&&(i=i.replace(/\s*$/,"")),e.push(new s.Output(t.lineno,t.colno,[new s.TemplateData(t.lineno,t.colno,i)]))}else if(t.type===r.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var a=this.parseStatement();if(!a)break;e.push(a)}else if(t.type===r.TOKEN_VARIABLE_START){var l=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),e.push(new s.Output(t.lineno,t.colno,[l]))}else t.type===r.TOKEN_COMMENT?this.dropLeadingWhitespace="-"===t.value.charAt(t.value.length-this.tokens.tags.COMMENT_END.length-1):this.fail("Unexpected token at top-level: "+t.type,t.lineno,t.colno);return e},l.parse=function(){return new s.NodeList(0,0,this.parseNodes())},l.parseAsRoot=function(){return new s.Root(0,0,this.parseNodes())},o}(o);t.exports={parse:function(t,e,i){var n=new l(r.lex(t,i));return void 0!==e&&(n.extensions=e),n.parseAsRoot()},Parser:l}},7177:t=>{"use strict";t.exports=function(t,e){var i="";e=e||{};for(var n=0;n<t.length;n++){var r=JSON.stringify(t[n].name);i+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+r+"] = (function() {\n"+t[n].template+"\n})();\n",e.asFunction&&(i+="return function(ctx, cb) { return nunjucks.render("+r+", ctx, cb); }\n"),i+="})();\n"}return i}},6685:(t,e,i)=>{"use strict";var n=i(9896),r=i(6928),s=i(6644)._prettifyError,o=i(9374),a=i(9346).Environment,l=i(7177);function c(t,e){return!!Array.isArray(e)&&e.some((function(e){return t.match(e)}))}function u(t,e){(e=e||{}).isString=!0;var i=e.env||new a([]),n=e.wrapper||l;if(!e.name)throw new Error('the "name" option is required when compiling a string');return n([h(t,e.name,i)],e)}function h(t,e,i){var n,r=(i=i||new a([])).asyncFilters,l=i.extensionsList;e=e.replace(/\\/g,"/");try{n=o.compile(t,r,l,e,i.opts)}catch(t){throw s(e,!1,t)}return{name:e,template:n}}t.exports={precompile:function(t,e){var i=(e=e||{}).env||new a([]),s=e.wrapper||l;if(e.isString)return u(t,e);var o=n.existsSync(t)&&n.statSync(t),p=[],f=[];if(o.isFile())p.push(h(n.readFileSync(t,"utf-8"),e.name||t,i));else if(o.isDirectory()){!function i(s){n.readdirSync(s).forEach((function(o){var a=r.join(s,o),l=a.substr(r.join(t,"/").length),u=n.statSync(a);u&&u.isDirectory()?c(l+="/",e.exclude)||i(a):c(l,e.include)&&f.push(a)}))}(t);for(var d=0;d<f.length;d++){var m=f[d].replace(r.join(t,"/"),"");try{p.push(h(n.readFileSync(f[d],"utf-8"),m,i))}catch(t){if(!e.force)throw t;console.error(t)}}}return s(p,e)},precompileString:u}},5525:(t,e,i)=>{"use strict";function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}var r=function(t){var e,i;function r(e){var i;return(i=t.call(this)||this).precompiled=e||{},i}return i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,n(e,i),r.prototype.getSource=function(t){return this.precompiled[t]?{src:{type:"code",obj:this.precompiled[t]},path:t}:null},r}(i(7960));t.exports={PrecompiledLoader:r}},8467:(t,e,i)=>{"use strict";var n=i(6644),r=Array.from,s="function"==typeof Symbol&&Symbol.iterator&&"function"==typeof r,o=function(){function t(t,e){this.variables=Object.create(null),this.parent=t,this.topLevel=!1,this.isolateWrites=e}var e=t.prototype;return e.set=function(t,e,i){var n=t.split("."),r=this.variables,s=this;if(i&&(s=this.resolve(n[0],!0)))s.set(t,e);else{for(var o=0;o<n.length-1;o++){var a=n[o];r[a]||(r[a]={}),r=r[a]}r[n[n.length-1]]=e}},e.get=function(t){var e=this.variables[t];return void 0!==e?e:null},e.lookup=function(t){var e=this.parent,i=this.variables[t];return void 0!==i?i:e&&e.lookup(t)},e.resolve=function(t,e){var i=e&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[t]?this:i&&i.resolve(t)},e.push=function(e){return new t(this,e)},e.pop=function(){return this.parent},t}();function a(t){return t&&Object.prototype.hasOwnProperty.call(t,"__keywords")}function l(t){var e=t.length;return 0===e?0:a(t[e-1])?e-1:e}function c(t){if("string"!=typeof t)return t;this.val=t,this.length=t.length}c.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),c.prototype.valueOf=function(){return this.val},c.prototype.toString=function(){return this.val},t.exports={Frame:o,makeMacro:function(t,e,i){return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var o,c=l(r),u=function(t){var e=t.length;if(e){var i=t[e-1];if(a(i))return i}return{}}(r);if(c>t.length)o=r.slice(0,t.length),r.slice(o.length,c).forEach((function(t,i){i<e.length&&(u[e[i]]=t)})),o.push(u);else if(c<t.length){o=r.slice(0,c);for(var h=c;h<t.length;h++){var p=t[h];o.push(u[p]),delete u[p]}o.push(u)}else o=r;return i.apply(this,o)}},makeKeywordArgs:function(t){return t.__keywords=!0,t},numArgs:l,suppressValue:function(t,e){return t=null!=t?t:"",!e||t instanceof c||(t=n.escape(t.toString())),t},ensureDefined:function(t,e,i){if(null==t)throw new n.TemplateError("attempted to output null or undefined value",e+1,i+1);return t},memberLookup:function(t,e){if(null!=t)return"function"==typeof t[e]?function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t[e].apply(t,n)}:t[e]},contextOrFrameLookup:function(t,e,i){var n=e.lookup(i);return void 0!==n?n:t.lookup(i)},callWrap:function(t,e,i,n){if(!t)throw new Error("Unable to call `"+e+"`, which is undefined or falsey");if("function"!=typeof t)throw new Error("Unable to call `"+e+"`, which is not a function");return t.apply(i,n)},handleError:function(t,e,i){return t.lineno?t:new n.TemplateError(t,e,i)},isArray:n.isArray,keys:n.keys,SafeString:c,copySafeness:function(t,e){return t instanceof c?new c(e):e.toString()},markSafe:function(t){var e=typeof t;return"string"===e?new c(t):"function"!==e?t:function(e){var i=t.apply(this,arguments);return"string"==typeof i?new c(i):i}},asyncEach:function(t,e,i,r){if(n.isArray(t)){var s=t.length;n.asyncIter(t,(function(t,n,r){switch(e){case 1:i(t,n,s,r);break;case 2:i(t[0],t[1],n,s,r);break;case 3:i(t[0],t[1],t[2],n,s,r);break;default:t.push(n,s,r),i.apply(this,t)}}),r)}else n.asyncFor(t,(function(t,e,n,r,s){i(t,e,n,r,s)}),r)},asyncAll:function(t,e,i,r){var s,o,a=0;function l(t,e){a++,o[t]=e,a===s&&r(null,o.join(""))}if(n.isArray(t))if(s=t.length,o=new Array(s),0===s)r(null,"");else for(var c=0;c<t.length;c++){var u=t[c];switch(e){case 1:i(u,c,s,l);break;case 2:i(u[0],u[1],c,s,l);break;case 3:i(u[0],u[1],u[2],c,s,l);break;default:u.push(c,s,l),i.apply(this,u)}}else{var h=n.keys(t||{});if(s=h.length,o=new Array(s),0===s)r(null,"");else for(var p=0;p<h.length;p++){var f=h[p];i(f,t[f],p,s,l)}}},inOperator:n.inOperator,fromIterator:function(t){return"object"!=typeof t||null===t||n.isArray(t)?t:s&&Symbol.iterator in t?r(t):t}}},3038:(t,e,i)=>{"use strict";var n=i(8467).SafeString;e.callable=function(t){return"function"==typeof t},e.defined=function(t){return void 0!==t},e.divisibleby=function(t,e){return t%e==0},e.escaped=function(t){return t instanceof n},e.equalto=function(t,e){return t===e},e.eq=e.equalto,e.sameas=e.equalto,e.even=function(t){return t%2==0},e.falsy=function(t){return!t},e.ge=function(t,e){return t>=e},e.greaterthan=function(t,e){return t>e},e.gt=e.greaterthan,e.le=function(t,e){return t<=e},e.lessthan=function(t,e){return t<e},e.lt=e.lessthan,e.lower=function(t){return t.toLowerCase()===t},e.ne=function(t,e){return t!==e},e.null=function(t){return null===t},e.number=function(t){return"number"==typeof t},e.odd=function(t){return t%2==1},e.string=function(t){return"string"==typeof t},e.truthy=function(t){return!!t},e.undefined=function(t){return void 0===t},e.upper=function(t){return t.toUpperCase()===t},e.iterable=function(t){return"undefined"!=typeof Symbol?!!t[Symbol.iterator]:Array.isArray(t)||"string"==typeof t},e.mapping=function(t){var e=null!=t&&"object"==typeof t&&!Array.isArray(t);return Set?e&&!(t instanceof Set):e}},4752:(t,e,i)=>{"use strict";var n=i(9118),r=i(6644),s=0;function o(){return"hole_"+s++}function a(t,e){for(var i=null,n=0;n<t.length;n++){var r=e(t[n]);r!==t[n]&&(i||(i=t.slice()),i[n]=r)}return i||t}function l(t,e,i){if(!(t instanceof n.Node))return t;if(!i){var r=e(t);if(r&&r!==t)return r}if(t instanceof n.NodeList){var s=a(t.children,(function(t){return l(t,e,i)}));s!==t.children&&(t=new n[t.typename](t.lineno,t.colno,s))}else if(t instanceof n.CallExtension){var o=l(t.args,e,i),c=a(t.contentArgs,(function(t){return l(t,e,i)}));o===t.args&&c===t.contentArgs||(t=new n[t.typename](t.extName,t.prop,o,c))}else{var u=t.fields.map((function(e){return t[e]})),h=a(u,(function(t){return l(t,e,i)}));h!==u&&(t=new n[t.typename](t.lineno,t.colno),h.forEach((function(e,i){t[t.fields[i]]=e})))}return i&&e(t)||t}function c(t,e){return l(t,e,!0)}function u(t,e,i){var s=[],a=c(i?t[i]:t,(function(t){var i;return t instanceof n.Block?t:((t instanceof n.Filter&&-1!==r.indexOf(e,t.name.value)||t instanceof n.CallExtensionAsync)&&(i=new n.Symbol(t.lineno,t.colno,o()),s.push(new n.FilterAsync(t.lineno,t.colno,t.name,t.args,i))),i)}));return i?t[i]=a:t=a,s.length?(s.push(t),new n.NodeList(t.lineno,t.colno,s)):t}t.exports={transform:function(t,e){return function(t,e){return function(t){return c(t,(function(t){if(t instanceof n.If||t instanceof n.For){var e=!1;if(l(t,(function(t){if(t instanceof n.FilterAsync||t instanceof n.IfAsync||t instanceof n.AsyncEach||t instanceof n.AsyncAll||t instanceof n.CallExtensionAsync)return e=!0,t})),e){if(t instanceof n.If)return new n.IfAsync(t.lineno,t.colno,t.cond,t.body,t.else_);if(t instanceof n.For&&!(t instanceof n.AsyncAll))return new n.AsyncEach(t.lineno,t.colno,t.arr,t.name,t.body,t.else_)}}}))}(function(t){return l(t,(function(t){if(t instanceof n.Block){var e=!1,i=o();t.body=l(t.body,(function(t){if(t instanceof n.FunCall&&"super"===t.name.value)return e=!0,new n.Symbol(t.lineno,t.colno,i)})),e&&t.body.children.unshift(new n.Super(0,0,t.name,new n.Symbol(0,0,i)))}}))}(function(t,e){return c(t,(function(t){return t instanceof n.Output?u(t,e):t instanceof n.Set?u(t,e,"value"):t instanceof n.For?u(t,e,"arr"):t instanceof n.If?u(t,e,"cond"):t instanceof n.CallExtension?u(t,e,"args"):void 0}))}(t,e)))}(t,e||[])}}},1254:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=1254,t.exports=e},5157:(t,e,i)=>{"use strict";t.exports=i(6675)},3940:(t,e,i)=>{"use strict";const n=i(6928),r="\\\\/",s=`[^${r}]`,o="\\.",a="\\/",l="[^/]",c=`(?:${a}|$)`,u=`(?:^|${a})`,h=`${o}{1,2}${c}`,p={DOT_LITERAL:o,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:a,ONE_CHAR:"(?=.)",QMARK:l,END_ANCHOR:c,DOTS_SLASH:h,NO_DOT:`(?!${o})`,NO_DOTS:`(?!${u}${h})`,NO_DOT_SLASH:`(?!${o}{0,1}${c})`,NO_DOTS_SLASH:`(?!${h})`,QMARK_NO_DOT:`[^.${a}]`,STAR:`${l}*?`,START_ANCHOR:u},f={...p,SLASH_LITERAL:`[${r}]`,QMARK:s,STAR:`${s}*?`,DOTS_SLASH:`${o}{1,2}(?:[${r}]|$)`,NO_DOT:`(?!${o})`,NO_DOTS:`(?!(?:^|[${r}])${o}{1,2}(?:[${r}]|$))`,NO_DOT_SLASH:`(?!${o}{0,1}(?:[${r}]|$))`,NO_DOTS_SLASH:`(?!${o}{1,2}(?:[${r}]|$))`,QMARK_NO_DOT:`[^.${r}]`,START_ANCHOR:`(?:^|[${r}])`,END_ANCHOR:`(?:[${r}]|$)`};t.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:t=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:t=>!0===t?f:p}},1154:(t,e,i)=>{"use strict";const n=i(3940),r=i(280),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:l,REPLACEMENTS:c}=n,u=(t,e)=>{if("function"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();const i=`[${t.join("-")}]`;try{new RegExp(i)}catch(e){return t.map((t=>r.escapeRegex(t))).join("..")}return i},h=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,p=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");t=c[t]||t;const i={...e},f="number"==typeof i.maxLength?Math.min(s,i.maxLength):s;let d=t.length;if(d>f)throw new SyntaxError(`Input length: ${d}, exceeds maximum allowed length: ${f}`);const m={type:"bos",value:"",output:i.prepend||""},g=[m],y=i.capture?"":"?:",b=r.isWindows(e),_=n.globChars(b),v=n.extglobChars(_),{DOT_LITERAL:w,PLUS_LITERAL:x,SLASH_LITERAL:k,ONE_CHAR:E,DOTS_SLASH:A,NO_DOT:S,NO_DOT_SLASH:O,NO_DOTS_SLASH:T,QMARK:C,QMARK_NO_DOT:N,STAR:I,START_ANCHOR:L}=_,R=t=>`(${y}(?:(?!${L}${t.dot?A:w}).)*?)`,D=i.dot?"":S,M=i.dot?C:N;let P=!0===i.bash?R(i):I;i.capture&&(P=`(${P})`),"boolean"==typeof i.noext&&(i.noextglob=i.noext);const F={input:t,index:-1,start:0,dot:!0===i.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:g};t=r.removePrefix(t,F),d=t.length;const j=[],B=[],$=[];let z,U=m;const q=()=>F.index===d-1,G=F.peek=(e=1)=>t[F.index+e],V=F.advance=()=>t[++F.index]||"",H=()=>t.slice(F.index+1),W=(t="",e=0)=>{F.consumed+=t,F.index+=e},K=t=>{F.output+=null!=t.output?t.output:t.value,W(t.value)},X=()=>{let t=1;for(;"!"===G()&&("("!==G(2)||"?"===G(3));)V(),F.start++,t++;return t%2!=0&&(F.negated=!0,F.start++,!0)},Y=t=>{F[t]++,$.push(t)},J=t=>{F[t]--,$.pop()},Z=t=>{if("globstar"===U.type){const e=F.braces>0&&("comma"===t.type||"brace"===t.type),i=!0===t.extglob||j.length&&("pipe"===t.type||"paren"===t.type);"slash"===t.type||"paren"===t.type||e||i||(F.output=F.output.slice(0,-U.output.length),U.type="star",U.value="*",U.output=P,F.output+=U.output)}if(j.length&&"paren"!==t.type&&(j[j.length-1].inner+=t.value),(t.value||t.output)&&K(t),U&&"text"===U.type&&"text"===t.type)return U.value+=t.value,void(U.output=(U.output||"")+t.value);t.prev=U,g.push(t),U=t},Q=(t,e)=>{const n={...v[e],conditions:1,inner:""};n.prev=U,n.parens=F.parens,n.output=F.output;const r=(i.capture?"(":"")+n.open;Y("parens"),Z({type:t,value:e,output:F.output?"":E}),Z({type:"paren",extglob:!0,value:V(),output:r}),j.push(n)},tt=t=>{let n,r=t.close+(i.capture?")":"");if("negate"===t.type){let s=P;if(t.inner&&t.inner.length>1&&t.inner.includes("/")&&(s=R(i)),(s!==P||q()||/^\)+$/.test(H()))&&(r=t.close=`)$))${s}`),t.inner.includes("*")&&(n=H())&&/^\.[^\\/.]+$/.test(n)){const i=p(n,{...e,fastpaths:!1}).output;r=t.close=`)${i})${s})`}"bos"===t.prev.type&&(F.negatedExtglob=!0)}Z({type:"paren",extglob:!0,value:z,output:r}),J("parens")};if(!1!==i.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(t)){let n=!1,s=t.replace(l,((t,e,i,r,s,o)=>"\\"===r?(n=!0,t):"?"===r?e?e+r+(s?C.repeat(s.length):""):0===o?M+(s?C.repeat(s.length):""):C.repeat(i.length):"."===r?w.repeat(i.length):"*"===r?e?e+r+(s?P:""):P:e?t:`\\${t}`));return!0===n&&(s=!0===i.unescape?s.replace(/\\/g,""):s.replace(/\\+/g,(t=>t.length%2==0?"\\\\":t?"\\":""))),s===t&&!0===i.contains?(F.output=t,F):(F.output=r.wrapOutput(s,F,e),F)}for(;!q();){if(z=V(),"\0"===z)continue;if("\\"===z){const t=G();if("/"===t&&!0!==i.bash)continue;if("."===t||";"===t)continue;if(!t){z+="\\",Z({type:"text",value:z});continue}const e=/^\\+/.exec(H());let n=0;if(e&&e[0].length>2&&(n=e[0].length,F.index+=n,n%2!=0&&(z+="\\")),!0===i.unescape?z=V():z+=V(),0===F.brackets){Z({type:"text",value:z});continue}}if(F.brackets>0&&("]"!==z||"["===U.value||"[^"===U.value)){if(!1!==i.posix&&":"===z){const t=U.value.slice(1);if(t.includes("[")&&(U.posix=!0,t.includes(":"))){const t=U.value.lastIndexOf("["),e=U.value.slice(0,t),i=U.value.slice(t+2),n=o[i];if(n){U.value=e+n,F.backtrack=!0,V(),m.output||1!==g.indexOf(U)||(m.output=E);continue}}}("["===z&&":"!==G()||"-"===z&&"]"===G())&&(z=`\\${z}`),"]"!==z||"["!==U.value&&"[^"!==U.value||(z=`\\${z}`),!0===i.posix&&"!"===z&&"["===U.value&&(z="^"),U.value+=z,K({value:z});continue}if(1===F.quotes&&'"'!==z){z=r.escapeRegex(z),U.value+=z,K({value:z});continue}if('"'===z){F.quotes=1===F.quotes?0:1,!0===i.keepQuotes&&Z({type:"text",value:z});continue}if("("===z){Y("parens"),Z({type:"paren",value:z});continue}if(")"===z){if(0===F.parens&&!0===i.strictBrackets)throw new SyntaxError(h("opening","("));const t=j[j.length-1];if(t&&F.parens===t.parens+1){tt(j.pop());continue}Z({type:"paren",value:z,output:F.parens?")":"\\)"}),J("parens");continue}if("["===z){if(!0!==i.nobracket&&H().includes("]"))Y("brackets");else{if(!0!==i.nobracket&&!0===i.strictBrackets)throw new SyntaxError(h("closing","]"));z=`\\${z}`}Z({type:"bracket",value:z});continue}if("]"===z){if(!0===i.nobracket||U&&"bracket"===U.type&&1===U.value.length){Z({type:"text",value:z,output:`\\${z}`});continue}if(0===F.brackets){if(!0===i.strictBrackets)throw new SyntaxError(h("opening","["));Z({type:"text",value:z,output:`\\${z}`});continue}J("brackets");const t=U.value.slice(1);if(!0===U.posix||"^"!==t[0]||t.includes("/")||(z=`/${z}`),U.value+=z,K({value:z}),!1===i.literalBrackets||r.hasRegexChars(t))continue;const e=r.escapeRegex(U.value);if(F.output=F.output.slice(0,-U.value.length),!0===i.literalBrackets){F.output+=e,U.value=e;continue}U.value=`(${y}${e}|${U.value})`,F.output+=U.value;continue}if("{"===z&&!0!==i.nobrace){Y("braces");const t={type:"brace",value:z,output:"(",outputIndex:F.output.length,tokensIndex:F.tokens.length};B.push(t),Z(t);continue}if("}"===z){const t=B[B.length-1];if(!0===i.nobrace||!t){Z({type:"text",value:z,output:z});continue}let e=")";if(!0===t.dots){const t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=u(n,i),F.backtrack=!0}if(!0!==t.comma&&!0!==t.dots){const i=F.output.slice(0,t.outputIndex),n=F.tokens.slice(t.tokensIndex);t.value=t.output="\\{",z=e="\\}",F.output=i;for(const t of n)F.output+=t.output||t.value}Z({type:"brace",value:z,output:e}),J("braces"),B.pop();continue}if("|"===z){j.length>0&&j[j.length-1].conditions++,Z({type:"text",value:z});continue}if(","===z){let t=z;const e=B[B.length-1];e&&"braces"===$[$.length-1]&&(e.comma=!0,t="|"),Z({type:"comma",value:z,output:t});continue}if("/"===z){if("dot"===U.type&&F.index===F.start+1){F.start=F.index+1,F.consumed="",F.output="",g.pop(),U=m;continue}Z({type:"slash",value:z,output:k});continue}if("."===z){if(F.braces>0&&"dot"===U.type){"."===U.value&&(U.output=w);const t=B[B.length-1];U.type="dots",U.output+=z,U.value+=z,t.dots=!0;continue}if(F.braces+F.parens===0&&"bos"!==U.type&&"slash"!==U.type){Z({type:"text",value:z,output:w});continue}Z({type:"dot",value:z,output:w});continue}if("?"===z){if((!U||"("!==U.value)&&!0!==i.noextglob&&"("===G()&&"?"!==G(2)){Q("qmark",z);continue}if(U&&"paren"===U.type){const t=G();let e=z;if("<"===t&&!r.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===U.value&&!/[!=<:]/.test(t)||"<"===t&&!/<([!=]|\w+>)/.test(H()))&&(e=`\\${z}`),Z({type:"text",value:z,output:e});continue}if(!0!==i.dot&&("slash"===U.type||"bos"===U.type)){Z({type:"qmark",value:z,output:N});continue}Z({type:"qmark",value:z,output:C});continue}if("!"===z){if(!0!==i.noextglob&&"("===G()&&("?"!==G(2)||!/[!=<:]/.test(G(3)))){Q("negate",z);continue}if(!0!==i.nonegate&&0===F.index){X();continue}}if("+"===z){if(!0!==i.noextglob&&"("===G()&&"?"!==G(2)){Q("plus",z);continue}if(U&&"("===U.value||!1===i.regex){Z({type:"plus",value:z,output:x});continue}if(U&&("bracket"===U.type||"paren"===U.type||"brace"===U.type)||F.parens>0){Z({type:"plus",value:z});continue}Z({type:"plus",value:x});continue}if("@"===z){if(!0!==i.noextglob&&"("===G()&&"?"!==G(2)){Z({type:"at",extglob:!0,value:z,output:""});continue}Z({type:"text",value:z});continue}if("*"!==z){"$"!==z&&"^"!==z||(z=`\\${z}`);const t=a.exec(H());t&&(z+=t[0],F.index+=t[0].length),Z({type:"text",value:z});continue}if(U&&("globstar"===U.type||!0===U.star)){U.type="star",U.star=!0,U.value+=z,U.output=P,F.backtrack=!0,F.globstar=!0,W(z);continue}let e=H();if(!0!==i.noextglob&&/^\([^?]/.test(e)){Q("star",z);continue}if("star"===U.type){if(!0===i.noglobstar){W(z);continue}const n=U.prev,r=n.prev,s="slash"===n.type||"bos"===n.type,o=r&&("star"===r.type||"globstar"===r.type);if(!0===i.bash&&(!s||e[0]&&"/"!==e[0])){Z({type:"star",value:z,output:""});continue}const a=F.braces>0&&("comma"===n.type||"brace"===n.type),l=j.length&&("pipe"===n.type||"paren"===n.type);if(!s&&"paren"!==n.type&&!a&&!l){Z({type:"star",value:z,output:""});continue}for(;"/**"===e.slice(0,3);){const i=t[F.index+4];if(i&&"/"!==i)break;e=e.slice(3),W("/**",3)}if("bos"===n.type&&q()){U.type="globstar",U.value+=z,U.output=R(i),F.output=U.output,F.globstar=!0,W(z);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!o&&q()){F.output=F.output.slice(0,-(n.output+U.output).length),n.output=`(?:${n.output}`,U.type="globstar",U.output=R(i)+(i.strictSlashes?")":"|$)"),U.value+=z,F.globstar=!0,F.output+=n.output+U.output,W(z);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===e[0]){const t=void 0!==e[1]?"|$":"";F.output=F.output.slice(0,-(n.output+U.output).length),n.output=`(?:${n.output}`,U.type="globstar",U.output=`${R(i)}${k}|${k}${t})`,U.value+=z,F.output+=n.output+U.output,F.globstar=!0,W(z+V()),Z({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===e[0]){U.type="globstar",U.value+=z,U.output=`(?:^|${k}|${R(i)}${k})`,F.output=U.output,F.globstar=!0,W(z+V()),Z({type:"slash",value:"/",output:""});continue}F.output=F.output.slice(0,-U.output.length),U.type="globstar",U.output=R(i),U.value+=z,F.output+=U.output,F.globstar=!0,W(z);continue}const n={type:"star",value:z,output:P};!0!==i.bash?!U||"bracket"!==U.type&&"paren"!==U.type||!0!==i.regex?(F.index!==F.start&&"slash"!==U.type&&"dot"!==U.type||("dot"===U.type?(F.output+=O,U.output+=O):!0===i.dot?(F.output+=T,U.output+=T):(F.output+=D,U.output+=D),"*"!==G()&&(F.output+=E,U.output+=E)),Z(n)):(n.output=z,Z(n)):(n.output=".*?","bos"!==U.type&&"slash"!==U.type||(n.output=D+n.output),Z(n))}for(;F.brackets>0;){if(!0===i.strictBrackets)throw new SyntaxError(h("closing","]"));F.output=r.escapeLast(F.output,"["),J("brackets")}for(;F.parens>0;){if(!0===i.strictBrackets)throw new SyntaxError(h("closing",")"));F.output=r.escapeLast(F.output,"("),J("parens")}for(;F.braces>0;){if(!0===i.strictBrackets)throw new SyntaxError(h("closing","}"));F.output=r.escapeLast(F.output,"{"),J("braces")}if(!0===i.strictSlashes||"star"!==U.type&&"bracket"!==U.type||Z({type:"maybe_slash",value:"",output:`${k}?`}),!0===F.backtrack){F.output="";for(const t of F.tokens)F.output+=null!=t.output?t.output:t.value,t.suffix&&(F.output+=t.suffix)}return F};p.fastpaths=(t,e)=>{const i={...e},o="number"==typeof i.maxLength?Math.min(s,i.maxLength):s,a=t.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);t=c[t]||t;const l=r.isWindows(e),{DOT_LITERAL:u,SLASH_LITERAL:h,ONE_CHAR:p,DOTS_SLASH:f,NO_DOT:d,NO_DOTS:m,NO_DOTS_SLASH:g,STAR:y,START_ANCHOR:b}=n.globChars(l),_=i.dot?m:d,v=i.dot?g:d,w=i.capture?"":"?:";let x=!0===i.bash?".*?":y;i.capture&&(x=`(${x})`);const k=t=>!0===t.noglobstar?x:`(${w}(?:(?!${b}${t.dot?f:u}).)*?)`,E=t=>{switch(t){case"*":return`${_}${p}${x}`;case".*":return`${u}${p}${x}`;case"*.*":return`${_}${x}${u}${p}${x}`;case"*/*":return`${_}${x}${h}${p}${v}${x}`;case"**":return _+k(i);case"**/*":return`(?:${_}${k(i)}${h})?${v}${p}${x}`;case"**/*.*":return`(?:${_}${k(i)}${h})?${v}${x}${u}${p}${x}`;case"**/.*":return`(?:${_}${k(i)}${h})?${u}${p}${x}`;default:{const e=/^(.*?)\.(\w+)$/.exec(t);if(!e)return;const i=E(e[1]);if(!i)return;return i+u+e[2]}}},A=r.removePrefix(t,{negated:!1,prefix:""});let S=E(A);return S&&!0!==i.strictSlashes&&(S+=`${h}?`),S},t.exports=p},6675:(t,e,i)=>{"use strict";const n=i(6928),r=i(2608),s=i(1154),o=i(280),a=i(3940),l=(t,e,i=!1)=>{if(Array.isArray(t)){const n=t.map((t=>l(t,e,i))),r=t=>{for(const e of n){const i=e(t);if(i)return i}return!1};return r}const n=(r=t)&&"object"==typeof r&&!Array.isArray(r)&&t.tokens&&t.input;var r;if(""===t||"string"!=typeof t&&!n)throw new TypeError("Expected pattern to be a non-empty string");const s=e||{},a=o.isWindows(e),c=n?l.compileRe(t,e):l.makeRe(t,e,!1,!0),u=c.state;delete c.state;let h=()=>!1;if(s.ignore){const t={...e,ignore:null,onMatch:null,onResult:null};h=l(s.ignore,t,i)}const p=(i,n=!1)=>{const{isMatch:r,match:o,output:p}=l.test(i,c,e,{glob:t,posix:a}),f={glob:t,state:u,regex:c,posix:a,input:i,output:p,match:o,isMatch:r};return"function"==typeof s.onResult&&s.onResult(f),!1===r?(f.isMatch=!1,!!n&&f):h(i)?("function"==typeof s.onIgnore&&s.onIgnore(f),f.isMatch=!1,!!n&&f):("function"==typeof s.onMatch&&s.onMatch(f),!n||f)};return i&&(p.state=u),p};l.test=(t,e,i,{glob:n,posix:r}={})=>{if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(""===t)return{isMatch:!1,output:""};const s=i||{},a=s.format||(r?o.toPosixSlashes:null);let c=t===n,u=c&&a?a(t):t;return!1===c&&(u=a?a(t):t,c=u===n),!1!==c&&!0!==s.capture||(c=!0===s.matchBase||!0===s.basename?l.matchBase(t,e,i,r):e.exec(u)),{isMatch:Boolean(c),match:c,output:u}},l.matchBase=(t,e,i,r=o.isWindows(i))=>(e instanceof RegExp?e:l.makeRe(e,i)).test(n.basename(t)),l.isMatch=(t,e,i)=>l(e,i)(t),l.parse=(t,e)=>Array.isArray(t)?t.map((t=>l.parse(t,e))):s(t,{...e,fastpaths:!1}),l.scan=(t,e)=>r(t,e),l.compileRe=(t,e,i=!1,n=!1)=>{if(!0===i)return t.output;const r=e||{},s=r.contains?"":"^",o=r.contains?"":"$";let a=`${s}(?:${t.output})${o}`;t&&!0===t.negated&&(a=`^(?!${a}).*$`);const c=l.toRegex(a,e);return!0===n&&(c.state=t),c},l.makeRe=(t,e={},i=!1,n=!1)=>{if(!t||"string"!=typeof t)throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return!1===e.fastpaths||"."!==t[0]&&"*"!==t[0]||(r.output=s.fastpaths(t,e)),r.output||(r=s(t,e)),l.compileRe(r,e,i,n)},l.toRegex=(t,e)=>{try{const i=e||{};return new RegExp(t,i.flags||(i.nocase?"i":""))}catch(t){if(e&&!0===e.debug)throw t;return/$^/}},l.constants=a,t.exports=l},2608:(t,e,i)=>{"use strict";const n=i(280),{CHAR_ASTERISK:r,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:l,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:h,CHAR_LEFT_PARENTHESES:p,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:d,CHAR_QUESTION_MARK:m,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=i(3940),_=t=>t===u||t===o,v=t=>{!0!==t.isPrefix&&(t.depth=t.isGlobstar?1/0:1)};t.exports=(t,e)=>{const i=e||{},w=t.length-1,x=!0===i.parts||!0===i.scanToEnd,k=[],E=[],A=[];let S,O,T=t,C=-1,N=0,I=0,L=!1,R=!1,D=!1,M=!1,P=!1,F=!1,j=!1,B=!1,$=!1,z=!1,U=0,q={value:"",depth:0,isGlob:!1};const G=()=>C>=w,V=()=>(S=O,T.charCodeAt(++C));for(;C<w;){let t;if(O=V(),O!==o){if(!0===F||O===h){for(U++;!0!==G()&&(O=V());)if(O!==o)if(O!==h){if(!0!==F&&O===l&&(O=V())===l){if(L=q.isBrace=!0,D=q.isGlob=!0,z=!0,!0===x)continue;break}if(!0!==F&&O===a){if(L=q.isBrace=!0,D=q.isGlob=!0,z=!0,!0===x)continue;break}if(O===g&&(U--,0===U)){F=!1,L=q.isBrace=!0,z=!0;break}}else U++;else j=q.backslashes=!0,V();if(!0===x)continue;break}if(O!==u){if(!0!==i.noext&&!0==(O===d||O===s||O===r||O===m||O===c)&&T.charCodeAt(C+1)===p){if(D=q.isGlob=!0,M=q.isExtglob=!0,z=!0,O===c&&C===N&&($=!0),!0===x){for(;!0!==G()&&(O=V());)if(O!==o){if(O===y){D=q.isGlob=!0,z=!0;break}}else j=q.backslashes=!0,O=V();continue}break}if(O===r){if(S===r&&(P=q.isGlobstar=!0),D=q.isGlob=!0,z=!0,!0===x)continue;break}if(O===m){if(D=q.isGlob=!0,z=!0,!0===x)continue;break}if(O===f){for(;!0!==G()&&(t=V());)if(t!==o){if(t===b){R=q.isBracket=!0,D=q.isGlob=!0,z=!0;break}}else j=q.backslashes=!0,V();if(!0===x)continue;break}if(!0===i.nonegate||O!==c||C!==N){if(!0!==i.noparen&&O===p){if(D=q.isGlob=!0,!0===x){for(;!0!==G()&&(O=V());)if(O!==p){if(O===y){z=!0;break}}else j=q.backslashes=!0,O=V();continue}break}if(!0===D){if(z=!0,!0===x)continue;break}}else B=q.negated=!0,N++}else{if(k.push(C),E.push(q),q={value:"",depth:0,isGlob:!1},!0===z)continue;if(S===l&&C===N+1){N+=2;continue}I=C+1}}else j=q.backslashes=!0,O=V(),O===h&&(F=!0)}!0===i.noext&&(M=!1,D=!1);let H=T,W="",K="";N>0&&(W=T.slice(0,N),T=T.slice(N),I-=N),H&&!0===D&&I>0?(H=T.slice(0,I),K=T.slice(I)):!0===D?(H="",K=T):H=T,H&&""!==H&&"/"!==H&&H!==T&&_(H.charCodeAt(H.length-1))&&(H=H.slice(0,-1)),!0===i.unescape&&(K&&(K=n.removeBackslashes(K)),H&&!0===j&&(H=n.removeBackslashes(H)));const X={prefix:W,input:t,start:N,base:H,glob:K,isBrace:L,isBracket:R,isGlob:D,isExtglob:M,isGlobstar:P,negated:B,negatedExtglob:$};if(!0===i.tokens&&(X.maxDepth=0,_(O)||E.push(q),X.tokens=E),!0===i.parts||!0===i.tokens){let e;for(let n=0;n<k.length;n++){const r=e?e+1:N,s=k[n],o=t.slice(r,s);i.tokens&&(0===n&&0!==N?(E[n].isPrefix=!0,E[n].value=W):E[n].value=o,v(E[n]),X.maxDepth+=E[n].depth),0===n&&""===o||A.push(o),e=s}if(e&&e+1<t.length){const n=t.slice(e+1);A.push(n),i.tokens&&(E[E.length-1].value=n,v(E[E.length-1]),X.maxDepth+=E[E.length-1].depth)}X.slashes=k,X.parts=A}return X}},280:(t,e,i)=>{"use strict";const n=i(6928),r="win32"===process.platform,{REGEX_BACKSLASH:s,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:l}=i(3940);e.isObject=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),e.hasRegexChars=t=>a.test(t),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=t=>t.replace(l,"\\$1"),e.toPosixSlashes=t=>t.replace(s,"/"),e.removeBackslashes=t=>t.replace(o,(t=>"\\"===t?"":t)),e.supportsLookbehinds=()=>{const t=process.version.slice(1).split(".").map(Number);return 3===t.length&&t[0]>=9||8===t[0]&&t[1]>=10},e.isWindows=t=>t&&"boolean"==typeof t.windows?t.windows:!0===r||"\\"===n.sep,e.escapeLast=(t,i,n)=>{const r=t.lastIndexOf(i,n);return-1===r?t:"\\"===t[r-1]?e.escapeLast(t,i,r-1):`${t.slice(0,r)}\\${t.slice(r)}`},e.removePrefix=(t,e={})=>{let i=t;return i.startsWith("./")&&(i=i.slice(2),e.prefix="./"),i},e.wrapOutput=(t,e={},i={})=>{let n=`${i.contains?"":"^"}(?:${t})${i.contains?"":"$"}`;return!0===e.negated&&(n=`(?:^(?!${n}).*$)`),n}},9084:(t,e,i)=>{"use strict";const n=i(9896),{Readable:r}=i(2203),s=i(6928),{promisify:o}=i(9023),a=i(5157),l=o(n.readdir),c=o(n.stat),u=o(n.lstat),h=o(n.realpath),p="READDIRP_RECURSIVE_ERROR",f=new Set(["ENOENT","EPERM","EACCES","ELOOP",p]),d="files",m="directories",g="files_directories",y="all",b=[d,m,g,y],[_,v]=process.versions.node.split(".").slice(0,2).map((t=>Number.parseInt(t,10))),w="win32"===process.platform&&(_>10||10===_&&v>=5),x=t=>{if(void 0!==t){if("function"==typeof t)return t;if("string"==typeof t){const e=a(t.trim());return t=>e(t.basename)}if(Array.isArray(t)){const e=[],i=[];for(const n of t){const t=n.trim();"!"===t.charAt(0)?i.push(a(t.slice(1))):e.push(a(t))}return i.length>0?e.length>0?t=>e.some((e=>e(t.basename)))&&!i.some((e=>e(t.basename))):t=>!i.some((e=>e(t.basename))):t=>e.some((e=>e(t.basename)))}}};class k extends r{static get defaultOptions(){return{root:".",fileFilter:t=>!0,directoryFilter:t=>!0,type:d,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(t={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:t.highWaterMark||4096});const e={...k.defaultOptions,...t},{root:i,type:r}=e;this._fileFilter=x(e.fileFilter),this._directoryFilter=x(e.directoryFilter);const o=e.lstat?u:c;this._stat=w?t=>o(t,{bigint:!0}):o,this._maxDepth=e.depth,this._wantsDir=[m,g,y].includes(r),this._wantsFile=[d,g,y].includes(r),this._wantsEverything=r===y,this._root=s.resolve(i),this._isDirent="Dirent"in n&&!e.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(i,1)],this.reading=!1,this.parent=void 0}async _read(t){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&t>0;){const{path:e,depth:i,files:n=[]}=this.parent||{};if(n.length>0){const r=n.splice(0,t).map((t=>this._formatEntry(t,e)));for(const e of await Promise.all(r)){if(this.destroyed)return;const n=await this._getEntryType(e);"directory"===n&&this._directoryFilter(e)?(i<=this._maxDepth&&this.parents.push(this._exploreDir(e.fullPath,i+1)),this._wantsDir&&(this.push(e),t--)):("file"===n||this._includeAsFile(e))&&this._fileFilter(e)&&this._wantsFile&&(this.push(e),t--)}}else{const t=this.parents.pop();if(!t){this.push(null);break}if(this.parent=await t,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}}async _exploreDir(t,e){let i;try{i=await l(t,this._rdOptions)}catch(t){this._onError(t)}return{files:i,depth:e,path:t}}async _formatEntry(t,e){let i;try{const n=this._isDirent?t.name:t,r=s.resolve(s.join(e,n));i={path:s.relative(this._root,r),fullPath:r,basename:n},i[this._statsProp]=this._isDirent?t:await this._stat(r)}catch(t){this._onError(t)}return i}_onError(t){var e;e=t,f.has(e.code)&&!this.destroyed?this.emit("warn",t):this.destroy(t)}async _getEntryType(t){const e=t&&t[this._statsProp];if(e){if(e.isFile())return"file";if(e.isDirectory())return"directory";if(e&&e.isSymbolicLink()){const e=t.fullPath;try{const t=await h(e),i=await u(t);if(i.isFile())return"file";if(i.isDirectory()){const i=t.length;if(e.startsWith(t)&&e.substr(i,1)===s.sep){const i=new Error(`Circular symlink detected: "${e}" points to "${t}"`);return i.code=p,this._onError(i)}return"directory"}}catch(t){this._onError(t)}}}}_includeAsFile(t){const e=t&&t[this._statsProp];return e&&this._wantsEverything&&!e.isDirectory()}}const E=(t,e={})=>{let i=e.entryType||e.type;if("both"===i&&(i=g),i&&(e.type=i),!t)throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");if("string"!=typeof t)throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(i&&!b.includes(i))throw new Error(`readdirp: Invalid type passed. Use one of ${b.join(", ")}`);return e.root=t,new k(e)};E.promise=(t,e={})=>new Promise(((i,n)=>{const r=[];E(t,e).on("data",(t=>r.push(t))).on("end",(()=>i(r))).on("error",(t=>n(t)))})),E.ReaddirpStream=k,E.default=E,t.exports=E},2495:function(t){var e;e=function(){var t=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","Â¢":"cent","Â£":"pound","Â¤":"currency","Â¥":"yen","Â©":"(c)","Âª":"a","Â®":"(r)","Âº":"o","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"AE","Ã":"C","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã":"D","Ã":"N","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã":"Y","Ã":"TH","Ã":"ss","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã¦":"ae","Ã§":"c","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã°":"d","Ã±":"n","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã½":"y","Ã¾":"th","Ã¿":"y","Ä":"A","Ä":"a","Ä":"A","Ä":"a","Ä":"A","Ä":"a","Ä":"C","Ä":"c","Ä":"C","Ä":"c","Ä":"D","Ä":"d","Ä":"DJ","Ä":"dj","Ä":"E","Ä":"e","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"E","Ä":"e","Ä":"G","Ä":"g","Ä¢":"G","Ä£":"g","Ä¨":"I","Ä©":"i","Äª":"i","Ä«":"i","Ä®":"I","Ä¯":"i","Ä°":"I","Ä±":"i","Ä¶":"k","Ä·":"k","Ä»":"L","Ä¼":"l","Ä½":"L","Ä¾":"l","Å":"L","Å":"l","Å":"N","Å":"n","Å":"N","Å":"n","Å":"N","Å":"n","Å":"O","Å":"o","Å":"O","Å":"o","Å":"OE","Å":"oe","Å":"R","Å":"r","Å":"R","Å":"r","Å":"S","Å":"s","Å":"S","Å":"s","Å ":"S","Å¡":"s","Å¢":"T","Å£":"t","Å¤":"T","Å¥":"t","Å¨":"U","Å©":"u","Åª":"u","Å«":"u","Å®":"U","Å¯":"u","Å°":"U","Å±":"u","Å²":"U","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Åº":"z","Å»":"Z","Å¼":"z","Å½":"Z","Å¾":"z","Æ":"E","Æ":"f","Æ ":"O","Æ¡":"o","Æ¯":"U","Æ°":"u","Ç":"LJ","Ç":"lj","Ç":"NJ","Ç":"nj","È":"S","È":"s","È":"T","È":"t","É":"e","Ë":"o","Î":"A","Î":"E","Î":"H","Î":"I","Î":"O","Î":"Y","Î":"W","Î":"i","Î":"A","Î":"B","Î":"G","Î":"D","Î":"E","Î":"Z","Î":"H","Î":"8","Î":"I","Î":"K","Î":"L","Î":"M","Î":"N","Î":"3","Î":"O","Î ":"P","Î¡":"R","Î£":"S","Î¤":"T","Î¥":"Y","Î¦":"F","Î§":"X","Î¨":"PS","Î©":"W","Îª":"I","Î«":"Y","Î¬":"a","Î­":"e","Î®":"h","Î¯":"i","Î°":"y","Î±":"a","Î²":"b","Î³":"g","Î´":"d","Îµ":"e","Î¶":"z","Î·":"h","Î¸":"8","Î¹":"i","Îº":"k","Î»":"l","Î¼":"m","Î½":"n","Î¾":"3","Î¿":"o","Ï":"p","Ï":"r","Ï":"s","Ï":"s","Ï":"t","Ï":"y","Ï":"f","Ï":"x","Ï":"ps","Ï":"w","Ï":"i","Ï":"y","Ï":"o","Ï":"y","Ï":"w","Ð":"Yo","Ð":"DJ","Ð":"Ye","Ð":"I","Ð":"Yi","Ð":"J","Ð":"LJ","Ð":"NJ","Ð":"C","Ð":"DZ","Ð":"A","Ð":"B","Ð":"V","Ð":"G","Ð":"D","Ð":"E","Ð":"Zh","Ð":"Z","Ð":"I","Ð":"J","Ð":"K","Ð":"L","Ð":"M","Ð":"N","Ð":"O","Ð":"P","Ð ":"R","Ð¡":"S","Ð¢":"T","Ð£":"U","Ð¤":"F","Ð¥":"H","Ð¦":"C","Ð§":"Ch","Ð¨":"Sh","Ð©":"Sh","Ðª":"U","Ð«":"Y","Ð¬":"","Ð­":"E","Ð®":"Yu","Ð¯":"Ya","Ð°":"a","Ð±":"b","Ð²":"v","Ð³":"g","Ð´":"d","Ðµ":"e","Ð¶":"zh","Ð·":"z","Ð¸":"i","Ð¹":"j","Ðº":"k","Ð»":"l","Ð¼":"m","Ð½":"n","Ð¾":"o","Ð¿":"p","Ñ":"r","Ñ":"s","Ñ":"t","Ñ":"u","Ñ":"f","Ñ":"h","Ñ":"c","Ñ":"ch","Ñ":"sh","Ñ":"sh","Ñ":"u","Ñ":"y","Ñ":"","Ñ":"e","Ñ":"yu","Ñ":"ya","Ñ":"yo","Ñ":"dj","Ñ":"ye","Ñ":"i","Ñ":"yi","Ñ":"j","Ñ":"lj","Ñ":"nj","Ñ":"c","Ñ":"u","Ñ":"dz","Ò":"G","Ò":"g","Ò":"GH","Ò":"gh","Ò":"KH","Ò":"kh","Ò¢":"NG","Ò£":"ng","Ò®":"UE","Ò¯":"ue","Ò°":"U","Ò±":"u","Òº":"H","Ò»":"h","Ó":"AE","Ó":"ae","Ó¨":"OE","Ó©":"oe","Ô±":"A","Ô²":"B","Ô³":"G","Ô´":"D","Ôµ":"E","Ô¶":"Z","Ô·":"E\'","Ô¸":"Y\'","Ô¹":"T\'","Ôº":"JH","Ô»":"I","Ô¼":"L","Ô½":"X","Ô¾":"C\'","Ô¿":"K","Õ":"H","Õ":"D\'","Õ":"GH","Õ":"TW","Õ":"M","Õ":"Y","Õ":"N","Õ":"SH","Õ":"CH","Õ":"P","Õ":"J","Õ":"R\'","Õ":"S","Õ":"V","Õ":"T","Õ":"R","Õ":"C","Õ":"P\'","Õ":"Q\'","Õ":"O\'\'","Õ":"F","Ö":"EV","Ø¡":"a","Ø¢":"aa","Ø£":"a","Ø¤":"u","Ø¥":"i","Ø¦":"e","Ø§":"a","Ø¨":"b","Ø©":"h","Øª":"t","Ø«":"th","Ø¬":"j","Ø­":"h","Ø®":"kh","Ø¯":"d","Ø°":"th","Ø±":"r","Ø²":"z","Ø³":"s","Ø´":"sh","Øµ":"s","Ø¶":"dh","Ø·":"t","Ø¸":"z","Ø¹":"a","Øº":"gh","Ù":"f","Ù":"q","Ù":"k","Ù":"l","Ù":"m","Ù":"n","Ù":"h","Ù":"w","Ù":"a","Ù":"y","Ù":"an","Ù":"on","Ù":"en","Ù":"a","Ù":"u","Ù":"e","Ù":"","Ù ":"0","Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Ù¾":"p","Ú":"ch","Ú":"zh","Ú©":"k","Ú¯":"g","Û":"y","Û°":"0","Û±":"1","Û²":"2","Û³":"3","Û´":"4","Ûµ":"5","Û¶":"6","Û·":"7","Û¸":"8","Û¹":"9","à¸¿":"baht","á":"a","á":"b","á":"g","á":"d","á":"e","á":"v","á":"z","á":"t","á":"i","á":"k","á":"l","á":"m","á":"n","á":"o","á":"p","á":"zh","á ":"r","á¡":"s","á¢":"t","á£":"u","á¤":"f","á¥":"k","á¦":"gh","á§":"q","á¨":"sh","á©":"ch","áª":"ts","á«":"dz","á¬":"ts","á­":"ch","á®":"kh","á¯":"j","á°":"h","á¹¢":"S","á¹£":"s","áº":"W","áº":"w","áº":"W","áº":"w","áº":"W","áº":"w","áº":"SS","áº ":"A","áº¡":"a","áº¢":"A","áº£":"a","áº¤":"A","áº¥":"a","áº¦":"A","áº§":"a","áº¨":"A","áº©":"a","áºª":"A","áº«":"a","áº¬":"A","áº­":"a","áº®":"A","áº¯":"a","áº°":"A","áº±":"a","áº²":"A","áº³":"a","áº´":"A","áºµ":"a","áº¶":"A","áº·":"a","áº¸":"E","áº¹":"e","áºº":"E","áº»":"e","áº¼":"E","áº½":"e","áº¾":"E","áº¿":"e","á»":"E","á»":"e","á»":"E","á»":"e","á»":"E","á»":"e","á»":"E","á»":"e","á»":"I","á»":"i","á»":"I","á»":"i","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á» ":"O","á»¡":"o","á»¢":"O","á»£":"o","á»¤":"U","á»¥":"u","á»¦":"U","á»§":"u","á»¨":"U","á»©":"u","á»ª":"U","á»«":"u","á»¬":"U","á»­":"u","á»®":"U","á»¯":"u","á»°":"U","á»±":"u","á»²":"Y","á»³":"y","á»´":"Y","á»µ":"y","á»¶":"Y","á»·":"y","á»¸":"Y","á»¹":"y","â":"-","â":"\'","â":"\'","â":"\\"","â":"\\"","â":"\\"","â ":"+","â¢":"*","â¦":"...","â ":"ecu","â¢":"cruzeiro","â£":"french franc","â¤":"lira","â¥":"mill","â¦":"naira","â§":"peseta","â¨":"rupee","â©":"won","âª":"new shequel","â«":"dong","â¬":"euro","â­":"kip","â®":"tugrik","â¯":"drachma","â°":"penny","â±":"peso","â²":"guarani","â³":"austral","â´":"hryvnia","âµ":"cedi","â¸":"kazakhstani tenge","â¹":"indian rupee","âº":"turkish lira","â½":"russian ruble","â¿":"bitcoin","â ":"sm","â¢":"tm","â":"d","â":"delta","â":"sum","â":"infinity","â¥":"love","å":"yuan","å":"yen","ï·¼":"rial","ï»µ":"laa","ï»·":"laa","ï»¹":"lai","ï»»":"la"}'),e=JSON.parse('{"bg":{"Ð":"Y","Ð¦":"Ts","Ð©":"Sht","Ðª":"A","Ð¬":"Y","Ð¹":"y","Ñ":"ts","Ñ":"sht","Ñ":"a","Ñ":"y"},"de":{"Ã":"AE","Ã¤":"ae","Ã":"OE","Ã¶":"oe","Ã":"UE","Ã¼":"ue","Ã":"ss","%":"prozent","&":"und","|":"oder","â":"summe","â":"unendlich","â¥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","Â¢":"centavos","Â£":"libras","Â¤":"moneda","â£":"francos","â":"suma","â":"infinito","â¥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","Â¢":"centime","Â£":"livre","Â¤":"devise","â£":"franc","â":"somme","â":"infini","â¥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","Â¢":"centavo","â":"soma","Â£":"libra","â":"infinito","â¥":"amor"},"uk":{"Ð":"Y","Ð¸":"y","Ð":"Y","Ð¹":"y","Ð¦":"Ts","Ñ":"ts","Ð¥":"Kh","Ñ":"kh","Ð©":"Shch","Ñ":"shch","Ð":"H","Ð³":"h"},"vi":{"Ä":"D","Ä":"d"},"da":{"Ã":"OE","Ã¸":"oe","Ã":"AA","Ã¥":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"stÃ¸rre end"},"nb":{"&":"og","Ã":"AA","Ã":"AE","Ã":"OE","Ã¥":"aa","Ã¦":"ae","Ã¸":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Ã":"AA","Ã":"AE","Ã":"OE","Ã¥":"aa","Ã¤":"ae","Ã¶":"oe"}}');function i(i,n){if("string"!=typeof i)throw new Error("slugify: string argument expected");var r=e[(n="string"==typeof n?{replacement:n}:n||{}).locale]||{},s=void 0===n.replacement?"-":n.replacement,o=void 0===n.trim||n.trim,a=i.normalize().split("").reduce((function(e,i){var o=r[i];return void 0===o&&(o=t[i]),void 0===o&&(o=i),o===s&&(o=" "),e+o.replace(n.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"");return n.strict&&(a=a.replace(/[^A-Za-z0-9\s]/g,"")),o&&(a=a.trim()),a=a.replace(/\s+/g,s),n.lower&&(a=a.toLowerCase()),a}return i.extend=function(e){Object.assign(t,e)},i},t.exports=e(),t.exports.default=e()},54:(t,e,i)=>{"use strict";const n=i(1929),r=(t,e,i)=>{if(!1===n(t))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===e||t===e)return String(t);if(!1===n(e))throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...i};"boolean"==typeof s.strictZeros&&(s.relaxZeros=!1===s.strictZeros);let l=t+":"+e+"="+String(s.relaxZeros)+String(s.shorthand)+String(s.capture)+String(s.wrap);if(r.cache.hasOwnProperty(l))return r.cache[l].result;let c=Math.min(t,e),u=Math.max(t,e);if(1===Math.abs(c-u)){let i=t+"|"+e;return s.capture?`(${i})`:!1===s.wrap?i:`(?:${i})`}let h=f(t)||f(e),p={min:t,max:e,a:c,b:u},d=[],m=[];return h&&(p.isPadded=h,p.maxLen=String(p.max).length),c<0&&(m=o(u<0?Math.abs(u):1,Math.abs(c),p,s),c=p.a=0),u>=0&&(d=o(c,u,p,s)),p.negatives=m,p.positives=d,p.result=function(t,e,i){let n=a(t,e,"-",!1)||[],r=a(e,t,"",!1)||[],s=a(t,e,"-?",!0)||[];return n.concat(s).concat(r).join("|")}(m,d),!0===s.capture?p.result=`(${p.result})`:!1!==s.wrap&&d.length+m.length>1&&(p.result=`(?:${p.result})`),r.cache[l]=p,p.result};function s(t,e,i){if(t===e)return{pattern:t,count:[],digits:0};let n=function(t,e){let i=[];for(let n=0;n<t.length;n++)i.push([t[n],e[n]]);return i}(t,e),r=n.length,s="",o=0;for(let t=0;t<r;t++){let[e,i]=n[t];e===i?s+=e:"0"!==e||"9"!==i?s+=`[${a=e}${(l=i)-a==1?"":"-"}${l}]`:o++}var a,l;return o&&(s+=!0===i.shorthand?"\\d":"[0-9]"),{pattern:s,count:[o],digits:r}}function o(t,e,i,n){let r,o=function(t,e){let i=1,n=1,r=u(t,i),s=new Set([e]);for(;t<=r&&r<=e;)s.add(r),i+=1,r=u(t,i);for(r=h(e+1,n)-1;t<r&&r<=e;)s.add(r),n+=1,r=h(e+1,n)-1;return s=[...s],s.sort(l),s}(t,e),a=[],c=t;for(let t=0;t<o.length;t++){let e=o[t],l=s(String(c),String(e),n),u="";i.isPadded||!r||r.pattern!==l.pattern?(i.isPadded&&(u=d(e,i,n)),l.string=u+l.pattern+p(l.count),a.push(l),c=e+1,r=l):(r.count.length>1&&r.count.pop(),r.count.push(l.count[0]),r.string=r.pattern+p(r.count),c=e+1)}return a}function a(t,e,i,n,r){let s=[];for(let r of t){let{string:t}=r;n||c(e,"string",t)||s.push(i+t),n&&c(e,"string",t)&&s.push(i+t)}return s}function l(t,e){return t>e?1:e>t?-1:0}function c(t,e,i){return t.some((t=>t[e]===i))}function u(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function h(t,e){return t-t%Math.pow(10,e)}function p(t){let[e=0,i=""]=t;return i||e>1?`{${e+(i?","+i:"")}}`:""}function f(t){return/^-?(0+)\d/.test(t)}function d(t,e,i){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),r=!1!==i.relaxZeros;switch(n){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${n}}`:`0{${n}}`}}r.cache={},r.clearCache=()=>r.cache={},t.exports=r},5317:t=>{"use strict";t.exports=require("child_process")},3167:t=>{"use strict";t.exports=require("domain")},4434:t=>{"use strict";t.exports=require("events")},9896:t=>{"use strict";t.exports=require("fs")},857:t=>{"use strict";t.exports=require("os")},6928:t=>{"use strict";t.exports=require("path")},932:t=>{"use strict";t.exports=require("process")},2203:t=>{"use strict";t.exports=require("stream")},9023:t=>{"use strict";t.exports=require("util")},2116:(t,e,i)=>{const{Argument:n}=i(9297),{Command:r}=i(3749),{CommanderError:s,InvalidArgumentError:o}=i(3666),{Help:a}=i(3693),{Option:l}=i(5019);e.DM=new r,e.gu=t=>new r(t),e.Ww=(t,e)=>new l(t,e),e.er=(t,e)=>new n(t,e),e.uB=r,e.c$=l,e.ef=n,e._V=a,e.b7=s,e.Di=o,e.a2=o},9297:(t,e,i)=>{const{InvalidArgumentError:n}=i(3666);e.Argument=class{constructor(t,e){switch(this.description=e||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t}this._name.length>3&&"..."===this._name.slice(-3)&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new n(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}},e.humanReadableArgName=function(t){const e=t.name()+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"}},3749:(t,e,i)=>{const n=i(4434).EventEmitter,r=i(5317),s=i(6928),o=i(9896),a=i(932),{Argument:l,humanReadableArgName:c}=i(9297),{CommanderError:u}=i(3666),{Help:h}=i(3693),{Option:p,DualOptions:f}=i(5019),{suggestSimilar:d}=i(7369);class m extends n{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>a.stdout.write(t),writeErr:t=>a.stderr.write(t),getOutHelpWidth:()=>a.stdout.isTTY?a.stdout.columns:void 0,getErrHelpWidth:()=>a.stderr.isTTY?a.stderr.columns:void 0,outputError:(t,e)=>e(t)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._helpOption=t._helpOption,this._helpCommand=t._helpCommand,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){const t=[];for(let e=this;e;e=e.parent)t.push(e);return t}command(t,e,i){let n=e,r=i;"object"==typeof n&&null!==n&&(r=n,n=null),r=r||{};const[,s,o]=t.match(/([^ ]+) *(.*)/),a=this.createCommand(s);return n&&(a.description(n),a._executableHandler=!0),r.isDefault&&(this._defaultCommandName=a._name),a._hidden=!(!r.noHelp&&!r.hidden),a._executableFile=r.executableFile||null,o&&a.arguments(o),this._registerCommand(a),a.parent=this,a.copyInheritedSettings(this),n?this:a}createCommand(t){return new m(t)}createHelp(){return Object.assign(new h,this.configureHelp())}configureHelp(t){return void 0===t?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return void 0===t?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return"string"!=typeof t&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,e){if(!t._name)throw new Error("Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()");return(e=e||{}).isDefault&&(this._defaultCommandName=t._name),(e.noHelp||e.hidden)&&(t._hidden=!0),this._registerCommand(t),t.parent=this,t._checkForBrokenPassThrough(),this}createArgument(t,e){return new l(t,e)}argument(t,e,i,n){const r=this.createArgument(t,e);return"function"==typeof i?r.default(n).argParser(i):r.default(i),this.addArgument(r),this}arguments(t){return t.trim().split(/ +/).forEach((t=>{this.argument(t)})),this}addArgument(t){const e=this.registeredArguments.slice(-1)[0];if(e&&e.variadic)throw new Error(`only the last argument can be variadic '${e.name()}'`);if(t.required&&void 0!==t.defaultValue&&void 0===t.parseArg)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}helpCommand(t,e){if("boolean"==typeof t)return this._addImplicitHelpCommand=t,this;t=t??"help [command]";const[,i,n]=t.match(/([^ ]+) *(.*)/),r=e??"display help for command",s=this.createCommand(i);return s.helpOption(!1),n&&s.arguments(n),r&&s.description(r),this._addImplicitHelpCommand=!0,this._helpCommand=s,this}addHelpCommand(t,e){return"object"!=typeof t?(this.helpCommand(t,e),this):(this._addImplicitHelpCommand=!0,this._helpCommand=t,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(void 0===this._helpCommand&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(t,e){const i=["preSubcommand","preAction","postAction"];if(!i.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.\nExpecting one of '${i.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(e):this._lifeCycleHooks[t]=[e],this}exitOverride(t){return this._exitCallback=t||(t=>{if("commander.executeSubCommandAsync"!==t.code)throw t}),this}_exit(t,e,i){this._exitCallback&&this._exitCallback(new u(t,e,i)),a.exit(t)}action(t){return this._actionHandler=e=>{const i=this.registeredArguments.length,n=e.slice(0,i);return this._storeOptionsAsProperties?n[i]=this:n[i]=this.opts(),n.push(this),t.apply(this,n)},this}createOption(t,e){return new p(t,e)}_callParseArg(t,e,i,n){try{return t.parseArg(e,i)}catch(t){if("commander.invalidArgument"===t.code){const e=`${n} ${t.message}`;this.error(e,{exitCode:t.exitCode,code:t.code})}throw t}}_registerOption(t){const e=t.short&&this._findOption(t.short)||t.long&&this._findOption(t.long);if(e){const i=t.long&&this._findOption(t.long)?t.long:t.short;throw new Error(`Cannot add option '${t.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${i}'\n-  already used by option '${e.flags}'`)}this.options.push(t)}_registerCommand(t){const e=t=>[t.name()].concat(t.aliases()),i=e(t).find((t=>this._findCommand(t)));if(i){const n=e(this._findCommand(i)).join("|"),r=e(t).join("|");throw new Error(`cannot add command '${r}' as already have command '${n}'`)}this.commands.push(t)}addOption(t){this._registerOption(t);const e=t.name(),i=t.attributeName();if(t.negate){const e=t.long.replace(/^--no-/,"--");this._findOption(e)||this.setOptionValueWithSource(i,void 0===t.defaultValue||t.defaultValue,"default")}else void 0!==t.defaultValue&&this.setOptionValueWithSource(i,t.defaultValue,"default");const n=(e,n,r)=>{null==e&&void 0!==t.presetArg&&(e=t.presetArg);const s=this.getOptionValue(i);null!==e&&t.parseArg?e=this._callParseArg(t,e,s,n):null!==e&&t.variadic&&(e=t._concatValue(e,s)),null==e&&(e=!t.negate&&(!(!t.isBoolean()&&!t.optional)||"")),this.setOptionValueWithSource(i,e,r)};return this.on("option:"+e,(e=>{const i=`error: option '${t.flags}' argument '${e}' is invalid.`;n(e,i,"cli")})),t.envVar&&this.on("optionEnv:"+e,(e=>{const i=`error: option '${t.flags}' value '${e}' from env '${t.envVar}' is invalid.`;n(e,i,"env")})),this}_optionEx(t,e,i,n,r){if("object"==typeof e&&e instanceof p)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const s=this.createOption(e,i);if(s.makeOptionMandatory(!!t.mandatory),"function"==typeof n)s.default(r).argParser(n);else if(n instanceof RegExp){const t=n;n=(e,i)=>{const n=t.exec(e);return n?n[0]:i},s.default(r).argParser(n)}else s.default(n);return this.addOption(s)}option(t,e,i,n){return this._optionEx({},t,e,i,n)}requiredOption(t,e,i,n){return this._optionEx({mandatory:!0},t,e,i,n)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){return this._passThroughOptions=!!t,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,e){return this.setOptionValueWithSource(t,e,void 0)}setOptionValueWithSource(t,e,i){return this._storeOptionsAsProperties?this[t]=e:this._optionValues[t]=e,this._optionValueSources[t]=i,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let e;return this._getCommandAndAncestors().forEach((i=>{void 0!==i.getOptionValueSource(t)&&(e=i.getOptionValueSource(t))})),e}_prepareUserArgs(t,e){if(void 0!==t&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");let i;switch(e=e||{},void 0===t&&(t=a.argv,a.versions&&a.versions.electron&&(e.from="electron")),this.rawArgs=t.slice(),e.from){case void 0:case"node":this._scriptPath=t[1],i=t.slice(2);break;case"electron":a.defaultApp?(this._scriptPath=t[1],i=t.slice(2)):i=t.slice(1);break;case"user":i=t.slice(0);break;default:throw new Error(`unexpected parse option { from: '${e.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",i}parse(t,e){const i=this._prepareUserArgs(t,e);return this._parseCommand([],i),this}async parseAsync(t,e){const i=this._prepareUserArgs(t,e);return await this._parseCommand([],i),this}_executeSubCommand(t,e){e=e.slice();let i=!1;const n=[".js",".ts",".tsx",".mjs",".cjs"];function l(t,e){const i=s.resolve(t,e);if(o.existsSync(i))return i;if(n.includes(s.extname(e)))return;const r=n.find((t=>o.existsSync(`${i}${t}`)));return r?`${i}${r}`:void 0}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let c,h=t._executableFile||`${this._name}-${t._name}`,p=this._executableDir||"";if(this._scriptPath){let t;try{t=o.realpathSync(this._scriptPath)}catch(e){t=this._scriptPath}p=s.resolve(s.dirname(t),p)}if(p){let e=l(p,h);if(!e&&!t._executableFile&&this._scriptPath){const i=s.basename(this._scriptPath,s.extname(this._scriptPath));i!==this._name&&(e=l(p,`${i}-${t._name}`))}h=e||h}i=n.includes(s.extname(h)),"win32"!==a.platform?i?(e.unshift(h),e=g(a.execArgv).concat(e),c=r.spawn(a.argv[0],e,{stdio:"inherit"})):c=r.spawn(h,e,{stdio:"inherit"}):(e.unshift(h),e=g(a.execArgv).concat(e),c=r.spawn(a.execPath,e,{stdio:"inherit"})),c.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((t=>{a.on(t,(()=>{!1===c.killed&&null===c.exitCode&&c.kill(t)}))}));const f=this._exitCallback;c.on("close",((t,e)=>{t=t??1,f?f(new u(t,"commander.executeSubCommandAsync","(close)")):a.exit(t)})),c.on("error",(e=>{if("ENOENT"===e.code){const e=p?`searched for local subcommand relative to directory '${p}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",i=`'${h}' does not exist\n - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${e}`;throw new Error(i)}if("EACCES"===e.code)throw new Error(`'${h}' not executable`);if(f){const t=new u(1,"commander.executeSubCommandAsync","(error)");t.nestedError=e,f(t)}else a.exit(1)})),this.runningCommand=c}_dispatchSubcommand(t,e,i){const n=this._findCommand(t);let r;return n||this.help({error:!0}),r=this._chainOrCallSubCommandHook(r,n,"preSubcommand"),r=this._chainOrCall(r,(()=>{if(!n._executableHandler)return n._parseCommand(e,i);this._executeSubCommand(n,e.concat(i))})),r}_dispatchHelpCommand(t){t||this.help();const e=this._findCommand(t);return e&&!e._executableHandler&&e.help(),this._dispatchSubcommand(t,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach(((t,e)=>{t.required&&null==this.args[e]&&this.missingArgument(t.name())})),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic||this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const t=(t,e,i)=>{let n=e;if(null!==e&&t.parseArg){const r=`error: command-argument value '${e}' is invalid for argument '${t.name()}'.`;n=this._callParseArg(t,e,i,r)}return n};this._checkNumberOfArguments();const e=[];this.registeredArguments.forEach(((i,n)=>{let r=i.defaultValue;i.variadic?n<this.args.length?(r=this.args.slice(n),i.parseArg&&(r=r.reduce(((e,n)=>t(i,n,e)),i.defaultValue))):void 0===r&&(r=[]):n<this.args.length&&(r=this.args[n],i.parseArg&&(r=t(i,r,i.defaultValue))),e[n]=r})),this.processedArgs=e}_chainOrCall(t,e){return t&&t.then&&"function"==typeof t.then?t.then((()=>e())):e()}_chainOrCallHooks(t,e){let i=t;const n=[];return this._getCommandAndAncestors().reverse().filter((t=>void 0!==t._lifeCycleHooks[e])).forEach((t=>{t._lifeCycleHooks[e].forEach((e=>{n.push({hookedCommand:t,callback:e})}))})),"postAction"===e&&n.reverse(),n.forEach((t=>{i=this._chainOrCall(i,(()=>t.callback(t.hookedCommand,this)))})),i}_chainOrCallSubCommandHook(t,e,i){let n=t;return void 0!==this._lifeCycleHooks[i]&&this._lifeCycleHooks[i].forEach((t=>{n=this._chainOrCall(n,(()=>t(this,e)))})),n}_parseCommand(t,e){const i=this.parseOptions(e);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(i.operands),e=i.unknown,this.args=t.concat(e),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),e);if(this._getHelpCommand()&&t[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(e),this._dispatchSubcommand(this._defaultCommandName,t,e);!this.commands.length||0!==this.args.length||this._actionHandler||this._defaultCommandName||this.help({error:!0}),this._outputHelpIfRequested(i.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const n=()=>{i.unknown.length>0&&this.unknownOption(i.unknown[0])},r=`command:${this.name()}`;if(this._actionHandler){let i;return n(),this._processArguments(),i=this._chainOrCallHooks(i,"preAction"),i=this._chainOrCall(i,(()=>this._actionHandler(this.processedArgs))),this.parent&&(i=this._chainOrCall(i,(()=>{this.parent.emit(r,t,e)}))),i=this._chainOrCallHooks(i,"postAction"),i}if(this.parent&&this.parent.listenerCount(r))n(),this._processArguments(),this.parent.emit(r,t,e);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,e);this.listenerCount("command:*")?this.emit("command:*",t,e):this.commands.length?this.unknownCommand():(n(),this._processArguments())}else this.commands.length?(n(),this.help({error:!0})):(n(),this._processArguments())}_findCommand(t){if(t)return this.commands.find((e=>e._name===t||e._aliases.includes(t)))}_findOption(t){return this.options.find((e=>e.is(t)))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((t=>{t.options.forEach((e=>{e.mandatory&&void 0===t.getOptionValue(e.attributeName())&&t.missingMandatoryOptionValue(e)}))}))}_checkForConflictingLocalOptions(){const t=this.options.filter((t=>{const e=t.attributeName();return void 0!==this.getOptionValue(e)&&"default"!==this.getOptionValueSource(e)}));t.filter((t=>t.conflictsWith.length>0)).forEach((e=>{const i=t.find((t=>e.conflictsWith.includes(t.attributeName())));i&&this._conflictingOption(e,i)}))}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((t=>{t._checkForConflictingLocalOptions()}))}parseOptions(t){const e=[],i=[];let n=e;const r=t.slice();function s(t){return t.length>1&&"-"===t[0]}let o=null;for(;r.length;){const t=r.shift();if("--"===t){n===i&&n.push(t),n.push(...r);break}if(!o||s(t)){if(o=null,s(t)){const e=this._findOption(t);if(e){if(e.required){const t=r.shift();void 0===t&&this.optionMissingArgument(e),this.emit(`option:${e.name()}`,t)}else if(e.optional){let t=null;r.length>0&&!s(r[0])&&(t=r.shift()),this.emit(`option:${e.name()}`,t)}else this.emit(`option:${e.name()}`);o=e.variadic?e:null;continue}}if(t.length>2&&"-"===t[0]&&"-"!==t[1]){const e=this._findOption(`-${t[1]}`);if(e){e.required||e.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${e.name()}`,t.slice(2)):(this.emit(`option:${e.name()}`),r.unshift(`-${t.slice(2)}`));continue}}if(/^--[^=]+=/.test(t)){const e=t.indexOf("="),i=this._findOption(t.slice(0,e));if(i&&(i.required||i.optional)){this.emit(`option:${i.name()}`,t.slice(e+1));continue}}if(s(t)&&(n=i),(this._enablePositionalOptions||this._passThroughOptions)&&0===e.length&&0===i.length){if(this._findCommand(t)){e.push(t),r.length>0&&i.push(...r);break}if(this._getHelpCommand()&&t===this._getHelpCommand().name()){e.push(t),r.length>0&&e.push(...r);break}if(this._defaultCommandName){i.push(t),r.length>0&&i.push(...r);break}}if(this._passThroughOptions){n.push(t),r.length>0&&n.push(...r);break}n.push(t)}else this.emit(`option:${o.name()}`,t)}return{operands:e,unknown:i}}opts(){if(this._storeOptionsAsProperties){const t={},e=this.options.length;for(let i=0;i<e;i++){const e=this.options[i].attributeName();t[e]=e===this._versionOptionName?this._version:this[e]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(((t,e)=>Object.assign(t,e.opts())),{})}error(t,e){this._outputConfiguration.outputError(`${t}\n`,this._outputConfiguration.writeErr),"string"==typeof this._showHelpAfterError?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0}));const i=e||{},n=i.exitCode||1,r=i.code||"commander.error";this._exit(n,r,t)}_parseOptionsEnv(){this.options.forEach((t=>{if(t.envVar&&t.envVar in a.env){const e=t.attributeName();(void 0===this.getOptionValue(e)||["default","config","env"].includes(this.getOptionValueSource(e)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,a.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}}))}_parseOptionsImplied(){const t=new f(this.options),e=t=>void 0!==this.getOptionValue(t)&&!["default","implied"].includes(this.getOptionValueSource(t));this.options.filter((i=>void 0!==i.implied&&e(i.attributeName())&&t.valueFromOption(this.getOptionValue(i.attributeName()),i))).forEach((t=>{Object.keys(t.implied).filter((t=>!e(t))).forEach((e=>{this.setOptionValueWithSource(e,t.implied[e],"implied")}))}))}missingArgument(t){const e=`error: missing required argument '${t}'`;this.error(e,{code:"commander.missingArgument"})}optionMissingArgument(t){const e=`error: option '${t.flags}' argument missing`;this.error(e,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){const e=`error: required option '${t.flags}' not specified`;this.error(e,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,e){const i=t=>{const e=t.attributeName(),i=this.getOptionValue(e),n=this.options.find((t=>t.negate&&e===t.attributeName())),r=this.options.find((t=>!t.negate&&e===t.attributeName()));return n&&(void 0===n.presetArg&&!1===i||void 0!==n.presetArg&&i===n.presetArg)?n:r||t},n=t=>{const e=i(t),n=e.attributeName();return"env"===this.getOptionValueSource(n)?`environment variable '${e.envVar}'`:`option '${e.flags}'`},r=`error: ${n(t)} cannot be used with ${n(e)}`;this.error(r,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let e="";if(t.startsWith("--")&&this._showSuggestionAfterError){let i=[],n=this;do{const t=n.createHelp().visibleOptions(n).filter((t=>t.long)).map((t=>t.long));i=i.concat(t),n=n.parent}while(n&&!n._enablePositionalOptions);e=d(t,i)}const i=`error: unknown option '${t}'${e}`;this.error(i,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;const e=this.registeredArguments.length,i=1===e?"":"s",n=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${e} argument${i} but got ${t.length}.`;this.error(n,{code:"commander.excessArguments"})}unknownCommand(){const t=this.args[0];let e="";if(this._showSuggestionAfterError){const i=[];this.createHelp().visibleCommands(this).forEach((t=>{i.push(t.name()),t.alias()&&i.push(t.alias())})),e=d(t,i)}const i=`error: unknown command '${t}'${e}`;this.error(i,{code:"commander.unknownCommand"})}version(t,e,i){if(void 0===t)return this._version;this._version=t,e=e||"-V, --version",i=i||"output the version number";const n=this.createOption(e,i);return this._versionOptionName=n.attributeName(),this._registerOption(n),this.on("option:"+n.name(),(()=>{this._outputConfiguration.writeOut(`${t}\n`),this._exit(0,"commander.version",t)})),this}description(t,e){return void 0===t&&void 0===e?this._description:(this._description=t,e&&(this._argsDescription=e),this)}summary(t){return void 0===t?this._summary:(this._summary=t,this)}alias(t){if(void 0===t)return this._aliases[0];let e=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(e=this.commands[this.commands.length-1]),t===e._name)throw new Error("Command alias can't be the same as its name");const i=this.parent?._findCommand(t);if(i){const e=[i.name()].concat(i.aliases()).join("|");throw new Error(`cannot add alias '${t}' to command '${this.name()}' as already have command '${e}'`)}return e._aliases.push(t),this}aliases(t){return void 0===t?this._aliases:(t.forEach((t=>this.alias(t))),this)}usage(t){if(void 0===t){if(this._usage)return this._usage;const t=this.registeredArguments.map((t=>c(t)));return[].concat(this.options.length||null!==this._helpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=t,this}name(t){return void 0===t?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=s.basename(t,s.extname(t)),this}executableDir(t){return void 0===t?this._executableDir:(this._executableDir=t,this)}helpInformation(t){const e=this.createHelp();return void 0===e.helpWidth&&(e.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),e.formatHelp(this,e)}_getHelpContext(t){const e={error:!!(t=t||{}).error};let i;return i=e.error?t=>this._outputConfiguration.writeErr(t):t=>this._outputConfiguration.writeOut(t),e.write=t.write||i,e.command=this,e}outputHelp(t){let e;"function"==typeof t&&(e=t,t=void 0);const i=this._getHelpContext(t);this._getCommandAndAncestors().reverse().forEach((t=>t.emit("beforeAllHelp",i))),this.emit("beforeHelp",i);let n=this.helpInformation(i);if(e&&(n=e(n),"string"!=typeof n&&!Buffer.isBuffer(n)))throw new Error("outputHelp callback must return a string or a Buffer");i.write(n),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",i),this._getCommandAndAncestors().forEach((t=>t.emit("afterAllHelp",i)))}helpOption(t,e){return"boolean"==typeof t?(this._helpOption=t?this._helpOption??void 0:null,this):(t=t??"-h, --help",e=e??"display help for command",this._helpOption=this.createOption(t,e),this)}_getHelpOption(){return void 0===this._helpOption&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(t){return this._helpOption=t,this}help(t){this.outputHelp(t);let e=a.exitCode||0;0===e&&t&&"function"!=typeof t&&t.error&&(e=1),this._exit(e,"commander.help","(outputHelp)")}addHelpText(t,e){const i=["beforeAll","before","after","afterAll"];if(!i.includes(t))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${i.join("', '")}'`);const n=`${t}Help`;return this.on(n,(t=>{let i;i="function"==typeof e?e({error:t.error,command:t.command}):e,i&&t.write(`${i}\n`)})),this}_outputHelpIfRequested(t){const e=this._getHelpOption();e&&t.find((t=>e.is(t)))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}}function g(t){return t.map((t=>{if(!t.startsWith("--inspect"))return t;let e,i,n="127.0.0.1",r="9229";return null!==(i=t.match(/^(--inspect(-brk)?)$/))?e=i[1]:null!==(i=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(e=i[1],/^\d+$/.test(i[3])?r=i[3]:n=i[3]):null!==(i=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(e=i[1],n=i[3],r=i[4]),e&&"0"!==r?`${e}=${n}:${parseInt(r)+1}`:t}))}e.Command=m},3666:(t,e)=>{class i extends Error{constructor(t,e,i){super(i),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=e,this.exitCode=t,this.nestedError=void 0}}e.CommanderError=i,e.InvalidArgumentError=class extends i{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}},3693:(t,e,i)=>{const{humanReadableArgName:n}=i(9297);e.Help=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(t){const e=t.commands.filter((t=>!t._hidden)),i=t._getHelpCommand();return i&&!i._hidden&&e.push(i),this.sortSubcommands&&e.sort(((t,e)=>t.name().localeCompare(e.name()))),e}compareOptions(t,e){const i=t=>t.short?t.short.replace(/^-/,""):t.long.replace(/^--/,"");return i(t).localeCompare(i(e))}visibleOptions(t){const e=t.options.filter((t=>!t.hidden)),i=t._getHelpOption();if(i&&!i.hidden){const n=i.short&&t._findOption(i.short),r=i.long&&t._findOption(i.long);n||r?i.long&&!r?e.push(t.createOption(i.long,i.description)):i.short&&!n&&e.push(t.createOption(i.short,i.description)):e.push(i)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];const e=[];for(let i=t.parent;i;i=i.parent){const t=i.options.filter((t=>!t.hidden));e.push(...t)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach((e=>{e.description=e.description||t._argsDescription[e.name()]||""})),t.registeredArguments.find((t=>t.description))?t.registeredArguments:[]}subcommandTerm(t){const e=t.registeredArguments.map((t=>n(t))).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(e?" "+e:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,e){return e.visibleCommands(t).reduce(((t,i)=>Math.max(t,e.subcommandTerm(i).length)),0)}longestOptionTermLength(t,e){return e.visibleOptions(t).reduce(((t,i)=>Math.max(t,e.optionTerm(i).length)),0)}longestGlobalOptionTermLength(t,e){return e.visibleGlobalOptions(t).reduce(((t,i)=>Math.max(t,e.optionTerm(i).length)),0)}longestArgumentTermLength(t,e){return e.visibleArguments(t).reduce(((t,i)=>Math.max(t,e.argumentTerm(i).length)),0)}commandUsage(t){let e=t._name;t._aliases[0]&&(e=e+"|"+t._aliases[0]);let i="";for(let e=t.parent;e;e=e.parent)i=e.name()+" "+i;return i+e+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){const e=[];return t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue&&(t.required||t.optional||t.isBoolean()&&"boolean"==typeof t.defaultValue)&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),void 0!==t.presetArg&&t.optional&&e.push(`preset: ${JSON.stringify(t.presetArg)}`),void 0!==t.envVar&&e.push(`env: ${t.envVar}`),e.length>0?`${t.description} (${e.join(", ")})`:t.description}argumentDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),e.length>0){const i=`(${e.join(", ")})`;return t.description?`${t.description} ${i}`:i}return t.description}formatHelp(t,e){const i=e.padWidth(t,e),n=e.helpWidth||80;function r(t,r){if(r){const s=`${t.padEnd(i+2)}${r}`;return e.wrap(s,n-2,i+2)}return t}function s(t){return t.join("\n").replace(/^/gm," ".repeat(2))}let o=[`Usage: ${e.commandUsage(t)}`,""];const a=e.commandDescription(t);a.length>0&&(o=o.concat([e.wrap(a,n,0),""]));const l=e.visibleArguments(t).map((t=>r(e.argumentTerm(t),e.argumentDescription(t))));l.length>0&&(o=o.concat(["Arguments:",s(l),""]));const c=e.visibleOptions(t).map((t=>r(e.optionTerm(t),e.optionDescription(t))));if(c.length>0&&(o=o.concat(["Options:",s(c),""])),this.showGlobalOptions){const i=e.visibleGlobalOptions(t).map((t=>r(e.optionTerm(t),e.optionDescription(t))));i.length>0&&(o=o.concat(["Global Options:",s(i),""]))}const u=e.visibleCommands(t).map((t=>r(e.subcommandTerm(t),e.subcommandDescription(t))));return u.length>0&&(o=o.concat(["Commands:",s(u),""])),o.join("\n")}padWidth(t,e){return Math.max(e.longestOptionTermLength(t,e),e.longestGlobalOptionTermLength(t,e),e.longestSubcommandTermLength(t,e),e.longestArgumentTermLength(t,e))}wrap(t,e,i,n=40){const r=new RegExp("[\\n][ \\f\\t\\vÂ áâ-ââ¯âã\ufeff]+");if(t.match(r))return t;const s=e-i;if(s<n)return t;const o=t.slice(0,i),a=t.slice(i).replace("\r\n","\n"),l=" ".repeat(i),c="\\sâ",u=new RegExp(`\n|.{1,${s-1}}([${c}]|$)|[^${c}]+?([${c}]|$)`,"g");return o+(a.match(u)||[]).map(((t,e)=>"\n"===t?"":(e>0?l:"")+t.trimEnd())).join("\n")}}},5019:(t,e,i)=>{const{InvalidArgumentError:n}=i(3666);e.Option=class{constructor(t,e){this.flags=t,this.description=e||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;const i=function(t){let e,i;const n=t.split(/[ |,]+/);return n.length>1&&!/^[[<]/.test(n[1])&&(e=n.shift()),i=n.shift(),!e&&/^-[^-]$/.test(i)&&(e=i,i=void 0),{shortFlag:e,longFlag:i}}(t);this.short=i.shortFlag,this.long=i.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let e=t;return"string"==typeof t&&(e={[t]:!0}),this.implied=Object.assign(this.implied||{},e),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new n(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.name().replace(/^no-/,"").split("-").reduce(((t,e)=>t+e[0].toUpperCase()+e.slice(1)))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},e.DualOptions=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach((t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)})),this.negativeOptions.forEach(((t,e)=>{this.positiveOptions.has(e)&&this.dualOptions.add(e)}))}valueFromOption(t,e){const i=e.attributeName();if(!this.dualOptions.has(i))return!0;const n=this.negativeOptions.get(i).presetArg,r=void 0!==n&&n;return e.negate===(r===t)}}},7369:(t,e)=>{e.suggestSimilar=function(t,e){if(!e||0===e.length)return"";e=Array.from(new Set(e));const i=t.startsWith("--");i&&(t=t.slice(2),e=e.map((t=>t.slice(2))));let n=[],r=3;return e.forEach((e=>{if(e.length<=1)return;const i=function(t,e){if(Math.abs(t.length-e.length)>3)return Math.max(t.length,e.length);const i=[];for(let e=0;e<=t.length;e++)i[e]=[e];for(let t=0;t<=e.length;t++)i[0][t]=t;for(let n=1;n<=e.length;n++)for(let r=1;r<=t.length;r++){let s=1;s=t[r-1]===e[n-1]?0:1,i[r][n]=Math.min(i[r-1][n]+1,i[r][n-1]+1,i[r-1][n-1]+s),r>1&&n>1&&t[r-1]===e[n-2]&&t[r-2]===e[n-1]&&(i[r][n]=Math.min(i[r][n],i[r-2][n-2]+1))}return i[t.length][e.length]}(t,e),s=Math.max(t.length,e.length);(s-i)/s>.4&&(i<r?(r=i,n=[e]):i===r&&n.push(e))})),n.sort(((t,e)=>t.localeCompare(e))),i&&(n=n.map((t=>`--${t}`))),n.length>1?`\n(Did you mean one of ${n.join(", ")}?)`:1===n.length?`\n(Did you mean ${n[0]}?)`:""}},18:(t,e,i)=>{"use strict";var n=i(484),r=i(9714),s=i(1755),o=i(6010),a=i(7434),l=i(483),c=i(2291);function u(t,e,i,n,r,s){const o="block-map"===i.type?a.resolveBlockMap(t,e,i,n,s):"block-seq"===i.type?l.resolveBlockSeq(t,e,i,n,s):c.resolveFlowCollection(t,e,i,n,s),u=o.constructor;return"!"===r||r===u.tagName?(o.tag=u.tagName,o):(r&&(o.tag=r),o)}e.composeCollection=function(t,e,i,a,l){const c=a?e.directives.tagName(a.source,(t=>l(a,"TAG_RESOLVE_FAILED",t))):null,h="block-map"===i.type?"map":"block-seq"===i.type?"seq":"{"===i.start.source?"map":"seq";if(!a||!c||"!"===c||c===s.YAMLMap.tagName&&"map"===h||c===o.YAMLSeq.tagName&&"seq"===h||!h)return u(t,e,i,l,c);let p=e.schema.tags.find((t=>t.tag===c&&t.collection===h));if(!p){const n=e.schema.knownTags[c];if(!n||n.collection!==h)return n?.collection?l(a,"BAD_COLLECTION_TYPE",`${n.tag} used for ${h} collection, but expects ${n.collection}`,!0):l(a,"TAG_RESOLVE_FAILED",`Unresolved tag: ${c}`,!0),u(t,e,i,l,c);e.schema.tags.push(Object.assign({},n,{default:!1})),p=n}const f=u(t,e,i,l,c,p),d=p.resolve?.(f,(t=>l(a,"TAG_RESOLVE_FAILED",t)),e.options)??f,m=n.isNode(d)?d:new r.Scalar(d);return m.range=f.range,m.tag=c,p?.format&&(m.format=p.format),m}},2206:(t,e,i)=>{"use strict";var n=i(9046),r=i(2782),s=i(6845),o=i(1386);e.composeDoc=function(t,e,{offset:i,start:a,value:l,end:c},u){const h=Object.assign({_directives:e},t),p=new n.Document(void 0,h),f={atRoot:!0,directives:p.directives,options:p.options,schema:p.schema},d=o.resolveProps(a,{indicator:"doc-start",next:l??c?.[0],offset:i,onError:u,startOnNewline:!0});d.found&&(p.directives.docStart=!0,!l||"block-map"!==l.type&&"block-seq"!==l.type||d.hasNewline||u(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),p.contents=l?r.composeNode(f,l,d,u):r.composeEmptyNode(f,d.end,a,null,d,u);const m=p.contents.range[2],g=s.resolveEnd(c,m,!1,u);return g.comment&&(p.comment=g.comment),p.range=[i,m,g.offset],p}},2782:(t,e,i)=>{"use strict";var n=i(1736),r=i(18),s=i(9094),o=i(6845),a=i(1040);const l={composeNode:c,composeEmptyNode:u};function c(t,e,i,a){const{spaceBefore:c,comment:h,anchor:p,tag:f}=i;let d,m=!0;switch(e.type){case"alias":d=function({options:t},{offset:e,source:i,end:r},s){const a=new n.Alias(i.substring(1));""===a.source&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&s(e+i.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const l=e+i.length,c=o.resolveEnd(r,l,t.strict,s);return a.range=[e,l,c.offset],c.comment&&(a.comment=c.comment),a}(t,e,a),(p||f)&&a(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":d=s.composeScalar(t,e,f,a),p&&(d.anchor=p.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":d=r.composeCollection(l,t,e,f,a),p&&(d.anchor=p.source.substring(1));break;default:a(e,"UNEXPECTED_TOKEN","error"===e.type?e.message:`Unsupported token (type: ${e.type})`),d=u(t,e.offset,void 0,null,i,a),m=!1}return p&&""===d.anchor&&a(p,"BAD_ALIAS","Anchor cannot be an empty string"),c&&(d.spaceBefore=!0),h&&("scalar"===e.type&&""===e.source?d.comment=h:d.commentBefore=h),t.options.keepSourceTokens&&m&&(d.srcToken=e),d}function u(t,e,i,n,{spaceBefore:r,comment:o,anchor:l,tag:c,end:u},h){const p={type:"scalar",offset:a.emptyScalarPosition(e,i,n),indent:-1,source:""},f=s.composeScalar(t,p,c,h);return l&&(f.anchor=l.source.substring(1),""===f.anchor&&h(l,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(f.spaceBefore=!0),o&&(f.comment=o,f.range[2]=u),f}e.composeEmptyNode=u,e.composeNode=c},9094:(t,e,i)=>{"use strict";var n=i(484),r=i(9714),s=i(4070),o=i(7571);e.composeScalar=function(t,e,i,a){const{value:l,type:c,comment:u,range:h}="block-scalar"===e.type?s.resolveBlockScalar(e,t.options.strict,a):o.resolveFlowScalar(e,t.options.strict,a),p=i?t.directives.tagName(i.source,(t=>a(i,"TAG_RESOLVE_FAILED",t))):null,f=i&&p?function(t,e,i,r,s){if("!"===i)return t[n.SCALAR];const o=[];for(const e of t.tags)if(!e.collection&&e.tag===i){if(!e.default||!e.test)return e;o.push(e)}for(const t of o)if(t.test?.test(e))return t;const a=t.knownTags[i];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,"tag:yaml.org,2002:str"!==i),t[n.SCALAR])}(t.schema,l,p,i,a):"scalar"===e.type?function({directives:t,schema:e},i,r,s){const o=e.tags.find((t=>t.default&&t.test?.test(i)))||e[n.SCALAR];if(e.compat){const a=e.compat.find((t=>t.default&&t.test?.test(i)))??e[n.SCALAR];o.tag!==a.tag&&s(r,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${t.tagString(o.tag)} or ${t.tagString(a.tag)}`,!0)}return o}(t,l,e,a):t.schema[n.SCALAR];let d;try{const s=f.resolve(l,(t=>a(i??e,"TAG_RESOLVE_FAILED",t)),t.options);d=n.isScalar(s)?s:new r.Scalar(s)}catch(t){const n=t instanceof Error?t.message:String(t);a(i??e,"TAG_RESOLVE_FAILED",n),d=new r.Scalar(l)}return d.range=h,d.source=l,c&&(d.type=c),p&&(d.tag=p),f.format&&(d.format=f.format),u&&(d.comment=u),d}},4927:(t,e,i)=>{"use strict";var n=i(8673),r=i(9046),s=i(4355),o=i(484),a=i(2206),l=i(6845);function c(t){if("number"==typeof t)return[t,t+1];if(Array.isArray(t))return 2===t.length?t:[t[0],t[1]];const{offset:e,source:i}=t;return[e,e+("string"==typeof i?i.length:1)]}function u(t){let e="",i=!1,n=!1;for(let r=0;r<t.length;++r){const s=t[r];switch(s[0]){case"#":e+=(""===e?"":n?"\n\n":"\n")+(s.substring(1)||" "),i=!0,n=!1;break;case"%":"#"!==t[r+1]?.[0]&&(r+=1),i=!1;break;default:i||(n=!0),i=!1}}return{comment:e,afterEmptyLine:n}}e.Composer=class{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,e,i,n)=>{const r=c(t);n?this.warnings.push(new s.YAMLWarning(r,e,i)):this.errors.push(new s.YAMLParseError(r,e,i))},this.directives=new n.Directives({version:t.version||"1.2"}),this.options=t}decorate(t,e){const{comment:i,afterEmptyLine:n}=u(this.prelude);if(i){const r=t.contents;if(e)t.comment=t.comment?`${t.comment}\n${i}`:i;else if(n||t.directives.docStart||!r)t.commentBefore=i;else if(o.isCollection(r)&&!r.flow&&r.items.length>0){let t=r.items[0];o.isPair(t)&&(t=t.key);const e=t.commentBefore;t.commentBefore=e?`${i}\n${e}`:i}else{const t=r.commentBefore;r.commentBefore=t?`${i}\n${t}`:i}}e?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:u(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,e=!1,i=-1){for(const e of t)yield*this.next(e);yield*this.end(e,i)}*next(t){switch(process.env.LOG_STREAM&&console.dir(t,{depth:null}),t.type){case"directive":this.directives.add(t.source,((e,i,n)=>{const r=c(t);r[0]+=e,this.onError(r,"BAD_DIRECTIVE",i,n)})),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const e=a.composeDoc(this.options,this.directives,t,this.onError);this.atDirectives&&!e.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(e,!1),this.doc&&(yield this.doc),this.doc=e,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const e=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,i=new s.YAMLParseError(c(t),"UNEXPECTED_TOKEN",e);this.atDirectives||!this.doc?this.errors.push(i):this.doc.errors.push(i);break}case"doc-end":{if(!this.doc){const e="Unexpected doc-end without preceding document";this.errors.push(new s.YAMLParseError(c(t),"UNEXPECTED_TOKEN",e));break}this.doc.directives.docEnd=!0;const e=l.resolveEnd(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),e.comment){const t=this.doc.comment;this.doc.comment=t?`${t}\n${e.comment}`:e.comment}this.doc.range[2]=e.offset;break}default:this.errors.push(new s.YAMLParseError(c(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,e=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const t=Object.assign({_directives:this.directives},this.options),i=new r.Document(void 0,t);this.atDirectives&&this.onError(e,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,e,e],this.decorate(i,!1),yield i}}}},7434:(t,e,i)=>{"use strict";var n=i(7902),r=i(1755),s=i(1386),o=i(9378),a=i(8644),l=i(8334);const c="All mapping items must start at the same column";e.resolveBlockMap=function({composeNode:t,composeEmptyNode:e},i,u,h,p){const f=new(p?.nodeClass??r.YAMLMap)(i.schema);i.atRoot&&(i.atRoot=!1);let d=u.offset,m=null;for(const r of u.items){const{start:p,key:g,sep:y,value:b}=r,_=s.resolveProps(p,{indicator:"explicit-key-ind",next:g??y?.[0],offset:d,onError:h,startOnNewline:!0}),v=!_.found;if(v){if(g&&("block-seq"===g.type?h(d,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==u.indent&&h(d,"BAD_INDENT",c)),!_.anchor&&!_.tag&&!y){m=_.end,_.comment&&(f.comment?f.comment+="\n"+_.comment:f.comment=_.comment);continue}(_.hasNewlineAfterProp||o.containsNewline(g))&&h(g??p[p.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else _.found?.indent!==u.indent&&h(d,"BAD_INDENT",c);const w=_.end,x=g?t(i,g,_,h):e(i,w,p,null,_,h);i.schema.compat&&a.flowIndentCheck(u.indent,g,h),l.mapIncludes(i,f.items,x)&&h(w,"DUPLICATE_KEY","Map keys must be unique");const k=s.resolveProps(y??[],{indicator:"map-value-ind",next:b,offset:x.range[2],onError:h,startOnNewline:!g||"block-scalar"===g.type});if(d=k.end,k.found){v&&("block-map"!==b?.type||k.hasNewline||h(d,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),i.options.strict&&_.start<k.found.offset-1024&&h(x.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const s=b?t(i,b,k,h):e(i,d,y,null,k,h);i.schema.compat&&a.flowIndentCheck(u.indent,b,h),d=s.range[2];const o=new n.Pair(x,s);i.options.keepSourceTokens&&(o.srcToken=r),f.items.push(o)}else{v&&h(x.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),k.comment&&(x.comment?x.comment+="\n"+k.comment:x.comment=k.comment);const t=new n.Pair(x);i.options.keepSourceTokens&&(t.srcToken=r),f.items.push(t)}}return m&&m<d&&h(m,"IMPOSSIBLE","Map comment with trailing content"),f.range=[u.offset,d,m??d],f}},4070:(t,e,i)=>{"use strict";var n=i(9714);e.resolveBlockScalar=function(t,e,i){const r=t.offset,s=function({offset:t,props:e},i,n){if("block-scalar-header"!==e[0].type)return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],s=r[0];let o=0,a="",l=-1;for(let e=1;e<r.length;++e){const i=r[e];if(a||"-"!==i&&"+"!==i){const n=Number(i);!o&&n?o=n:-1===l&&(l=t+e)}else a=i}-1!==l&&n(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let c=!1,u="",h=r.length;for(let t=1;t<e.length;++t){const r=e[t];switch(r.type){case"space":c=!0;case"newline":h+=r.source.length;break;case"comment":i&&!c&&n(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),h+=r.source.length,u=r.source.substring(1);break;case"error":n(r,"UNEXPECTED_TOKEN",r.message),h+=r.source.length;break;default:{n(r,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${r.type}`);const t=r.source;t&&"string"==typeof t&&(h+=t.length)}}}return{mode:s,indent:o,chomp:a,comment:u,length:h}}(t,e,i);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const o=">"===s.mode?n.Scalar.BLOCK_FOLDED:n.Scalar.BLOCK_LITERAL,a=t.source?function(t){const e=t.split(/\n( *)/),i=e[0],n=i.match(/^( *)/),r=[n?.[1]?[n[1],i.slice(n[1].length)]:["",i]];for(let t=1;t<e.length;t+=2)r.push([e[t],e[t+1]]);return r}(t.source):[];let l=a.length;for(let t=a.length-1;t>=0;--t){const e=a[t][1];if(""!==e&&"\r"!==e)break;l=t}if(0===l){const e="+"===s.chomp&&a.length>0?"\n".repeat(Math.max(1,a.length-1)):"";let i=r+s.length;return t.source&&(i+=t.source.length),{value:e,type:o,comment:s.comment,range:[r,i,i]}}let c=t.indent+s.indent,u=t.offset+s.length,h=0;for(let t=0;t<l;++t){const[e,n]=a[t];if(""!==n&&"\r"!==n){if(e.length<c){const t="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";i(u+e.length,"MISSING_CHAR",t)}0===s.indent&&(c=e.length),h=t;break}0===s.indent&&e.length>c&&(c=e.length),u+=e.length+n.length+1}for(let t=a.length-1;t>=l;--t)a[t][0].length>c&&(l=t+1);let p="",f="",d=!1;for(let t=0;t<h;++t)p+=a[t][0].slice(c)+"\n";for(let t=h;t<l;++t){let[e,r]=a[t];u+=e.length+r.length+1;const l="\r"===r[r.length-1];if(l&&(r=r.slice(0,-1)),r&&e.length<c){const t="Block scalar lines must not be less indented than their "+(s.indent?"explicit indentation indicator":"first line");i(u-r.length-(l?2:1),"BAD_INDENT",t),e=""}o===n.Scalar.BLOCK_LITERAL?(p+=f+e.slice(c)+r,f="\n"):e.length>c||"\t"===r[0]?(" "===f?f="\n":d||"\n"!==f||(f="\n\n"),p+=f+e.slice(c)+r,f="\n",d=!0):""===r?"\n"===f?p+="\n":f="\n":(p+=f+r,f=" ",d=!1)}switch(s.chomp){case"-":break;case"+":for(let t=l;t<a.length;++t)p+="\n"+a[t][0].slice(c);"\n"!==p[p.length-1]&&(p+="\n");break;default:p+="\n"}const m=r+s.length+t.source.length;return{value:p,type:o,comment:s.comment,range:[r,m,m]}}},483:(t,e,i)=>{"use strict";var n=i(6010),r=i(1386),s=i(8644);e.resolveBlockSeq=function({composeNode:t,composeEmptyNode:e},i,o,a,l){const c=new(l?.nodeClass??n.YAMLSeq)(i.schema);i.atRoot&&(i.atRoot=!1);let u=o.offset,h=null;for(const{start:n,value:l}of o.items){const p=r.resolveProps(n,{indicator:"seq-item-ind",next:l,offset:u,onError:a,startOnNewline:!0});if(!p.found){if(!(p.anchor||p.tag||l)){h=p.end,p.comment&&(c.comment=p.comment);continue}l&&"block-seq"===l.type?a(p.end,"BAD_INDENT","All sequence items must start at the same column"):a(u,"MISSING_CHAR","Sequence item without - indicator")}const f=l?t(i,l,p,a):e(i,p.end,n,null,p,a);i.schema.compat&&s.flowIndentCheck(o.indent,l,a),u=f.range[2],c.items.push(f)}return c.range=[o.offset,u,h??u],c}},6845:(t,e)=>{"use strict";e.resolveEnd=function(t,e,i,n){let r="";if(t){let s=!1,o="";for(const a of t){const{source:t,type:l}=a;switch(l){case"space":s=!0;break;case"comment":{i&&!s&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=t.substring(1)||" ";r?r+=o+e:r=e,o="";break}case"newline":r&&(o+=t),s=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}e+=t.length}}return{comment:r,offset:e}}},2291:(t,e,i)=>{"use strict";var n=i(484),r=i(7902),s=i(1755),o=i(6010),a=i(6845),l=i(1386),c=i(9378),u=i(8334);const h="Block collections are not allowed within flow collections",p=t=>t&&("block-map"===t.type||"block-seq"===t.type);e.resolveFlowCollection=function({composeNode:t,composeEmptyNode:e},i,f,d,m){const g="{"===f.start.source,y=g?"flow map":"flow sequence",b=new(m?.nodeClass??(g?s.YAMLMap:o.YAMLSeq))(i.schema);b.flow=!0;const _=i.atRoot;_&&(i.atRoot=!1);let v=f.offset+f.start.source.length;for(let o=0;o<f.items.length;++o){const a=f.items[o],{start:m,key:_,sep:w,value:x}=a,k=l.resolveProps(m,{flow:y,indicator:"explicit-key-ind",next:_??w?.[0],offset:v,onError:d,startOnNewline:!1});if(!k.found){if(!(k.anchor||k.tag||w||x)){0===o&&k.comma?d(k.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${y}`):o<f.items.length-1&&d(k.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${y}`),k.comment&&(b.comment?b.comment+="\n"+k.comment:b.comment=k.comment),v=k.end;continue}!g&&i.options.strict&&c.containsNewline(_)&&d(_,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===o)k.comma&&d(k.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${y}`);else if(k.comma||d(k.start,"MISSING_CHAR",`Missing , between ${y} items`),k.comment){let t="";t:for(const e of m)switch(e.type){case"comma":case"space":break;case"comment":t=e.source.substring(1);break t;default:break t}if(t){let e=b.items[b.items.length-1];n.isPair(e)&&(e=e.value??e.key),e.comment?e.comment+="\n"+t:e.comment=t,k.comment=k.comment.substring(t.length+1)}}if(g||w||k.found){const n=k.end,o=_?t(i,_,k,d):e(i,n,m,null,k,d);p(_)&&d(o.range,"BLOCK_IN_FLOW",h);const c=l.resolveProps(w??[],{flow:y,indicator:"map-value-ind",next:x,offset:o.range[2],onError:d,startOnNewline:!1});if(c.found){if(!g&&!k.found&&i.options.strict){if(w)for(const t of w){if(t===c.found)break;if("newline"===t.type){d(t,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}k.start<c.found.offset-1024&&d(c.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else x&&("source"in x&&x.source&&":"===x.source[0]?d(x,"MISSING_CHAR",`Missing space after : in ${y}`):d(c.start,"MISSING_CHAR",`Missing , or : between ${y} items`));const f=x?t(i,x,c,d):c.found?e(i,c.end,w,null,c,d):null;f?p(x)&&d(f.range,"BLOCK_IN_FLOW",h):c.comment&&(o.comment?o.comment+="\n"+c.comment:o.comment=c.comment);const E=new r.Pair(o,f);if(i.options.keepSourceTokens&&(E.srcToken=a),g){const t=b;u.mapIncludes(i,t.items,o)&&d(n,"DUPLICATE_KEY","Map keys must be unique"),t.items.push(E)}else{const t=new s.YAMLMap(i.schema);t.flow=!0,t.items.push(E),b.items.push(t)}v=f?f.range[2]:c.end}else{const n=x?t(i,x,k,d):e(i,k.end,w,null,k,d);b.items.push(n),v=n.range[2],p(x)&&d(n.range,"BLOCK_IN_FLOW",h)}}const w=g?"}":"]",[x,...k]=f.end;let E=v;if(x&&x.source===w)E=x.offset+x.source.length;else{const t=y[0].toUpperCase()+y.substring(1);d(v,_?"MISSING_CHAR":"BAD_INDENT",_?`${t} must end with a ${w}`:`${t} in block collection must be sufficiently indented and end with a ${w}`),x&&1!==x.source.length&&k.unshift(x)}if(k.length>0){const t=a.resolveEnd(k,E,i.options.strict,d);t.comment&&(b.comment?b.comment+="\n"+t.comment:b.comment=t.comment),b.range=[f.offset,E,t.offset]}else b.range=[f.offset,E,E];return b}},7571:(t,e,i)=>{"use strict";var n=i(9714),r=i(6845);function s(t){let e,i;try{e=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),i=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(t){e=/(.*?)[ \t]*\r?\n/sy,i=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=e.exec(t);if(!n)return t;let r=n[1],s=" ",o=e.lastIndex;for(i.lastIndex=o;n=i.exec(t);)""===n[1]?"\n"===s?r+=s:s="\n":(r+=s+n[1],s=" "),o=i.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,n=a.exec(t),r+s+(n?.[1]??"")}function o(t,e){let i="",n=t[e+1];for(;!(" "!==n&&"\t"!==n&&"\n"!==n&&"\r"!==n||"\r"===n&&"\n"!==t[e+2]);)"\n"===n&&(i+="\n"),n=t[(e+=1)+1];return i||(i=" "),{fold:i,offset:e}}const a={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"Â",_:"Â ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function l(t,e,i,n){const r=t.substr(e,i),s=r.length===i&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(s)){const r=t.substr(e-2,i+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),r}return String.fromCodePoint(s)}e.resolveFlowScalar=function(t,e,i){const{offset:c,type:u,source:h,end:p}=t;let f,d;const m=(t,e,n)=>i(c+t,e,n);switch(u){case"scalar":f=n.Scalar.PLAIN,d=function(t,e){let i="";switch(t[0]){case"\t":i="a tab character";break;case",":i="flow indicator character ,";break;case"%":i="directive indicator character %";break;case"|":case">":i=`block scalar indicator ${t[0]}`;break;case"@":case"`":i=`reserved character ${t[0]}`}return i&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${i}`),s(t)}(h,m);break;case"single-quoted-scalar":f=n.Scalar.QUOTE_SINGLE,d=function(t,e){return"'"===t[t.length-1]&&1!==t.length||e(t.length,"MISSING_CHAR","Missing closing 'quote"),s(t.slice(1,-1)).replace(/''/g,"'")}(h,m);break;case"double-quoted-scalar":f=n.Scalar.QUOTE_DOUBLE,d=function(t,e){let i="";for(let n=1;n<t.length-1;++n){const r=t[n];if("\r"!==r||"\n"!==t[n+1])if("\n"===r){const{fold:e,offset:r}=o(t,n);i+=e,n=r}else if("\\"===r){let r=t[++n];const s=a[r];if(s)i+=s;else if("\n"===r)for(r=t[n+1];" "===r||"\t"===r;)r=t[1+ ++n];else if("\r"===r&&"\n"===t[n+1])for(r=t[1+ ++n];" "===r||"\t"===r;)r=t[1+ ++n];else if("x"===r||"u"===r||"U"===r){const s={x:2,u:4,U:8}[r];i+=l(t,n+1,s,e),n+=s}else{const r=t.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),i+=r}}else if(" "===r||"\t"===r){const e=n;let s=t[n+1];for(;" "===s||"\t"===s;)s=t[1+ ++n];"\n"===s||"\r"===s&&"\n"===t[n+2]||(i+=n>e?t.slice(e,n+1):r)}else i+=r}return'"'===t[t.length-1]&&1!==t.length||e(t.length,"MISSING_CHAR",'Missing closing "quote'),i}(h,m);break;default:return i(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${u}`),{value:"",type:null,comment:"",range:[c,c+h.length,c+h.length]}}const g=c+h.length,y=r.resolveEnd(p,g,e,i);return{value:d,type:f,comment:y.comment,range:[c,g,y.offset]}}},1386:(t,e)=>{"use strict";e.resolveProps=function(t,{flow:e,indicator:i,next:n,offset:r,onError:s,startOnNewline:o}){let a=!1,l=o,c=o,u="",h="",p=!1,f=!1,d=!1,m=null,g=null,y=null,b=null,_=null;for(const n of t)switch(d&&("space"!==n.type&&"newline"!==n.type&&"comma"!==n.type&&s(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),d=!1),n.type){case"space":!e&&l&&"doc-start"!==i&&"\t"===n.source[0]&&s(n,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||s(n,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=n.source.substring(1)||" ";u?u+=h+t:u=t,h="",l=!1;break}case"newline":l?u?u+=n.source:a=!0:h+=n.source,l=!0,p=!0,(m||g)&&(f=!0),c=!0;break;case"anchor":m&&s(n,"MULTIPLE_ANCHORS","A node can have at most one anchor"),n.source.endsWith(":")&&s(n.offset+n.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=n,null===_&&(_=n.offset),l=!1,c=!1,d=!0;break;case"tag":g&&s(n,"MULTIPLE_TAGS","A node can have at most one tag"),g=n,null===_&&(_=n.offset),l=!1,c=!1,d=!0;break;case i:(m||g)&&s(n,"BAD_PROP_ORDER",`Anchors and tags must be after the ${n.source} indicator`),b&&s(n,"UNEXPECTED_TOKEN",`Unexpected ${n.source} in ${e??"collection"}`),b=n,l=!1,c=!1;break;case"comma":if(e){y&&s(n,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),y=n,l=!1,c=!1;break}default:s(n,"UNEXPECTED_TOKEN",`Unexpected ${n.type} token`),l=!1,c=!1}const v=t[t.length-1],w=v?v.offset+v.source.length:r;return d&&n&&"space"!==n.type&&"newline"!==n.type&&"comma"!==n.type&&("scalar"!==n.type||""!==n.source)&&s(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:y,found:b,spaceBefore:a,comment:u,hasNewline:p,hasNewlineAfterProp:f,anchor:m,tag:g,end:w,start:_??w}}},9378:(t,e)=>{"use strict";e.containsNewline=function t(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const i of e.items){for(const t of i.start)if("newline"===t.type)return!0;if(i.sep)for(const t of i.sep)if("newline"===t.type)return!0;if(t(i.key)||t(i.value))return!0}return!1;default:return!0}}},1040:(t,e)=>{"use strict";e.emptyScalarPosition=function(t,e,i){if(e){null===i&&(i=e.length);for(let n=i-1;n>=0;--n){let i=e[n];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++n];"space"===i?.type;)t+=i.source.length,i=e[++n];break}}return t}},8644:(t,e,i)=>{"use strict";var n=i(9378);e.flowIndentCheck=function(t,e,i){if("flow-collection"===e?.type){const r=e.end[0];r.indent!==t||"]"!==r.source&&"}"!==r.source||!n.containsNewline(e)||i(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}},8334:(t,e,i)=>{"use strict";var n=i(484);e.mapIncludes=function(t,e,i){const{uniqueKeys:r}=t.options;if(!1===r)return!1;const s="function"==typeof r?r:(e,i)=>e===i||n.isScalar(e)&&n.isScalar(i)&&e.value===i.value&&!("<<"===e.value&&t.schema.merge);return e.some((t=>s(t.key,i)))}},9046:(t,e,i)=>{"use strict";var n=i(1736),r=i(1614),s=i(484),o=i(7902),a=i(3732),l=i(625),c=i(1768),u=i(6261),h=i(6906),p=i(5219),f=i(8673);class d{constructor(t,e,i){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,s.NODE_TYPE,{value:s.DOC});let n=null;"function"==typeof e||Array.isArray(e)?n=e:void 0===i&&e&&(i=e,e=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},i);this.options=r;let{version:o}=r;i?._directives?(this.directives=i._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new f.Directives({version:o}),this.setSchema(o,i),this.contents=void 0===t?null:this.createNode(t,n,i)}clone(){const t=Object.create(d.prototype,{[s.NODE_TYPE]:{value:s.DOC}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=s.isNode(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){m(this.contents)&&this.contents.add(t)}addIn(t,e){m(this.contents)&&this.contents.addIn(t,e)}createAlias(t,e){if(!t.anchor){const i=u.anchorNames(this);t.anchor=!e||i.has(e)?u.findNewAnchor(e||"a",i):e}return new n.Alias(t.anchor)}createNode(t,e,i){let n;if("function"==typeof e)t=e.call({"":t},"",t),n=e;else if(Array.isArray(e)){const t=t=>"number"==typeof t||t instanceof String||t instanceof Number,i=e.filter(t).map(String);i.length>0&&(e=e.concat(i)),n=e}else void 0===i&&e&&(i=e,e=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:h}=i??{},{onAnchor:f,setAnchors:d,sourceObjects:m}=u.createNodeAnchors(this,o||"a"),g={aliasDuplicateObjects:r??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:n,schema:this.schema,sourceObjects:m},y=p.createNode(t,h,g);return a&&s.isCollection(y)&&(y.flow=!0),d(),y}createPair(t,e,i={}){const n=this.createNode(t,null,i),r=this.createNode(e,null,i);return new o.Pair(n,r)}delete(t){return!!m(this.contents)&&this.contents.delete(t)}deleteIn(t){return r.isEmptyPath(t)?null!=this.contents&&(this.contents=null,!0):!!m(this.contents)&&this.contents.deleteIn(t)}get(t,e){return s.isCollection(this.contents)?this.contents.get(t,e):void 0}getIn(t,e){return r.isEmptyPath(t)?!e&&s.isScalar(this.contents)?this.contents.value:this.contents:s.isCollection(this.contents)?this.contents.getIn(t,e):void 0}has(t){return!!s.isCollection(this.contents)&&this.contents.has(t)}hasIn(t){return r.isEmptyPath(t)?void 0!==this.contents:!!s.isCollection(this.contents)&&this.contents.hasIn(t)}set(t,e){null==this.contents?this.contents=r.collectionFromPath(this.schema,[t],e):m(this.contents)&&this.contents.set(t,e)}setIn(t,e){r.isEmptyPath(t)?this.contents=e:null==this.contents?this.contents=r.collectionFromPath(this.schema,Array.from(t),e):m(this.contents)&&this.contents.setIn(t,e)}setSchema(t,e={}){let i;switch("number"==typeof t&&(t=String(t)),t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new f.Directives({version:"1.1"}),i={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new f.Directives({version:t}),i={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,i=null;break;default:{const e=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${e}`)}}if(e.schema instanceof Object)this.schema=e.schema;else{if(!i)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new l.Schema(Object.assign(i,e))}}toJS({json:t,jsonArg:e,mapAsMap:i,maxAliasCount:n,onAnchor:r,reviver:s}={}){const o={anchors:new Map,doc:this,keep:!t,mapAsMap:!0===i,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},l=a.toJS(this.contents,e??"",o);if("function"==typeof r)for(const{count:t,res:e}of o.anchors.values())r(e,t);return"function"==typeof s?h.applyReviver(s,{"":l},"",l):l}toJSON(t,e){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:e})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const e=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${e}`)}return c.stringifyDocument(this,t)}}function m(t){if(s.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}e.Document=d},6261:(t,e,i)=>{"use strict";var n=i(484),r=i(9125);function s(t){const e=new Set;return r.visit(t,{Value(t,i){i.anchor&&e.add(i.anchor)}}),e}function o(t,e){for(let i=1;;++i){const n=`${t}${i}`;if(!e.has(n))return n}}e.anchorIsValid=function(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const e=JSON.stringify(t);throw new Error(`Anchor must not contain whitespace or control characters: ${e}`)}return!0},e.anchorNames=s,e.createNodeAnchors=function(t,e){const i=[],r=new Map;let a=null;return{onAnchor:n=>{i.push(n),a||(a=s(t));const r=o(e,a);return a.add(r),r},setAnchors:()=>{for(const t of i){const e=r.get(t);if("object"!=typeof e||!e.anchor||!n.isScalar(e.node)&&!n.isCollection(e.node)){const e=new Error("Failed to resolve repeated object (this should not happen)");throw e.source=t,e}e.node.anchor=e.anchor}},sourceObjects:r}},e.findNewAnchor=o},6906:(t,e)=>{"use strict";e.applyReviver=function t(e,i,n,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let i=0,n=r.length;i<n;++i){const n=r[i],s=t(e,r,String(i),n);void 0===s?delete r[i]:s!==n&&(r[i]=s)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const n=r.get(i),s=t(e,r,i,n);void 0===s?r.delete(i):s!==n&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const n=t(e,r,i,i);void 0===n?r.delete(i):n!==i&&(r.delete(i),r.add(n))}else for(const[i,n]of Object.entries(r)){const s=t(e,r,i,n);void 0===s?delete r[i]:s!==n&&(r[i]=s)}return e.call(i,n,r)}},5219:(t,e,i)=>{"use strict";var n=i(1736),r=i(484),s=i(9714);e.createNode=function(t,e,i){if(r.isDocument(t)&&(t=t.contents),r.isNode(t))return t;if(r.isPair(t)){const e=i.schema[r.MAP].createNode?.(i.schema,null,i);return e.items.push(t),e}(t instanceof String||t instanceof Number||t instanceof Boolean||"undefined"!=typeof BigInt&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:o,onAnchor:a,onTagObj:l,schema:c,sourceObjects:u}=i;let h;if(o&&t&&"object"==typeof t){if(h=u.get(t),h)return h.anchor||(h.anchor=a(t)),new n.Alias(h.anchor);h={anchor:null,node:null},u.set(t,h)}e?.startsWith("!!")&&(e="tag:yaml.org,2002:"+e.slice(2));let p=function(t,e,i){if(e){const t=i.filter((t=>t.tag===e)),n=t.find((t=>!t.format))??t[0];if(!n)throw new Error(`Tag ${e} not found`);return n}return i.find((e=>e.identify?.(t)&&!e.format))}(t,e,c.tags);if(!p){if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t||"object"!=typeof t){const e=new s.Scalar(t);return h&&(h.node=e),e}p=t instanceof Map?c[r.MAP]:Symbol.iterator in Object(t)?c[r.SEQ]:c[r.MAP]}l&&(l(p),delete i.onTagObj);const f=p?.createNode?p.createNode(i.schema,t,i):"function"==typeof p?.nodeClass?.from?p.nodeClass.from(i.schema,t,i):new s.Scalar(t);return e?f.tag=e:p.default||(f.tag=p.tag),h&&(h.node=f),f}},8673:(t,e,i)=>{"use strict";var n=i(484),r=i(9125);const s={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class o{constructor(t,e){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},o.defaultYaml,t),this.tags=Object.assign({},o.defaultTags,e)}clone(){const t=new o(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new o(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:o.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},o.defaultTags)}return t}add(t,e){this.atNextDocument&&(this.yaml={explicit:o.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},o.defaultTags),this.atNextDocument=!1);const i=t.trim().split(/[ \t]+/),n=i.shift();switch(n){case"%TAG":{if(2!==i.length&&(e(0,"%TAG directive should contain exactly two parts"),i.length<2))return!1;const[t,n]=i;return this.tags[t]=n,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==i.length)return e(0,"%YAML directive should contain exactly one part"),!1;const[t]=i;return"1.1"===t||"1.2"===t?(this.yaml.version=t,!0):(e(6,`Unsupported YAML version ${t}`,/^\d+\.\d+$/.test(t)),!1)}default:return e(0,`Unknown directive ${n}`,!0),!1}}tagName(t,e){if("!"===t)return"!";if("!"!==t[0])return e(`Not a valid tag: ${t}`),null;if("<"===t[1]){const i=t.slice(2,-1);return"!"===i||"!!"===i?(e(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(">"!==t[t.length-1]&&e("Verbatim tags must end with a >"),i)}const[,i,n]=t.match(/^(.*!)([^!]*)$/s);n||e(`The ${t} tag has no suffix`);const r=this.tags[i];if(r)try{return r+decodeURIComponent(n)}catch(t){return e(String(t)),null}return"!"===i?t:(e(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[e,i]of Object.entries(this.tags))if(t.startsWith(i))return e+t.substring(i.length).replace(/[!,[\]{}]/g,(t=>s[t]));return"!"===t[0]?t:`!<${t}>`}toString(t){const e=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],i=Object.entries(this.tags);let s;if(t&&i.length>0&&n.isNode(t.contents)){const e={};r.visit(t.contents,((t,i)=>{n.isNode(i)&&i.tag&&(e[i.tag]=!0)})),s=Object.keys(e)}else s=[];for(const[n,r]of i)"!!"===n&&"tag:yaml.org,2002:"===r||t&&!s.some((t=>t.startsWith(r)))||e.push(`%TAG ${n} ${r}`);return e.join("\n")}}o.defaultYaml={explicit:!1,version:"1.2"},o.defaultTags={"!!":"tag:yaml.org,2002:"},e.Directives=o},4355:(t,e)=>{"use strict";class i extends Error{constructor(t,e,i,n){super(),this.name=t,this.code=i,this.message=n,this.pos=e}}e.YAMLError=i,e.YAMLParseError=class extends i{constructor(t,e,i){super("YAMLParseError",t,e,i)}},e.YAMLWarning=class extends i{constructor(t,e,i){super("YAMLWarning",t,e,i)}},e.prettifyError=(t,e)=>i=>{if(-1===i.pos[0])return;i.linePos=i.pos.map((t=>e.linePos(t)));const{line:n,col:r}=i.linePos[0];i.message+=` at line ${n}, column ${r}`;let s=r-1,o=t.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const t=Math.min(s-39,o.length-79);o="â¦"+o.substring(t),s-=t-1}if(o.length>80&&(o=o.substring(0,79)+"â¦"),n>1&&/^ *$/.test(o.substring(0,s))){let i=t.substring(e.lineStarts[n-2],e.lineStarts[n-1]);i.length>80&&(i=i.substring(0,79)+"â¦\n"),o=i+o}if(/[^ ]/.test(o)){let t=1;const e=i.linePos[1];e&&e.line===n&&e.col>r&&(t=Math.max(1,Math.min(e.col-r,80-s)));const a=" ".repeat(s)+"^".repeat(t);i.message+=`:\n\n${o}\n${a}\n`}}},1198:(t,e,i)=>{"use strict";var n=i(4927),r=i(9046),s=i(625),o=i(4355),a=i(1736),l=i(484),c=i(7902),u=i(9714),h=i(1755),p=i(6010),f=i(9112),d=i(5752),m=i(2864),g=i(6247),y=i(1332),b=i(9125);e.Composer=n.Composer,e.Document=r.Document,e.Schema=s.Schema,e.YAMLError=o.YAMLError,e.YAMLParseError=o.YAMLParseError,e.YAMLWarning=o.YAMLWarning,e.Alias=a.Alias,e.isAlias=l.isAlias,e.isCollection=l.isCollection,e.isDocument=l.isDocument,e.isMap=l.isMap,e.isNode=l.isNode,e.isPair=l.isPair,e.isScalar=l.isScalar,e.isSeq=l.isSeq,e.Pair=c.Pair,e.Scalar=u.Scalar,e.YAMLMap=h.YAMLMap,e.YAMLSeq=p.YAMLSeq,e.CST=f,e.Lexer=d.Lexer,e.LineCounter=m.LineCounter,e.Parser=g.Parser,e.parse=y.parse,e.parseAllDocuments=y.parseAllDocuments,e.parseDocument=y.parseDocument,e.stringify=y.stringify,e.visit=b.visit,e.visitAsync=b.visitAsync},7444:(t,e)=>{"use strict";e.debug=function(t,...e){"debug"===t&&console.log(...e)},e.warn=function(t,e){"debug"!==t&&"warn"!==t||("undefined"!=typeof process&&process.emitWarning?process.emitWarning(e):console.warn(e))}},1736:(t,e,i)=>{"use strict";var n=i(6261),r=i(9125),s=i(484),o=i(8898),a=i(3732);class l extends o.NodeBase{constructor(t){super(s.ALIAS),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let e;return r.visit(t,{Node:(t,i)=>{if(i===this)return r.visit.BREAK;i.anchor===this.source&&(e=i)}}),e}toJSON(t,e){if(!e)return{source:this.source};const{anchors:i,doc:n,maxAliasCount:r}=e,s=this.resolve(n);if(!s){const t=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(t)}let o=i.get(s);if(o||(a.toJS(s,null,e),o=i.get(s)),!o||void 0===o.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(r>=0&&(o.count+=1,0===o.aliasCount&&(o.aliasCount=c(n,s,i)),o.count*o.aliasCount>r))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return o.res}toString(t,e,i){const r=`*${this.source}`;if(t){if(n.anchorIsValid(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const t=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(t)}if(t.implicitKey)return`${r} `}return r}}function c(t,e,i){if(s.isAlias(e)){const n=e.resolve(t),r=i&&n&&i.get(n);return r?r.count*r.aliasCount:0}if(s.isCollection(e)){let n=0;for(const r of e.items){const e=c(t,r,i);e>n&&(n=e)}return n}if(s.isPair(e)){const n=c(t,e.key,i),r=c(t,e.value,i);return Math.max(n,r)}return 1}e.Alias=l},1614:(t,e,i)=>{"use strict";var n=i(5219),r=i(484),s=i(8898);function o(t,e,i){let r=i;for(let t=e.length-1;t>=0;--t){const i=e[t];if("number"==typeof i&&Number.isInteger(i)&&i>=0){const t=[];t[i]=r,r=t}else r=new Map([[i,r]])}return n.createNode(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const a=t=>null==t||"object"==typeof t&&!!t[Symbol.iterator]().next().done;class l extends s.NodeBase{constructor(t,e){super(t),Object.defineProperty(this,"schema",{value:e,configurable:!0,enumerable:!1,writable:!0})}clone(t){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(e.schema=t),e.items=e.items.map((e=>r.isNode(e)||r.isPair(e)?e.clone(t):e)),this.range&&(e.range=this.range.slice()),e}addIn(t,e){if(a(t))this.add(e);else{const[i,...n]=t,s=this.get(i,!0);if(r.isCollection(s))s.addIn(n,e);else{if(void 0!==s||!this.schema)throw new Error(`Expected YAML collection at ${i}. Remaining path: ${n}`);this.set(i,o(this.schema,n,e))}}}deleteIn(t){const[e,...i]=t;if(0===i.length)return this.delete(e);const n=this.get(e,!0);if(r.isCollection(n))return n.deleteIn(i);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${i}`)}getIn(t,e){const[i,...n]=t,s=this.get(i,!0);return 0===n.length?!e&&r.isScalar(s)?s.value:s:r.isCollection(s)?s.getIn(n,e):void 0}hasAllNullValues(t){return this.items.every((e=>{if(!r.isPair(e))return!1;const i=e.value;return null==i||t&&r.isScalar(i)&&null==i.value&&!i.commentBefore&&!i.comment&&!i.tag}))}hasIn(t){const[e,...i]=t;if(0===i.length)return this.has(e);const n=this.get(e,!0);return!!r.isCollection(n)&&n.hasIn(i)}setIn(t,e){const[i,...n]=t;if(0===n.length)this.set(i,e);else{const t=this.get(i,!0);if(r.isCollection(t))t.setIn(n,e);else{if(void 0!==t||!this.schema)throw new Error(`Expected YAML collection at ${i}. Remaining path: ${n}`);this.set(i,o(this.schema,n,e))}}}}l.maxFlowStringSingleLineLength=60,e.Collection=l,e.collectionFromPath=o,e.isEmptyPath=a},8898:(t,e,i)=>{"use strict";var n=i(6906),r=i(484),s=i(3732);e.NodeBase=class{constructor(t){Object.defineProperty(this,r.NODE_TYPE,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:e,maxAliasCount:i,onAnchor:o,reviver:a}={}){if(!r.isDocument(t))throw new TypeError("A document argument is required");const l={anchors:new Map,doc:t,keep:!0,mapAsMap:!0===e,mapKeyWarned:!1,maxAliasCount:"number"==typeof i?i:100},c=s.toJS(this,"",l);if("function"==typeof o)for(const{count:t,res:e}of l.anchors.values())o(e,t);return"function"==typeof a?n.applyReviver(a,{"":c},"",c):c}}},7902:(t,e,i)=>{"use strict";var n=i(5219),r=i(8017),s=i(5139),o=i(484);class a{constructor(t,e=null){Object.defineProperty(this,o.NODE_TYPE,{value:o.PAIR}),this.key=t,this.value=e}clone(t){let{key:e,value:i}=this;return o.isNode(e)&&(e=e.clone(t)),o.isNode(i)&&(i=i.clone(t)),new a(e,i)}toJSON(t,e){const i=e?.mapAsMap?new Map:{};return s.addPairToJSMap(e,i,this)}toString(t,e,i){return t?.doc?r.stringifyPair(this,t,e,i):JSON.stringify(this)}}e.Pair=a,e.createPair=function(t,e,i){const r=n.createNode(t,void 0,i),s=n.createNode(e,void 0,i);return new a(r,s)}},9714:(t,e,i)=>{"use strict";var n=i(484),r=i(8898),s=i(3732);class o extends r.NodeBase{constructor(t){super(n.SCALAR),this.value=t}toJSON(t,e){return e?.keep?this.value:s.toJS(this.value,t,e)}toString(){return String(this.value)}}o.BLOCK_FOLDED="BLOCK_FOLDED",o.BLOCK_LITERAL="BLOCK_LITERAL",o.PLAIN="PLAIN",o.QUOTE_DOUBLE="QUOTE_DOUBLE",o.QUOTE_SINGLE="QUOTE_SINGLE",e.Scalar=o,e.isScalarValue=t=>!t||"function"!=typeof t&&"object"!=typeof t},1755:(t,e,i)=>{"use strict";var n=i(81),r=i(5139),s=i(1614),o=i(484),a=i(7902),l=i(9714);function c(t,e){const i=o.isScalar(e)?e.value:e;for(const n of t)if(o.isPair(n)){if(n.key===e||n.key===i)return n;if(o.isScalar(n.key)&&n.key.value===i)return n}}class u extends s.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(o.MAP,t),this.items=[]}static from(t,e,i){const{keepUndefined:n,replacer:r}=i,s=new this(t),o=(t,o)=>{if("function"==typeof r)o=r.call(e,t,o);else if(Array.isArray(r)&&!r.includes(t))return;(void 0!==o||n)&&s.items.push(a.createPair(t,o,i))};if(e instanceof Map)for(const[t,i]of e)o(t,i);else if(e&&"object"==typeof e)for(const t of Object.keys(e))o(t,e[t]);return"function"==typeof t.sortMapEntries&&s.items.sort(t.sortMapEntries),s}add(t,e){let i;i=o.isPair(t)?t:t&&"object"==typeof t&&"key"in t?new a.Pair(t.key,t.value):new a.Pair(t,t?.value);const n=c(this.items,i.key),r=this.schema?.sortMapEntries;if(n){if(!e)throw new Error(`Key ${i.key} already set`);o.isScalar(n.value)&&l.isScalarValue(i.value)?n.value.value=i.value:n.value=i.value}else if(r){const t=this.items.findIndex((t=>r(i,t)<0));-1===t?this.items.push(i):this.items.splice(t,0,i)}else this.items.push(i)}delete(t){const e=c(this.items,t);return!!e&&this.items.splice(this.items.indexOf(e),1).length>0}get(t,e){const i=c(this.items,t),n=i?.value;return(!e&&o.isScalar(n)?n.value:n)??void 0}has(t){return!!c(this.items,t)}set(t,e){this.add(new a.Pair(t,e),!0)}toJSON(t,e,i){const n=i?new i:e?.mapAsMap?new Map:{};e?.onCreate&&e.onCreate(n);for(const t of this.items)r.addPairToJSMap(e,n,t);return n}toString(t,e,i){if(!t)return JSON.stringify(this);for(const t of this.items)if(!o.isPair(t))throw new Error(`Map items must all be pairs; found ${JSON.stringify(t)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),n.stringifyCollection(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:i,onComment:e})}}e.YAMLMap=u,e.findPair=c},6010:(t,e,i)=>{"use strict";var n=i(5219),r=i(81),s=i(1614),o=i(484),a=i(9714),l=i(3732);class c extends s.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(o.SEQ,t),this.items=[]}add(t){this.items.push(t)}delete(t){const e=u(t);return"number"==typeof e&&this.items.splice(e,1).length>0}get(t,e){const i=u(t);if("number"!=typeof i)return;const n=this.items[i];return!e&&o.isScalar(n)?n.value:n}has(t){const e=u(t);return"number"==typeof e&&e<this.items.length}set(t,e){const i=u(t);if("number"!=typeof i)throw new Error(`Expected a valid index, not ${t}.`);const n=this.items[i];o.isScalar(n)&&a.isScalarValue(e)?n.value=e:this.items[i]=e}toJSON(t,e){const i=[];e?.onCreate&&e.onCreate(i);let n=0;for(const t of this.items)i.push(l.toJS(t,String(n++),e));return i}toString(t,e,i){return t?r.stringifyCollection(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:i,onComment:e}):JSON.stringify(this)}static from(t,e,i){const{replacer:r}=i,s=new this(t);if(e&&Symbol.iterator in Object(e)){let t=0;for(let o of e){if("function"==typeof r){const i=e instanceof Set?o:String(t++);o=r.call(e,i,o)}s.items.push(n.createNode(o,void 0,i))}}return s}}function u(t){let e=o.isScalar(t)?t.value:t;return e&&"string"==typeof e&&(e=Number(e)),"number"==typeof e&&Number.isInteger(e)&&e>=0?e:null}e.YAMLSeq=c},5139:(t,e,i)=>{"use strict";var n=i(7444),r=i(3793),s=i(484),o=i(9714),a=i(3732);function l(t,e,i){const n=t&&s.isAlias(i)?i.resolve(t.doc):i;if(!s.isMap(n))throw new Error("Merge sources must be maps or map aliases");const r=n.toJSON(null,t,Map);for(const[t,i]of r)e instanceof Map?e.has(t)||e.set(t,i):e instanceof Set?e.add(t):Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!0,configurable:!0});return e}e.addPairToJSMap=function(t,e,{key:i,value:c}){if(t?.doc.schema.merge&&(t=>"<<"===t||s.isScalar(t)&&"<<"===t.value&&(!t.type||t.type===o.Scalar.PLAIN))(i))if(c=s.isAlias(c)?c.resolve(t.doc):c,s.isSeq(c))for(const i of c.items)l(t,e,i);else if(Array.isArray(c))for(const i of c)l(t,e,i);else l(t,e,c);else{const o=a.toJS(i,"",t);if(e instanceof Map)e.set(o,a.toJS(c,o,t));else if(e instanceof Set)e.add(o);else{const l=function(t,e,i){if(null===e)return"";if("object"!=typeof e)return String(e);if(s.isNode(t)&&i?.doc){const e=r.createStringifyContext(i.doc,{});e.anchors=new Set;for(const t of i.anchors.keys())e.anchors.add(t.anchor);e.inFlow=!0,e.inStringifyKey=!0;const s=t.toString(e);if(!i.mapKeyWarned){let t=JSON.stringify(s);t.length>40&&(t=t.substring(0,36)+'..."'),n.warn(i.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${t}. Set mapAsMap: true to use object keys.`),i.mapKeyWarned=!0}return s}return JSON.stringify(e)}(i,o,t),u=a.toJS(c,l,t);l in e?Object.defineProperty(e,l,{value:u,writable:!0,enumerable:!0,configurable:!0}):e[l]=u}}return e}},484:(t,e)=>{"use strict";const i=Symbol.for("yaml.alias"),n=Symbol.for("yaml.document"),r=Symbol.for("yaml.map"),s=Symbol.for("yaml.pair"),o=Symbol.for("yaml.scalar"),a=Symbol.for("yaml.seq"),l=Symbol.for("yaml.node.type"),c=t=>!!t&&"object"==typeof t&&t[l]===o;function u(t){if(t&&"object"==typeof t)switch(t[l]){case r:case a:return!0}return!1}e.ALIAS=i,e.DOC=n,e.MAP=r,e.NODE_TYPE=l,e.PAIR=s,e.SCALAR=o,e.SEQ=a,e.hasAnchor=t=>(c(t)||u(t))&&!!t.anchor,e.isAlias=t=>!!t&&"object"==typeof t&&t[l]===i,e.isCollection=u,e.isDocument=t=>!!t&&"object"==typeof t&&t[l]===n,e.isMap=t=>!!t&&"object"==typeof t&&t[l]===r,e.isNode=function(t){if(t&&"object"==typeof t)switch(t[l]){case i:case r:case o:case a:return!0}return!1},e.isPair=t=>!!t&&"object"==typeof t&&t[l]===s,e.isScalar=c,e.isSeq=t=>!!t&&"object"==typeof t&&t[l]===a},3732:(t,e,i)=>{"use strict";var n=i(484);e.toJS=function t(e,i,r){if(Array.isArray(e))return e.map(((e,i)=>t(e,String(i),r)));if(e&&"function"==typeof e.toJSON){if(!r||!n.hasAnchor(e))return e.toJSON(i,r);const t={aliasCount:0,count:1,res:void 0};r.anchors.set(e,t),r.onCreate=e=>{t.res=e,delete r.onCreate};const s=e.toJSON(i,r);return r.onCreate&&r.onCreate(s),s}return"bigint"!=typeof e||r?.keep?e:Number(e)}},5141:(t,e,i)=>{"use strict";var n=i(4070),r=i(7571),s=i(4355),o=i(7180);function a(t,e){if(e)for(const i of e)switch(i.type){case"space":case"comment":t.push(i);break;case"newline":return t.push(i),!0}return!1}function l(t,e,i){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=i,t.source=e;break;case"block-scalar":{const n=t.props.slice(1);let r=e.length;"block-scalar-header"===t.props[0].type&&(r-=t.props[0].source.length);for(const t of n)t.offset+=r;delete t.props,Object.assign(t,{type:i,source:e,end:n});break}case"block-map":case"block-seq":{const n={type:"newline",offset:t.offset+e.length,indent:t.indent,source:"\n"};delete t.items,Object.assign(t,{type:i,source:e,end:[n]});break}default:{const n="indent"in t?t.indent:-1,r="end"in t&&Array.isArray(t.end)?t.end.filter((t=>"space"===t.type||"comment"===t.type||"newline"===t.type)):[];for(const e of Object.keys(t))"type"!==e&&"offset"!==e&&delete t[e];Object.assign(t,{type:i,indent:n,source:e,end:r})}}}e.createScalarToken=function(t,e){const{implicitKey:i=!1,indent:n,inFlow:r=!1,offset:s=-1,type:l="PLAIN"}=e,c=o.stringifyString({type:l,value:t},{implicitKey:i,indent:n>0?" ".repeat(n):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),u=e.end??[{type:"newline",offset:-1,indent:n,source:"\n"}];switch(c[0]){case"|":case">":{const t=c.indexOf("\n"),e=c.substring(0,t),i=c.substring(t+1)+"\n",r=[{type:"block-scalar-header",offset:s,indent:n,source:e}];return a(r,u)||r.push({type:"newline",offset:-1,indent:n,source:"\n"}),{type:"block-scalar",offset:s,indent:n,props:r,source:i}}case'"':return{type:"double-quoted-scalar",offset:s,indent:n,source:c,end:u};case"'":return{type:"single-quoted-scalar",offset:s,indent:n,source:c,end:u};default:return{type:"scalar",offset:s,indent:n,source:c,end:u}}},e.resolveAsScalar=function(t,e=!0,i){if(t){const o=(t,e,n)=>{const r="number"==typeof t?t:Array.isArray(t)?t[0]:t.offset;if(!i)throw new s.YAMLParseError([r,r+1],e,n);i(r,e,n)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return r.resolveFlowScalar(t,e,o);case"block-scalar":return n.resolveBlockScalar(t,e,o)}}return null},e.setScalarValue=function(t,e,i={}){let{afterKey:n=!1,implicitKey:r=!1,inFlow:s=!1,type:c}=i,u="indent"in t?t.indent:null;if(n&&"number"==typeof u&&(u+=2),!c)switch(t.type){case"single-quoted-scalar":c="QUOTE_SINGLE";break;case"double-quoted-scalar":c="QUOTE_DOUBLE";break;case"block-scalar":{const e=t.props[0];if("block-scalar-header"!==e.type)throw new Error("Invalid block scalar header");c=">"===e.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:c="PLAIN"}const h=o.stringifyString({type:c,value:e},{implicitKey:r||null===u,indent:null!==u&&u>0?" ".repeat(u):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(h[0]){case"|":case">":!function(t,e){const i=e.indexOf("\n"),n=e.substring(0,i),r=e.substring(i+1)+"\n";if("block-scalar"===t.type){const e=t.props[0];if("block-scalar-header"!==e.type)throw new Error("Invalid block scalar header");e.source=n,t.source=r}else{const{offset:e}=t,i="indent"in t?t.indent:-1,s=[{type:"block-scalar-header",offset:e,indent:i,source:n}];a(s,"end"in t?t.end:void 0)||s.push({type:"newline",offset:-1,indent:i,source:"\n"});for(const e of Object.keys(t))"type"!==e&&"offset"!==e&&delete t[e];Object.assign(t,{type:"block-scalar",indent:i,props:s,source:r})}}(t,h);break;case'"':l(t,h,"double-quoted-scalar");break;case"'":l(t,h,"single-quoted-scalar");break;default:l(t,h,"scalar")}}},7808:(t,e)=>{"use strict";function i(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=i(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const i of t.items)e+=n(i);return e}case"flow-collection":{let e=t.start.source;for(const i of t.items)e+=n(i);for(const i of t.end)e+=i.source;return e}case"document":{let e=n(t);if(t.end)for(const i of t.end)e+=i.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const i of t.end)e+=i.source;return e}}}function n({start:t,key:e,sep:n,value:r}){let s="";for(const e of t)s+=e.source;if(e&&(s+=i(e)),n)for(const t of n)s+=t.source;return r&&(s+=i(r)),s}e.stringify=t=>"type"in t?i(t):n(t)},5970:(t,e)=>{"use strict";const i=Symbol("break visit"),n=Symbol("skip children"),r=Symbol("remove item");function s(t,e){"type"in t&&"document"===t.type&&(t={start:t.start,value:t.value}),o(Object.freeze([]),t,e)}function o(t,e,n){let s=n(e,t);if("symbol"==typeof s)return s;for(const a of["key","value"]){const l=e[a];if(l&&"items"in l){for(let e=0;e<l.items.length;++e){const s=o(Object.freeze(t.concat([[a,e]])),l.items[e],n);if("number"==typeof s)e=s-1;else{if(s===i)return i;s===r&&(l.items.splice(e,1),e-=1)}}"function"==typeof s&&"key"===a&&(s=s(e,t))}}return"function"==typeof s?s(e,t):s}s.BREAK=i,s.SKIP=n,s.REMOVE=r,s.itemAtPath=(t,e)=>{let i=t;for(const[t,n]of e){const e=i?.[t];if(!e||!("items"in e))return;i=e.items[n]}return i},s.parentCollection=(t,e)=>{const i=s.itemAtPath(t,e.slice(0,-1)),n=e[e.length-1][0],r=i?.[n];if(r&&"items"in r)return r;throw new Error("Parent collection not found")},e.visit=s},9112:(t,e,i)=>{"use strict";var n=i(5141),r=i(7808),s=i(5970);e.createScalarToken=n.createScalarToken,e.resolveAsScalar=n.resolveAsScalar,e.setScalarValue=n.setScalarValue,e.stringify=r.stringify,e.visit=s.visit,e.BOM="\ufeff",e.DOCUMENT="",e.FLOW_END="",e.SCALAR="",e.isCollection=t=>!!t&&"items"in t,e.isScalar=t=>!!t&&("scalar"===t.type||"single-quoted-scalar"===t.type||"double-quoted-scalar"===t.type||"block-scalar"===t.type),e.prettyToken=function(t){switch(t){case"\ufeff":return"<BOM>";case"":return"<DOC>";case"":return"<FLOW_END>";case"":return"<SCALAR>";default:return JSON.stringify(t)}},e.tokenType=function(t){switch(t){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}},5752:(t,e,i)=>{"use strict";var n=i(9112);function r(t){switch(t){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const s="0123456789ABCDEFabcdef".split(""),o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),a=",[]{}".split(""),l=" ,[]{}\n\r\t".split(""),c=t=>!t||l.includes(t);e.Lexer=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,e=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!e;let i=this.next??"stream";for(;i&&(e||this.hasChars(1));)i=yield*this.parseNext(i)}atLineEnd(){let t=this.pos,e=this.buffer[t];for(;" "===e||"\t"===e;)e=this.buffer[++t];return!e||"#"===e||"\n"===e||"\r"===e&&"\n"===this.buffer[t+1]}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let e=this.buffer[t];if(this.indentNext>0){let i=0;for(;" "===e;)e=this.buffer[++i+t];if("\r"===e){const e=this.buffer[i+t+1];if("\n"===e||!e&&!this.atEnd)return t+i+1}return"\n"===e||i>=this.indentNext||!e&&!this.atEnd?t+i:-1}if("-"===e||"."===e){const e=this.buffer.substr(t,3);if(("---"===e||"..."===e)&&r(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return("number"!=typeof t||-1!==t&&t<this.pos)&&(t=this.buffer.indexOf("\n",this.pos),this.lineEndPos=t),-1===t?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[t-1]&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(null===t)return this.setNext("stream");if(t[0]===n.BOM&&(yield*this.pushCount(1),t=t.substring(1)),"%"===t[0]){let e=t.length;const i=t.indexOf("#");if(-1!==i){const n=t[i-1];" "!==n&&"\t"!==n||(e=i-1)}for(;;){const i=t[e-1];if(" "!==i&&"\t"!==i)break;e-=1}const n=(yield*this.pushCount(e))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-n),this.pushNewline(),"stream"}if(this.atLineEnd()){const e=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-e),yield*this.pushNewline(),"stream"}return yield n.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if("-"===t||"."===t){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if("---"===t&&r(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===t&&r(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!r(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,e]=this.peek(2);if(!e&&!this.atEnd)return this.setNext("block-start");if(("-"===t||"?"===t||":"===t)&&r(e)){const t=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=t,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(null===t)return this.setNext("doc");let e=yield*this.pushIndicators();switch(t[e]){case"#":yield*this.pushCount(t.length-e);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(c),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return e+=(yield*this.parseBlockScalarHeader()),e+=(yield*this.pushSpaces(!0)),yield*this.pushCount(t.length-e),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,e,i=-1;do{t=yield*this.pushNewline(),t>0?(e=yield*this.pushSpaces(!1),this.indentValue=i=e):e=0,e+=(yield*this.pushSpaces(!0))}while(t+e>0);const s=this.getLine();if(null===s)return this.setNext("flow");if((-1!==i&&i<this.indentNext&&"#"!==s[0]||0===i&&(s.startsWith("---")||s.startsWith("..."))&&r(s[3]))&&(i!==this.indentNext-1||1!==this.flowLevel||"]"!==s[0]&&"}"!==s[0]))return this.flowLevel=0,yield n.FLOW_END,yield*this.parseLineStart();let o=0;for(;","===s[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),s[o]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(c),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const t=this.charAt(1);if(this.flowKey||r(t)||","===t)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let e=this.buffer.indexOf(t,this.pos+1);if("'"===t)for(;-1!==e&&"'"===this.buffer[e+1];)e=this.buffer.indexOf("'",e+2);else for(;-1!==e;){let t=0;for(;"\\"===this.buffer[e-1-t];)t+=1;if(t%2==0)break;e=this.buffer.indexOf('"',e+1)}const i=this.buffer.substring(0,e);let n=i.indexOf("\n",this.pos);if(-1!==n){for(;-1!==n;){const t=this.continueScalar(n+1);if(-1===t)break;n=i.indexOf("\n",t)}-1!==n&&(e=n-("\r"===i[n-1]?2:1))}if(-1===e){if(!this.atEnd)return this.setNext("quoted-scalar");e=this.buffer.length}return yield*this.pushToIndex(e+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const e=this.buffer[++t];if("+"===e)this.blockScalarKeep=!0;else if(e>"0"&&e<="9")this.blockScalarIndent=Number(e)-1;else if("-"!==e)break}return yield*this.pushUntil((t=>r(t)||"#"===t))}*parseBlockScalar(){let t,e=this.pos-1,i=0;t:for(let n=this.pos;t=this.buffer[n];++n)switch(t){case" ":i+=1;break;case"\n":e=n,i=0;break;case"\r":{const t=this.buffer[n+1];if(!t&&!this.atEnd)return this.setNext("block-scalar");if("\n"===t)break}default:break t}if(!t&&!this.atEnd)return this.setNext("block-scalar");if(i>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=i:this.indentNext+=this.blockScalarIndent;do{const t=this.continueScalar(e+1);if(-1===t)break;e=this.buffer.indexOf("\n",t)}while(-1!==e);if(-1===e){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let t=e-1,n=this.buffer[t];"\r"===n&&(n=this.buffer[--t]);const r=t;for(;" "===n||"\t"===n;)n=this.buffer[--t];if(!("\n"===n&&t>=this.pos&&t+1+i>r))break;e=t}return yield n.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let e,i=this.pos-1,s=this.pos-1;for(;e=this.buffer[++s];)if(":"===e){const e=this.buffer[s+1];if(r(e)||t&&","===e)break;i=s}else if(r(e)){let n=this.buffer[s+1];if("\r"===e&&("\n"===n?(s+=1,e="\n",n=this.buffer[s+1]):i=s),"#"===n||t&&a.includes(n))break;if("\n"===e){const t=this.continueScalar(s+1);if(-1===t)break;s=Math.max(s,t-2)}}else{if(t&&a.includes(e))break;i=s}return e||this.atEnd?(yield n.SCALAR,yield*this.pushToIndex(i+1,!0),t?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,e){const i=this.buffer.slice(this.pos,t);return i?(yield i,this.pos+=i.length,i.length):(e&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(c))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,e=this.charAt(1);if(r(e)||t&&a.includes(e))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let t=this.pos+2,e=this.buffer[t];for(;!r(e)&&">"!==e;)e=this.buffer[++t];return yield*this.pushToIndex(">"===e?t+1:t,!1)}{let t=this.pos+1,e=this.buffer[t];for(;e;)if(o.includes(e))e=this.buffer[++t];else{if("%"!==e||!s.includes(this.buffer[t+1])||!s.includes(this.buffer[t+2]))break;e=this.buffer[t+=3]}return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return"\n"===t?yield*this.pushCount(1):"\r"===t&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(t){let e,i=this.pos-1;do{e=this.buffer[++i]}while(" "===e||t&&"\t"===e);const n=i-this.pos;return n>0&&(yield this.buffer.substr(this.pos,n),this.pos=i),n}*pushUntil(t){let e=this.pos,i=this.buffer[e];for(;!t(i);)i=this.buffer[++e];return yield*this.pushToIndex(e,!1)}}},2864:(t,e)=>{"use strict";e.LineCounter=class{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let e=0,i=this.lineStarts.length;for(;e<i;){const n=e+i>>1;this.lineStarts[n]<t?e=n+1:i=n}return this.lineStarts[e]===t?{line:e+1,col:1}:0===e?{line:0,col:t}:{line:e,col:t-this.lineStarts[e-1]+1}}}}},6247:(t,e,i)=>{"use strict";var n=i(9112),r=i(5752);function s(t,e){for(let i=0;i<t.length;++i)if(t[i].type===e)return!0;return!1}function o(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function a(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function l(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function c(t){if(0===t.length)return[];let e=t.length;t:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break t}for(;"space"===t[++e]?.type;);return t.splice(e,t.length)}function u(t){if("flow-seq-start"===t.start.type)for(const e of t.items)!e.sep||e.value||s(e.start,"explicit-key-ind")||s(e.sep,"map-value-ind")||(e.key&&(e.value=e.key),delete e.key,a(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}e.Parser=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new r.Lexer,this.onNewLine=t}*parse(t,e=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const i of this.lexer.lex(t,e))yield*this.next(i);e||(yield*this.end())}*next(t){if(this.source=t,process.env.LOG_TOKENS&&console.log("|",n.prettyToken(t)),this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=t.length);const e=n.tokenType(t);if(e)if("scalar"===e)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=e,yield*this.step(),e){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&" "===t[0]&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const e=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:e,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if("doc-end"!==this.type||t&&"doc-end"===t.type){if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(t){return this.stack[this.stack.length-t]}*pop(t){const e=t??this.stack.pop();if(e)if(0===this.stack.length)yield e;else{const t=this.peek(1);switch("block-scalar"===e.type?e.indent="indent"in t?t.indent:0:"flow-collection"===e.type&&"document"===t.type&&(e.indent=0),"flow-collection"===e.type&&u(e),t.type){case"document":t.value=e;break;case"block-scalar":t.props.push(e);break;case"block-map":{const i=t.items[t.items.length-1];if(i.value)return t.items.push({start:[],key:e,sep:[]}),void(this.onKeyLine=!0);if(!i.sep)return Object.assign(i,{key:e,sep:[]}),void(this.onKeyLine=!s(i.start,"explicit-key-ind"));i.value=e;break}case"block-seq":{const i=t.items[t.items.length-1];i.value?t.items.push({start:[],value:e}):i.value=e;break}case"flow-collection":{const i=t.items[t.items.length-1];return void(!i||i.value?t.items.push({start:[],key:e,sep:[]}):i.sep?i.value=e:Object.assign(i,{key:e,sep:[]}))}default:yield*this.pop(),yield*this.pop(e)}if(!("document"!==t.type&&"block-map"!==t.type&&"block-seq"!==t.type||"block-map"!==e.type&&"block-seq"!==e.type)){const i=e.items[e.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&-1===o(i.start)&&(0===e.indent||i.start.every((t=>"comment"!==t.type||t.indent<e.indent)))&&("document"===t.type?t.end=i.start:t.items.push({start:i.start}),e.items.splice(-1,1))}}else{const t="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:t}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&t.start.push(this.sourceToken),void this.stack.push(t)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":return void(-1!==o(t.start)?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void t.start.push(this.sourceToken)}const e=this.startBlockValue(t);e?this.stack.push(e):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if("map-value-ind"===this.type){const e=c(l(this.peek(2)));let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const n={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:e,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=n}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":return void t.props.push(this.sourceToken);case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf("\n")+1;for(;0!==t;)this.onNewLine(this.offset+t),t=this.source.indexOf("\n",t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const e=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,e.value){const i="end"in e.value?e.value.end:void 0,n=Array.isArray(i)?i[i.length-1]:void 0;"comment"===n?.type?i?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken);return;case"space":case"comment":if(e.value)t.items.push({start:[this.sourceToken]});else if(e.sep)e.sep.push(this.sourceToken);else{if(this.atIndentedComment(e.start,t.indent)){const i=t.items[t.items.length-2],n=i?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,e.start),n.push(this.sourceToken),void t.items.pop()}e.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&e.sep&&"seq-item-ind"!==this.type;let n=[];if(i&&e.sep&&!e.value){const i=[];for(let n=0;n<e.sep.length;++n){const r=e.sep[n];switch(r.type){case"newline":i.push(n);break;case"space":break;case"comment":r.indent>t.indent&&(i.length=0);break;default:i.length=0}}i.length>=2&&(n=e.sep.splice(i[1]))}switch(this.type){case"anchor":case"tag":return void(i||e.value?(n.push(this.sourceToken),t.items.push({start:n}),this.onKeyLine=!0):e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken));case"explicit-key-ind":return e.sep||s(e.start,"explicit-key-ind")?i||e.value?(n.push(this.sourceToken),t.items.push({start:n})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):e.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(s(e.start,"explicit-key-ind"))if(e.sep)if(e.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(s(e.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]});else if(a(e.key)&&!s(e.sep,"newline")){const t=c(e.start),i=e.key,n=e.sep;n.push(this.sourceToken),delete e.key,delete e.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:i,sep:n}]})}else n.length>0?e.sep=e.sep.concat(n,this.sourceToken):e.sep.push(this.sourceToken);else if(s(e.start,"newline"))Object.assign(e,{key:null,sep:[this.sourceToken]});else{const t=c(e.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]})}else e.sep?e.value||i?t.items.push({start:n,key:null,sep:[this.sourceToken]}):s(e.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):e.sep.push(this.sourceToken):Object.assign(e,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);return void(i||e.value?(t.items.push({start:n,key:r,sep:[]}),this.onKeyLine=!0):e.sep?this.stack.push(r):(Object.assign(e,{key:r,sep:[]}),this.onKeyLine=!0))}default:{const r=this.startBlockValue(t);if(r)return i&&"block-seq"!==r.type&&s(e.start,"explicit-key-ind")&&t.items.push({start:n}),void this.stack.push(r)}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const e=t.items[t.items.length-1];switch(this.type){case"newline":if(e.value){const i="end"in e.value?e.value.end:void 0,n=Array.isArray(i)?i[i.length-1]:void 0;"comment"===n?.type?i?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else e.start.push(this.sourceToken);return;case"space":case"comment":if(e.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(e.start,t.indent)){const i=t.items[t.items.length-2],n=i?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,e.start),n.push(this.sourceToken),void t.items.pop()}e.start.push(this.sourceToken)}return;case"anchor":case"tag":if(e.value||this.indent<=t.indent)break;return void e.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==t.indent)break;return void(e.value||s(e.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):e.start.push(this.sourceToken))}if(this.indent>t.indent){const e=this.startBlockValue(t);if(e)return void this.stack.push(e)}yield*this.pop(),yield*this.step()}*flowCollection(t){const e=t.items[t.items.length-1];if("flow-error-end"===this.type){let t;do{yield*this.pop(),t=this.peek(1)}while(t&&"flow-collection"===t.type)}else if(0===t.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!e||e.sep?t.items.push({start:[this.sourceToken]}):e.start.push(this.sourceToken));case"map-value-ind":return void(!e||e.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):e.sep?e.sep.push(this.sourceToken):Object.assign(e,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!e||e.value?t.items.push({start:[this.sourceToken]}):e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);return void(!e||e.value?t.items.push({start:[],key:i,sep:[]}):e.sep?this.stack.push(i):Object.assign(e,{key:i,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void t.end.push(this.sourceToken)}const i=this.startBlockValue(t);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{const e=this.peek(2);if("block-map"===e.type&&("map-value-ind"===this.type&&e.indent===t.indent||"newline"===this.type&&!e.items[e.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==e.type){const i=c(l(e));u(t);const n=t.end.splice(1,t.end.length);n.push(this.sourceToken);const r={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:i,key:t,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let t=this.source.indexOf("\n")+1;for(;0!==t;)this.onNewLine(this.offset+t),t=this.source.indexOf("\n",t)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const e=c(l(t));return e.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e}]}}case"map-value-ind":{this.onKeyLine=!0;const e=c(l(t));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,e){return"comment"===this.type&&!(this.indent<=e)&&t.every((t=>"newline"===t.type||"space"===t.type))}*documentEnd(t){"doc-mode"!==this.type&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}},1332:(t,e,i)=>{"use strict";var n=i(4927),r=i(9046),s=i(4355),o=i(7444),a=i(2864),l=i(6247);function c(t){const e=!1!==t.prettyErrors;return{lineCounter:t.lineCounter||e&&new a.LineCounter||null,prettyErrors:e}}function u(t,e={}){const{lineCounter:i,prettyErrors:r}=c(e),o=new l.Parser(i?.addNewLine),a=new n.Composer(e);let u=null;for(const e of a.compose(o.parse(t),!0,t.length))if(u){if("silent"!==u.options.logLevel){u.errors.push(new s.YAMLParseError(e.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else u=e;return r&&i&&(u.errors.forEach(s.prettifyError(t,i)),u.warnings.forEach(s.prettifyError(t,i))),u}e.parse=function(t,e,i){let n;"function"==typeof e?n=e:void 0===i&&e&&"object"==typeof e&&(i=e);const r=u(t,i);if(!r)return null;if(r.warnings.forEach((t=>o.warn(r.options.logLevel,t))),r.errors.length>0){if("silent"!==r.options.logLevel)throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:n},i))},e.parseAllDocuments=function(t,e={}){const{lineCounter:i,prettyErrors:r}=c(e),o=new l.Parser(i?.addNewLine),a=new n.Composer(e),u=Array.from(a.compose(o.parse(t)));if(r&&i)for(const e of u)e.errors.forEach(s.prettifyError(t,i)),e.warnings.forEach(s.prettifyError(t,i));return u.length>0?u:Object.assign([],{empty:!0},a.streamInfo())},e.parseDocument=u,e.stringify=function(t,e,i){let n=null;if("function"==typeof e||Array.isArray(e)?n=e:void 0===i&&e&&(i=e),"string"==typeof i&&(i=i.length),"number"==typeof i){const t=Math.round(i);i=t<1?void 0:t>8?{indent:8}:{indent:t}}if(void 0===t){const{keepUndefined:t}=i??e??{};if(!t)return}return new r.Document(t,n,i).toString(i)}},625:(t,e,i)=>{"use strict";var n=i(484),r=i(3334),s=i(1919),o=i(8531),a=i(975);const l=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class c{constructor({compat:t,customTags:e,merge:i,resolveKnownTags:c,schema:u,sortMapEntries:h,toStringDefaults:p}){this.compat=Array.isArray(t)?a.getTags(t,"compat"):t?a.getTags(null,t):null,this.merge=!!i,this.name="string"==typeof u&&u||"core",this.knownTags=c?a.coreKnownTags:{},this.tags=a.getTags(e,this.name),this.toStringOptions=p??null,Object.defineProperty(this,n.MAP,{value:r.map}),Object.defineProperty(this,n.SCALAR,{value:o.string}),Object.defineProperty(this,n.SEQ,{value:s.seq}),this.sortMapEntries="function"==typeof h?h:!0===h?l:null}clone(){const t=Object.create(c.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}e.Schema=c},3334:(t,e,i)=>{"use strict";var n=i(484),r=i(1755);const s={collection:"map",default:!0,nodeClass:r.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:(t,e)=>(n.isMap(t)||e("Expected a mapping for this tag"),t),createNode:(t,e,i)=>r.YAMLMap.from(t,e,i)};e.map=s},6055:(t,e,i)=>{"use strict";var n=i(9714);const r={identify:t=>null==t,createNode:()=>new n.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new n.Scalar(null),stringify:({source:t},e)=>"string"==typeof t&&r.test.test(t)?t:e.options.nullStr};e.nullTag=r},1919:(t,e,i)=>{"use strict";var n=i(484),r=i(6010);const s={collection:"seq",default:!0,nodeClass:r.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:(t,e)=>(n.isSeq(t)||e("Expected a sequence for this tag"),t),createNode:(t,e,i)=>r.YAMLSeq.from(t,e,i)};e.seq=s},8531:(t,e,i)=>{"use strict";var n=i(7180);const r={identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:(t,e,i,r)=>(e=Object.assign({actualString:!0},e),n.stringifyString(t,e,i,r))};e.string=r},5132:(t,e,i)=>{"use strict";var n=i(9714);const r={identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new n.Scalar("t"===t[0]||"T"===t[0]),stringify:({source:t,value:e},i)=>t&&r.test.test(t)&&e===("t"===t[0]||"T"===t[0])?t:e?i.options.trueStr:i.options.falseStr};e.boolTag=r},988:(t,e,i)=>{"use strict";var n=i(9714),r=i(3144);const s={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:r.stringifyNumber},o={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():r.stringifyNumber(t)}},a={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new n.Scalar(parseFloat(t)),i=t.indexOf(".");return-1!==i&&"0"===t[t.length-1]&&(e.minFractionDigits=t.length-i-1),e},stringify:r.stringifyNumber};e.float=a,e.floatExp=o,e.floatNaN=s},2891:(t,e,i)=>{"use strict";var n=i(3144);const r=t=>"bigint"==typeof t||Number.isInteger(t),s=(t,e,i,{intAsBigInt:n})=>n?BigInt(t):parseInt(t.substring(e),i);function o(t,e,i){const{value:s}=t;return r(s)&&s>=0?i+s.toString(e):n.stringifyNumber(t)}const a={identify:t=>r(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,i)=>s(t,2,8,i),stringify:t=>o(t,8,"0o")},l={identify:r,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,i)=>s(t,0,10,i),stringify:n.stringifyNumber},c={identify:t=>r(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,i)=>s(t,2,16,i),stringify:t=>o(t,16,"0x")};e.int=l,e.intHex=c,e.intOct=a},8523:(t,e,i)=>{"use strict";var n=i(3334),r=i(6055),s=i(1919),o=i(8531),a=i(5132),l=i(988),c=i(2891);const u=[n.map,s.seq,o.string,r.nullTag,a.boolTag,c.intOct,c.int,c.intHex,l.floatNaN,l.floatExp,l.float];e.schema=u},4988:(t,e,i)=>{"use strict";var n=i(9714),r=i(3334),s=i(1919);function o(t){return"bigint"==typeof t||Number.isInteger(t)}const a=({value:t})=>JSON.stringify(t),l=[{identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:a},{identify:t=>null==t,createNode:()=>new n.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:a},{identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>"true"===t,stringify:a},{identify:o,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:i})=>i?BigInt(t):parseInt(t,10),stringify:({value:t})=>o(t)?t.toString():JSON.stringify(t)},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:a}],c={default:!0,tag:"",test:/^/,resolve:(t,e)=>(e(`Unresolved plain scalar ${JSON.stringify(t)}`),t)},u=[r.map,s.seq].concat(l,c);e.schema=u},975:(t,e,i)=>{"use strict";var n=i(3334),r=i(6055),s=i(1919),o=i(8531),a=i(5132),l=i(988),c=i(2891),u=i(8523),h=i(4988),p=i(8080),f=i(692),d=i(8416),m=i(5822),g=i(2557),y=i(5437);const b=new Map([["core",u.schema],["failsafe",[n.map,s.seq,o.string]],["json",h.schema],["yaml11",m.schema],["yaml-1.1",m.schema]]),_={binary:p.binary,bool:a.boolTag,float:l.float,floatExp:l.floatExp,floatNaN:l.floatNaN,floatTime:y.floatTime,int:c.int,intHex:c.intHex,intOct:c.intOct,intTime:y.intTime,map:n.map,null:r.nullTag,omap:f.omap,pairs:d.pairs,seq:s.seq,set:g.set,timestamp:y.timestamp},v={"tag:yaml.org,2002:binary":p.binary,"tag:yaml.org,2002:omap":f.omap,"tag:yaml.org,2002:pairs":d.pairs,"tag:yaml.org,2002:set":g.set,"tag:yaml.org,2002:timestamp":y.timestamp};e.coreKnownTags=v,e.getTags=function(t,e){let i=b.get(e);if(!i){if(!Array.isArray(t)){const t=Array.from(b.keys()).filter((t=>"yaml11"!==t)).map((t=>JSON.stringify(t))).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${t} or define customTags array`)}i=[]}if(Array.isArray(t))for(const e of t)i=i.concat(e);else"function"==typeof t&&(i=t(i.slice()));return i.map((t=>{if("string"!=typeof t)return t;const e=_[t];if(e)return e;const i=Object.keys(_).map((t=>JSON.stringify(t))).join(", ");throw new Error(`Unknown custom tag "${t}"; use one of ${i}`)}))}},8080:(t,e,i)=>{"use strict";var n=i(9714),r=i(7180);const s={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if("function"==typeof Buffer)return Buffer.from(t,"base64");if("function"==typeof atob){const e=atob(t.replace(/[\n\r]/g,"")),i=new Uint8Array(e.length);for(let t=0;t<e.length;++t)i[t]=e.charCodeAt(t);return i}return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:i},s,o,a){const l=i;let c;if("function"==typeof Buffer)c=l instanceof Buffer?l.toString("base64"):Buffer.from(l.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let t="";for(let e=0;e<l.length;++e)t+=String.fromCharCode(l[e]);c=btoa(t)}}if(e||(e=n.Scalar.BLOCK_LITERAL),e!==n.Scalar.QUOTE_DOUBLE){const t=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),i=Math.ceil(c.length/t),r=new Array(i);for(let e=0,n=0;e<i;++e,n+=t)r[e]=c.substr(n,t);c=r.join(e===n.Scalar.BLOCK_LITERAL?"\n":" ")}return r.stringifyString({comment:t,type:e,value:c},s,o,a)}};e.binary=s},7969:(t,e,i)=>{"use strict";var n=i(9714);function r({value:t,source:e},i){return e&&(t?s:o).test.test(e)?e:t?i.options.trueStr:i.options.falseStr}const s={identify:t=>!0===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new n.Scalar(!0),stringify:r},o={identify:t=>!1===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new n.Scalar(!1),stringify:r};e.falseTag=o,e.trueTag=s},7191:(t,e,i)=>{"use strict";var n=i(9714),r=i(3144);const s={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:r.stringifyNumber},o={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():r.stringifyNumber(t)}},a={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new n.Scalar(parseFloat(t.replace(/_/g,""))),i=t.indexOf(".");if(-1!==i){const n=t.substring(i+1).replace(/_/g,"");"0"===n[n.length-1]&&(e.minFractionDigits=n.length)}return e},stringify:r.stringifyNumber};e.float=a,e.floatExp=o,e.floatNaN=s},6936:(t,e,i)=>{"use strict";var n=i(3144);const r=t=>"bigint"==typeof t||Number.isInteger(t);function s(t,e,i,{intAsBigInt:n}){const r=t[0];if("-"!==r&&"+"!==r||(e+=1),t=t.substring(e).replace(/_/g,""),n){switch(i){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`}const e=BigInt(t);return"-"===r?BigInt(-1)*e:e}const s=parseInt(t,i);return"-"===r?-1*s:s}function o(t,e,i){const{value:s}=t;if(r(s)){const t=s.toString(e);return s<0?"-"+i+t.substr(1):i+t}return n.stringifyNumber(t)}const a={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,i)=>s(t,2,2,i),stringify:t=>o(t,2,"0b")},l={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,i)=>s(t,1,8,i),stringify:t=>o(t,8,"0")},c={identify:r,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,i)=>s(t,0,10,i),stringify:n.stringifyNumber},u={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,i)=>s(t,2,16,i),stringify:t=>o(t,16,"0x")};e.int=c,e.intBin=a,e.intHex=u,e.intOct=l},692:(t,e,i)=>{"use strict";var n=i(484),r=i(3732),s=i(1755),o=i(6010),a=i(8416);class l extends o.YAMLSeq{constructor(){super(),this.add=s.YAMLMap.prototype.add.bind(this),this.delete=s.YAMLMap.prototype.delete.bind(this),this.get=s.YAMLMap.prototype.get.bind(this),this.has=s.YAMLMap.prototype.has.bind(this),this.set=s.YAMLMap.prototype.set.bind(this),this.tag=l.tag}toJSON(t,e){if(!e)return super.toJSON(t);const i=new Map;e?.onCreate&&e.onCreate(i);for(const t of this.items){let s,o;if(n.isPair(t)?(s=r.toJS(t.key,"",e),o=r.toJS(t.value,s,e)):s=r.toJS(t,"",e),i.has(s))throw new Error("Ordered maps must not include duplicate keys");i.set(s,o)}return i}static from(t,e,i){const n=a.createPairs(t,e,i),r=new this;return r.items=n.items,r}}l.tag="tag:yaml.org,2002:omap";const c={collection:"seq",identify:t=>t instanceof Map,nodeClass:l,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const i=a.resolvePairs(t,e),r=[];for(const{key:t}of i.items)n.isScalar(t)&&(r.includes(t.value)?e(`Ordered maps must not include duplicate keys: ${t.value}`):r.push(t.value));return Object.assign(new l,i)},createNode:(t,e,i)=>l.from(t,e,i)};e.YAMLOMap=l,e.omap=c},8416:(t,e,i)=>{"use strict";var n=i(484),r=i(7902),s=i(9714),o=i(6010);function a(t,e){if(n.isSeq(t))for(let i=0;i<t.items.length;++i){let o=t.items[i];if(!n.isPair(o)){if(n.isMap(o)){o.items.length>1&&e("Each pair must have its own sequence indicator");const t=o.items[0]||new r.Pair(new s.Scalar(null));if(o.commentBefore&&(t.key.commentBefore=t.key.commentBefore?`${o.commentBefore}\n${t.key.commentBefore}`:o.commentBefore),o.comment){const e=t.value??t.key;e.comment=e.comment?`${o.comment}\n${e.comment}`:o.comment}o=t}t.items[i]=n.isPair(o)?o:new r.Pair(o)}}else e("Expected a sequence for this tag");return t}function l(t,e,i){const{replacer:n}=i,s=new o.YAMLSeq(t);s.tag="tag:yaml.org,2002:pairs";let a=0;if(e&&Symbol.iterator in Object(e))for(let t of e){let o,l;if("function"==typeof n&&(t=n.call(e,String(a++),t)),Array.isArray(t)){if(2!==t.length)throw new TypeError(`Expected [key, value] tuple: ${t}`);o=t[0],l=t[1]}else if(t&&t instanceof Object){const e=Object.keys(t);if(1!==e.length)throw new TypeError(`Expected tuple with one key, not ${e.length} keys`);o=e[0],l=t[o]}else o=t;s.items.push(r.createPair(o,l,i))}return s}const c={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:a,createNode:l};e.createPairs=l,e.pairs=c,e.resolvePairs=a},5822:(t,e,i)=>{"use strict";var n=i(3334),r=i(6055),s=i(1919),o=i(8531),a=i(8080),l=i(7969),c=i(7191),u=i(6936),h=i(692),p=i(8416),f=i(2557),d=i(5437);const m=[n.map,s.seq,o.string,r.nullTag,l.trueTag,l.falseTag,u.intBin,u.intOct,u.int,u.intHex,c.floatNaN,c.floatExp,c.float,a.binary,h.omap,p.pairs,f.set,d.intTime,d.floatTime,d.timestamp];e.schema=m},2557:(t,e,i)=>{"use strict";var n=i(484),r=i(7902),s=i(1755);class o extends s.YAMLMap{constructor(t){super(t),this.tag=o.tag}add(t){let e;e=n.isPair(t)?t:t&&"object"==typeof t&&"key"in t&&"value"in t&&null===t.value?new r.Pair(t.key,null):new r.Pair(t,null),s.findPair(this.items,e.key)||this.items.push(e)}get(t,e){const i=s.findPair(this.items,t);return!e&&n.isPair(i)?n.isScalar(i.key)?i.key.value:i.key:i}set(t,e){if("boolean"!=typeof e)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof e);const i=s.findPair(this.items,t);i&&!e?this.items.splice(this.items.indexOf(i),1):!i&&e&&this.items.push(new r.Pair(t))}toJSON(t,e){return super.toJSON(t,e,Set)}toString(t,e,i){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),e,i);throw new Error("Set items must all have null values")}static from(t,e,i){const{replacer:n}=i,s=new this(t);if(e&&Symbol.iterator in Object(e))for(let t of e)"function"==typeof n&&(t=n.call(e,t,t)),s.items.push(r.createPair(t,null,i));return s}}o.tag="tag:yaml.org,2002:set";const a={collection:"map",identify:t=>t instanceof Set,nodeClass:o,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,i)=>o.from(t,e,i),resolve(t,e){if(n.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new o,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};e.YAMLSet=o,e.set=a},5437:(t,e,i)=>{"use strict";var n=i(3144);function r(t,e){const i=t[0],n="-"===i||"+"===i?t.substring(1):t,r=t=>e?BigInt(t):Number(t),s=n.replace(/_/g,"").split(":").reduce(((t,e)=>t*r(60)+r(e)),r(0));return"-"===i?r(-1)*s:s}function s(t){let{value:e}=t,i=t=>t;if("bigint"==typeof e)i=t=>BigInt(t);else if(isNaN(e)||!isFinite(e))return n.stringifyNumber(t);let r="";e<0&&(r="-",e*=i(-1));const s=i(60),o=[e%s];return e<60?o.unshift(0):(e=(e-o[0])/s,o.unshift(e%s),e>=60&&(e=(e-o[0])/s,o.unshift(e))),r+o.map((t=>String(t).padStart(2,"0"))).join(":").replace(/000000\d*$/,"")}const o={identify:t=>"bigint"==typeof t||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:i})=>r(t,i),stringify:s},a={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>r(t,!1),stringify:s},l={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(l.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,i,n,s,o,a,c]=e.map(Number),u=e[7]?Number((e[7]+"00").substr(1,3)):0;let h=Date.UTC(i,n-1,s,o||0,a||0,c||0,u);const p=e[8];if(p&&"Z"!==p){let t=r(p,!1);Math.abs(t)<30&&(t*=60),h-=6e4*t}return new Date(h)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};e.floatTime=a,e.intTime=o,e.timestamp=l},6170:(t,e)=>{"use strict";const i="block",n="quoted";function r(t,e,i){let n=e,r=e+1,s=t[r];for(;" "===s||"\t"===s;)if(e<r+i)s=t[++e];else{do{s=t[++e]}while(s&&"\n"!==s);n=e,r=e+1,s=t[r]}return n}e.FOLD_BLOCK=i,e.FOLD_FLOW="flow",e.FOLD_QUOTED=n,e.foldFlowLines=function(t,e,s="flow",{indentAtStart:o,lineWidth:a=80,minContentWidth:l=20,onFold:c,onOverflow:u}={}){if(!a||a<0)return t;const h=Math.max(1+l,1+a-e.length);if(t.length<=h)return t;const p=[],f={};let d,m,g=a-e.length;"number"==typeof o&&(o>a-Math.max(2,l)?p.push(0):g=a-o);let y=!1,b=-1,_=-1,v=-1;s===i&&(b=r(t,b,e.length),-1!==b&&(g=b+h));for(let o;o=t[b+=1];){if(s===n&&"\\"===o){switch(_=b,t[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}v=b}if("\n"===o)s===i&&(b=r(t,b,e.length)),g=b+e.length+h,d=void 0;else{if(" "===o&&m&&" "!==m&&"\n"!==m&&"\t"!==m){const e=t[b+1];e&&" "!==e&&"\n"!==e&&"\t"!==e&&(d=b)}if(b>=g)if(d)p.push(d),g=d+h,d=void 0;else if(s===n){for(;" "===m||"\t"===m;)m=o,o=t[b+=1],y=!0;const e=b>v+1?b-2:_-1;if(f[e])return t;p.push(e),f[e]=!0,g=e+h,d=void 0}else y=!0}m=o}if(y&&u&&u(),0===p.length)return t;c&&c();let w=t.slice(0,p[0]);for(let i=0;i<p.length;++i){const r=p[i],o=p[i+1]||t.length;0===r?w=`\n${e}${t.slice(0,o)}`:(s===n&&f[r]&&(w+=`${t[r]}\\`),w+=`\n${e}${t.slice(r+1,o)}`)}return w}},3793:(t,e,i)=>{"use strict";var n=i(6261),r=i(484),s=i(248),o=i(7180);e.createStringifyContext=function(t,e){const i=Object.assign({blockQuote:!0,commentString:s.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let n;switch(i.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:t,flowCollectionPadding:i.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof i.indent?" ".repeat(i.indent):"  ",inFlow:n,options:i}},e.stringify=function(t,e,i,s){if(r.isPair(t))return t.toString(e,i,s);if(r.isAlias(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let a;const l=r.isNode(t)?t:e.doc.createNode(t,{onTagObj:t=>a=t});a||(a=function(t,e){if(e.tag){const i=t.filter((t=>t.tag===e.tag));if(i.length>0)return i.find((t=>t.format===e.format))??i[0]}let i,n;if(r.isScalar(e)){n=e.value;const r=t.filter((t=>t.identify?.(n)));i=r.find((t=>t.format===e.format))??r.find((t=>!t.format))}else n=e,i=t.find((t=>t.nodeClass&&n instanceof t.nodeClass));if(!i)throw new Error(`Tag not resolved for ${n?.constructor?.name??typeof n} value`);return i}(e.doc.schema.tags,l));const c=function(t,e,{anchors:i,doc:s}){if(!s.directives)return"";const o=[],a=(r.isScalar(t)||r.isCollection(t))&&t.anchor;a&&n.anchorIsValid(a)&&(i.add(a),o.push(`&${a}`));const l=t.tag?t.tag:e.default?null:e.tag;return l&&o.push(s.directives.tagString(l)),o.join(" ")}(l,a,e);c.length>0&&(e.indentAtStart=(e.indentAtStart??0)+c.length+1);const u="function"==typeof a.stringify?a.stringify(l,e,i,s):r.isScalar(l)?o.stringifyString(l,e,i,s):l.toString(e,i,s);return c?r.isScalar(l)||"{"===u[0]||"["===u[0]?`${c} ${u}`:`${c}\n${e.indent}${u}`:u}},81:(t,e,i)=>{"use strict";var n=i(484),r=i(3793),s=i(248);function o({comment:t,items:e},i,{blockItemPrefix:o,flowChars:a,itemIndent:c,onChompKeep:u,onComment:h}){const{indent:p,options:{commentString:f}}=i,d=Object.assign({},i,{indent:c,type:null});let m=!1;const g=[];for(let t=0;t<e.length;++t){const a=e[t];let u=null;if(n.isNode(a))!m&&a.spaceBefore&&g.push(""),l(i,g,a.commentBefore,m),a.comment&&(u=a.comment);else if(n.isPair(a)){const t=n.isNode(a.key)?a.key:null;t&&(!m&&t.spaceBefore&&g.push(""),l(i,g,t.commentBefore,m))}m=!1;let h=r.stringify(a,d,(()=>u=null),(()=>m=!0));u&&(h+=s.lineComment(h,c,f(u))),m&&u&&(m=!1),g.push(o+h)}let y;if(0===g.length)y=a.start+a.end;else{y=g[0];for(let t=1;t<g.length;++t){const e=g[t];y+=e?`\n${p}${e}`:"\n"}}return t?(y+="\n"+s.indentComment(f(t),p),h&&h()):m&&u&&u(),y}function a({items:t},e,{flowChars:i,itemIndent:o}){const{indent:a,indentStep:c,flowCollectionPadding:u,options:{commentString:h}}=e;o+=c;const p=Object.assign({},e,{indent:o,inFlow:!0,type:null});let f=!1,d=0;const m=[];for(let i=0;i<t.length;++i){const a=t[i];let c=null;if(n.isNode(a))a.spaceBefore&&m.push(""),l(e,m,a.commentBefore,!1),a.comment&&(c=a.comment);else if(n.isPair(a)){const t=n.isNode(a.key)?a.key:null;t&&(t.spaceBefore&&m.push(""),l(e,m,t.commentBefore,!1),t.comment&&(f=!0));const i=n.isNode(a.value)?a.value:null;i?(i.comment&&(c=i.comment),i.commentBefore&&(f=!0)):null==a.value&&t?.comment&&(c=t.comment)}c&&(f=!0);let u=r.stringify(a,p,(()=>c=null));i<t.length-1&&(u+=","),c&&(u+=s.lineComment(u,o,h(c))),!f&&(m.length>d||u.includes("\n"))&&(f=!0),m.push(u),d=m.length}const{start:g,end:y}=i;if(0===m.length)return g+y;if(!f){const t=m.reduce(((t,e)=>t+e.length+2),2);f=e.options.lineWidth>0&&t>e.options.lineWidth}if(f){let t=g;for(const e of m)t+=e?`\n${c}${a}${e}`:"\n";return`${t}\n${a}${y}`}return`${g}${u}${m.join(" ")}${u}${y}`}function l({indent:t,options:{commentString:e}},i,n,r){if(n&&r&&(n=n.replace(/^\n+/,"")),n){const r=s.indentComment(e(n),t);i.push(r.trimStart())}}e.stringifyCollection=function(t,e,i){return(e.inFlow??t.flow?a:o)(t,e,i)}},248:(t,e)=>{"use strict";function i(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}e.indentComment=i,e.lineComment=(t,e,n)=>t.endsWith("\n")?i(n,e):n.includes("\n")?"\n"+i(n,e):(t.endsWith(" ")?"":" ")+n,e.stringifyComment=t=>t.replace(/^(?!$)(?: $)?/gm,"#")},1768:(t,e,i)=>{"use strict";var n=i(484),r=i(3793),s=i(248);e.stringifyDocument=function(t,e){const i=[];let o=!0===e.directives;if(!1!==e.directives&&t.directives){const e=t.directives.toString(t);e?(i.push(e),o=!0):t.directives.docStart&&(o=!0)}o&&i.push("---");const a=r.createStringifyContext(t,e),{commentString:l}=a.options;if(t.commentBefore){1!==i.length&&i.unshift("");const e=l(t.commentBefore);i.unshift(s.indentComment(e,""))}let c=!1,u=null;if(t.contents){if(n.isNode(t.contents)){if(t.contents.spaceBefore&&o&&i.push(""),t.contents.commentBefore){const e=l(t.contents.commentBefore);i.push(s.indentComment(e,""))}a.forceBlockIndent=!!t.comment,u=t.contents.comment}const e=u?void 0:()=>c=!0;let h=r.stringify(t.contents,a,(()=>u=null),e);u&&(h+=s.lineComment(h,"",l(u))),"|"!==h[0]&&">"!==h[0]||"---"!==i[i.length-1]?i.push(h):i[i.length-1]=`--- ${h}`}else i.push(r.stringify(t.contents,a));if(t.directives?.docEnd)if(t.comment){const e=l(t.comment);e.includes("\n")?(i.push("..."),i.push(s.indentComment(e,""))):i.push(`... ${e}`)}else i.push("...");else{let e=t.comment;e&&c&&(e=e.replace(/^\n+/,"")),e&&(c&&!u||""===i[i.length-1]||i.push(""),i.push(s.indentComment(l(e),"")))}return i.join("\n")+"\n"}},3144:(t,e)=>{"use strict";e.stringifyNumber=function({format:t,minFractionDigits:e,tag:i,value:n}){if("bigint"==typeof n)return String(n);const r="number"==typeof n?n:Number(n);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let s=JSON.stringify(n);if(!t&&e&&(!i||"tag:yaml.org,2002:float"===i)&&/^\d/.test(s)){let t=s.indexOf(".");t<0&&(t=s.length,s+=".");let i=e-(s.length-t-1);for(;i-- >0;)s+="0"}return s}},8017:(t,e,i)=>{"use strict";var n=i(484),r=i(9714),s=i(3793),o=i(248);e.stringifyPair=function({key:t,value:e},i,a,l){const{allNullValues:c,doc:u,indent:h,indentStep:p,options:{commentString:f,indentSeq:d,simpleKeys:m}}=i;let g=n.isNode(t)&&t.comment||null;if(m){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(n.isCollection(t))throw new Error("With simple keys, collection cannot be used as a key value")}let y=!m&&(!t||g&&null==e&&!i.inFlow||n.isCollection(t)||(n.isScalar(t)?t.type===r.Scalar.BLOCK_FOLDED||t.type===r.Scalar.BLOCK_LITERAL:"object"==typeof t));i=Object.assign({},i,{allNullValues:!1,implicitKey:!y&&(m||!c),indent:h+p});let b,_,v,w=!1,x=!1,k=s.stringify(t,i,(()=>w=!0),(()=>x=!0));if(!y&&!i.inFlow&&k.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(i.inFlow){if(c||null==e)return w&&a&&a(),""===k?"?":y?`? ${k}`:k}else if(c&&!m||null==e&&y)return k=`? ${k}`,g&&!w?k+=o.lineComment(k,i.indent,f(g)):x&&l&&l(),k;w&&(g=null),y?(g&&(k+=o.lineComment(k,i.indent,f(g))),k=`? ${k}\n${h}:`):(k=`${k}:`,g&&(k+=o.lineComment(k,i.indent,f(g)))),n.isNode(e)?(b=!!e.spaceBefore,_=e.commentBefore,v=e.comment):(b=!1,_=null,v=null,e&&"object"==typeof e&&(e=u.createNode(e))),i.implicitKey=!1,y||g||!n.isScalar(e)||(i.indentAtStart=k.length+1),x=!1,d||!(p.length>=2)||i.inFlow||y||!n.isSeq(e)||e.flow||e.tag||e.anchor||(i.indent=i.indent.substring(2));let E=!1;const A=s.stringify(e,i,(()=>E=!0),(()=>x=!0));let S=" ";if(g||b||_){if(S=b?"\n":"",_){const t=f(_);S+=`\n${o.indentComment(t,i.indent)}`}""!==A||i.inFlow?S+=`\n${i.indent}`:"\n"===S&&(S="\n\n")}else if(!y&&n.isCollection(e)){const t=A[0],n=A.indexOf("\n"),r=-1!==n,s=i.inFlow??e.flow??0===e.items.length;if(r||!s){let e=!1;if(r&&("&"===t||"!"===t)){let i=A.indexOf(" ");"&"===t&&-1!==i&&i<n&&"!"===A[i+1]&&(i=A.indexOf(" ",i+1)),(-1===i||n<i)&&(e=!0)}e||(S=`\n${i.indent}`)}}else""!==A&&"\n"!==A[0]||(S="");return k+=S+A,i.inFlow?E&&a&&a():v&&!E?k+=o.lineComment(k,i.indent,f(v)):x&&l&&l(),k}},7180:(t,e,i)=>{"use strict";var n=i(9714),r=i(6170);const s=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),o=t=>/^(%|---|\.\.\.)/m.test(t);function a(t,e){const i=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return i;const{implicitKey:n}=e,a=e.options.doubleQuotedMinMultiLineLength,l=e.indent||(o(t)?"  ":"");let c="",u=0;for(let t=0,e=i[t];e;e=i[++t])if(" "===e&&"\\"===i[t+1]&&"n"===i[t+2]&&(c+=i.slice(u,t)+"\\ ",t+=1,u=t,e="\\"),"\\"===e)switch(i[t+1]){case"u":{c+=i.slice(u,t);const e=i.substr(t+2,4);switch(e){case"0000":c+="\\0";break;case"0007":c+="\\a";break;case"000b":c+="\\v";break;case"001b":c+="\\e";break;case"0085":c+="\\N";break;case"00a0":c+="\\_";break;case"2028":c+="\\L";break;case"2029":c+="\\P";break;default:"00"===e.substr(0,2)?c+="\\x"+e.substr(2):c+=i.substr(t,6)}t+=5,u=t+1}break;case"n":if(n||'"'===i[t+2]||i.length<a)t+=1;else{for(c+=i.slice(u,t)+"\n\n";"\\"===i[t+2]&&"n"===i[t+3]&&'"'!==i[t+4];)c+="\n",t+=2;c+=l," "===i[t+2]&&(c+="\\"),t+=1,u=t+1}break;default:t+=1}return c=u?c+i.slice(u):i,n?c:r.foldFlowLines(c,l,r.FOLD_QUOTED,s(e,!1))}function l(t,e){if(!1===e.options.singleQuote||e.implicitKey&&t.includes("\n")||/[ \t]\n|\n[ \t]/.test(t))return a(t,e);const i=e.indent||(o(t)?"  ":""),n="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&\n${i}`)+"'";return e.implicitKey?n:r.foldFlowLines(n,i,r.FOLD_FLOW,s(e,!1))}function c(t,e){const{singleQuote:i}=e.options;let n;if(!1===i)n=a;else{const e=t.includes('"'),r=t.includes("'");n=e&&!r?l:r&&!e?a:i?l:a}return n(t,e)}let u;try{u=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{u=/\n+(?!\n|$)/g}function h({comment:t,type:e,value:i},a,l,h){const{blockQuote:p,commentString:f,lineWidth:d}=a.options;if(!p||/\n[\t ]+$/.test(i)||/^\s*$/.test(i))return c(i,a);const m=a.indent||(a.forceBlockIndent||o(i)?"  ":""),g="literal"===p||"folded"!==p&&e!==n.Scalar.BLOCK_FOLDED&&(e===n.Scalar.BLOCK_LITERAL||!function(t,e,i){if(!e||e<0)return!1;const n=e-i,r=t.length;if(r<=n)return!1;for(let e=0,i=0;e<r;++e)if("\n"===t[e]){if(e-i>n)return!0;if(i=e+1,r-i<=n)return!1}return!0}(i,d,m.length));if(!i)return g?"|\n":">\n";let y,b;for(b=i.length;b>0;--b){const t=i[b-1];if("\n"!==t&&"\t"!==t&&" "!==t)break}let _=i.substring(b);const v=_.indexOf("\n");-1===v?y="-":i===_||v!==_.length-1?(y="+",h&&h()):y="",_&&(i=i.slice(0,-_.length),"\n"===_[_.length-1]&&(_=_.slice(0,-1)),_=_.replace(u,`$&${m}`));let w,x=!1,k=-1;for(w=0;w<i.length;++w){const t=i[w];if(" "===t)x=!0;else{if("\n"!==t)break;k=w}}let E=i.substring(0,k<w?k+1:w);E&&(i=i.substring(E.length),E=E.replace(/\n+/g,`$&${m}`));let A=(g?"|":">")+(x?m?"2":"1":"")+y;return t&&(A+=" "+f(t.replace(/ ?[\r\n]+/g," ")),l&&l()),g?`${A}\n${m}${E}${i=i.replace(/\n+/g,`$&${m}`)}${_}`:(i=i.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${m}`),`${A}\n${m}${r.foldFlowLines(`${E}${i}${_}`,m,r.FOLD_BLOCK,s(a,!0))}`)}e.stringifyString=function(t,e,i,u){const{implicitKey:p,inFlow:f}=e,d="string"==typeof t.value?t:Object.assign({},t,{value:String(t.value)});let{type:m}=t;m!==n.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(d.value)&&(m=n.Scalar.QUOTE_DOUBLE);const g=t=>{switch(t){case n.Scalar.BLOCK_FOLDED:case n.Scalar.BLOCK_LITERAL:return p||f?c(d.value,e):h(d,e,i,u);case n.Scalar.QUOTE_DOUBLE:return a(d.value,e);case n.Scalar.QUOTE_SINGLE:return l(d.value,e);case n.Scalar.PLAIN:return function(t,e,i,a){const{type:l,value:u}=t,{actualString:p,implicitKey:f,indent:d,indentStep:m,inFlow:g}=e;if(f&&u.includes("\n")||g&&/[[\]{},]/.test(u))return c(u,e);if(!u||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(u))return f||g||!u.includes("\n")?c(u,e):h(t,e,i,a);if(!f&&!g&&l!==n.Scalar.PLAIN&&u.includes("\n"))return h(t,e,i,a);if(o(u)){if(""===d)return e.forceBlockIndent=!0,h(t,e,i,a);if(f&&d===m)return c(u,e)}const y=u.replace(/\n+/g,`$&\n${d}`);if(p){const t=t=>t.default&&"tag:yaml.org,2002:str"!==t.tag&&t.test?.test(y),{compat:i,tags:n}=e.doc.schema;if(n.some(t)||i?.some(t))return c(u,e)}return f?y:r.foldFlowLines(y,d,r.FOLD_FLOW,s(e,!1))}(d,e,i,u);default:return null}};let y=g(m);if(null===y){const{defaultKeyType:t,defaultStringType:i}=e.options,n=p&&t||i;if(y=g(n),null===y)throw new Error(`Unsupported default string type ${n}`)}return y}},9125:(t,e,i)=>{"use strict";var n=i(484);const r=Symbol("break visit"),s=Symbol("skip children"),o=Symbol("remove node");function a(t,e){const i=h(e);n.isDocument(t)?l(null,t.contents,i,Object.freeze([t]))===o&&(t.contents=null):l(null,t,i,Object.freeze([]))}function l(t,e,i,s){const a=p(t,e,i,s);if(n.isNode(a)||n.isPair(a))return f(t,s,a),l(t,a,i,s);if("symbol"!=typeof a)if(n.isCollection(e)){s=Object.freeze(s.concat(e));for(let t=0;t<e.items.length;++t){const n=l(t,e.items[t],i,s);if("number"==typeof n)t=n-1;else{if(n===r)return r;n===o&&(e.items.splice(t,1),t-=1)}}}else if(n.isPair(e)){s=Object.freeze(s.concat(e));const t=l("key",e.key,i,s);if(t===r)return r;t===o&&(e.key=null);const n=l("value",e.value,i,s);if(n===r)return r;n===o&&(e.value=null)}return a}async function c(t,e){const i=h(e);n.isDocument(t)?await u(null,t.contents,i,Object.freeze([t]))===o&&(t.contents=null):await u(null,t,i,Object.freeze([]))}async function u(t,e,i,s){const a=await p(t,e,i,s);if(n.isNode(a)||n.isPair(a))return f(t,s,a),u(t,a,i,s);if("symbol"!=typeof a)if(n.isCollection(e)){s=Object.freeze(s.concat(e));for(let t=0;t<e.items.length;++t){const n=await u(t,e.items[t],i,s);if("number"==typeof n)t=n-1;else{if(n===r)return r;n===o&&(e.items.splice(t,1),t-=1)}}}else if(n.isPair(e)){s=Object.freeze(s.concat(e));const t=await u("key",e.key,i,s);if(t===r)return r;t===o&&(e.key=null);const n=await u("value",e.value,i,s);if(n===r)return r;n===o&&(e.value=null)}return a}function h(t){return"object"==typeof t&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function p(t,e,i,r){return"function"==typeof i?i(t,e,r):n.isMap(e)?i.Map?.(t,e,r):n.isSeq(e)?i.Seq?.(t,e,r):n.isPair(e)?i.Pair?.(t,e,r):n.isScalar(e)?i.Scalar?.(t,e,r):n.isAlias(e)?i.Alias?.(t,e,r):void 0}function f(t,e,i){const r=e[e.length-1];if(n.isCollection(r))r.items[t]=i;else if(n.isPair(r))"key"===t?r.key=i:r.value=i;else{if(!n.isDocument(r)){const t=n.isAlias(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${t} parent`)}r.contents=i}}a.BREAK=r,a.SKIP=s,a.REMOVE=o,c.BREAK=r,c.SKIP=s,c.REMOVE=o,e.visit=a,e.visitAsync=c},6548:t=>{"use strict";t.exports=JSON.parse('["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]')}},n={};function r(t){var e=n[t];if(void 0!==e)return e.exports;var s=n[t]={exports:{}};return i[t].call(s.exports,s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,r.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"==typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"==typeof i.then)return i}var s=Object.create(null);r.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&i;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>i[t]));return o.default=()=>i,r.d(s,o),s},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};r.r(t),r.d(t,{decode:()=>Ma,encode:()=>ja,format:()=>Ba,parse:()=>Za});var e={};r.r(e),r.d(e,{Any:()=>el,Cc:()=>il,Cf:()=>nl,P:()=>Qa,S:()=>tl,Z:()=>sl});var i={};r.r(i),r.d(i,{arrayReplaceAt:()=>Il,assign:()=>Nl,escapeHtml:()=>ql,escapeRE:()=>Vl,fromCodePoint:()=>Rl,has:()=>Cl,isMdAsciiPunct:()=>Xl,isPunctChar:()=>Kl,isSpace:()=>Hl,isString:()=>Ol,isValidEntityCode:()=>Ll,isWhiteSpace:()=>Wl,lib:()=>Jl,normalizeReference:()=>Yl,unescapeAll:()=>jl,unescapeMd:()=>Fl});var n={};r.r(n),r.d(n,{parseLinkDestination:()=>Ql,parseLinkLabel:()=>Zl,parseLinkTitle:()=>tc});const s=require("node:fs");var o=r.t(s,2),a=r.n(s),l=r(2116);const{DM:c,gu:u,er:h,Ww:p,b7:f,Di:d,a2:m,uB:g,ef:y,c$:b,_V:_}=l,v=require("node:path");var w=r.n(v),x=r(2949),k=r.n(x),E=r(1198),A=r(3938),S=r.n(A);const O={i:{graph:{btn_zoom_reset:{fr:"RÃ©initialiser",en:"Reset"},btn_focus:{fr:"Focus",en:"Focus"},btn_chrono:{fr:"Mode chronologique",en:"Chronological mode"}},left_panel:{header:{spatialization_bar_desc:{fr:"Spatialisation (Espace)",en:"Spatialization (Space)"}},input_search:{placeholder:{fr:"Rechercherâ¦",en:"Searchâ¦"}},menu_types:{title:{fr:"Types",en:"Types"}},menu_keywords:{title:{fr:"Mots-clÃ©s",en:"Keywords"},sort:{digital:{fr:"Croissant",en:"Ascending"},digital_reverse:{fr:"DÃ©croissant",en:"Descending"}}},menu_index:{title:{fr:"Index",en:"Index"},sort:{chronological:{fr:"Chronologique",en:"Chronological"},chronological_reverse:{fr:"AntÃ©chronologique",en:"Antechronological"}}},menu_views:{title:{fr:"Vue",en:"View"},btn_reset:{fr:"RÃ©initialiser la vue",en:"Reset the view"},btn_save:{fr:"Appliquer la vue actuelle Ã  l'URL",en:"Set URL to current view"},tooltip:{fr:"Applique l'Ã©tat actuel de l'interface (fiche sÃ©lectionnÃ©e, filtres, focusâ¦) Ã  l'URL, qui peut alors Ãªtre utilisÃ©e pour retrouver la vue actuelle.\n",en:"Apply the current state of the interface (selected record, filters, focusâ¦) to the URL, which can then be used to access the current view.\n"}},menu_controls:{title:{fr:"ParamÃ¨tres du graphe",en:"Graph parameters"},input_links_show:{fr:"Afficher les liens",en:"Display links"},input_labels_show:{fr:"Afficher les Ã©tiquettes",en:"Display labels"},input_highlight_hover_node:{fr:"Surbrillance au survol",en:"Highlight on hover"},form_attraction:{title:{fr:"Forces",en:"Forces"},help:{fr:"ContrÃ´lez la rÃ©partition des nÅuds dans lâespace en modifiant la simulation des forces.\n",en:"Tweak the force-layout simulation to control the way nodes are displayed.\n"},input_force:{fr:"rÃ©pulsion",en:"repulsion"},input_distance_max:{fr:"distance max",en:"max distance"},input_vertical:{fr:"attraction verticale",en:"vertical attraction"},input_horizontal:{fr:"attraction horizontale",en:"horizontal attraction"}},form_text:{title:{fr:"Ãtiquettes",en:"Labels"},input_size:{fr:"taille du texte",en:"font size"}},focus_type:{title:{fr:"Type de focus",en:"Focus type"},focus_type_select:{directed:{fr:"Tous les liens",en:"All links"},inbound:{fr:"Liens entrants",en:"Inbound links"},outbound:{fr:"Liens sortants",en:"Outbound links"}}}},footer:{btn_data:{fr:"DonnÃ©es",en:"Data"},btn_help:{fr:"Aide",en:"Help"},btn_about:{fr:"Ã propos",en:"About"},publish_mark:{fr:"FabriquÃ© avec Cosma â",en:"Made with Cosma â"}}},right_panel:{record:{header:{btn_close:{fr:"Fermer (Echap)",en:"Close (Escape)"}},empty:{fr:"Cliquez sur un nÅud du graphe ou dans un Ã©lÃ©ment de l'index pour ouvrir une fiche.",en:"To open a record, select a node in the graph or a title in the index."},metadata:{id:{fr:"id",en:"id"},last_edit:{fr:"derniÃ¨re modification",en:"last modified"},type:{fr:"types",en:"types"},keywords:{fr:"mots-clÃ©s",en:"keywords"},begin:{fr:"DÃ©but",en:"Begin"},end:{fr:"Fin",en:"End"}},bibliography:{fr:"Bibliographie",en:"Bibliography"},footer:{list_links:{fr:"liens",en:"links"},list_backlinks:{fr:"rÃ©troliens",en:"backlinks"}}},help:{title:{fr:"Aide",en:"Help"},documentation_link_href:{fr:"https://cosma.arthurperret.fr/",en:"https://cosma.arthurperret.fr/"},documentation_link_placeholder:{fr:"Cliquez ici pour accÃ©der Ã  la documentation de Cosma",en:"Click here to access Cosma's documentation"},shortcuts:{title:{fr:"Raccourcis",en:"Shortcuts"},space:{key:{fr:"Espace",en:"Space"},effect:{fr:"RÃ©activer l'algorithme de dessin du graphe",en:"Re-run the force-layout algorithm"}},s:{key:{fr:"S",en:"S"},effect:{fr:"DÃ©placer le curseur dans le champ Recherche",en:"Move the cursor to Search"}},alt_click:{key:{fr:"Alt + clic",en:"Alt + click"},effect:{fr:"(sur un type de fiche) DÃ©sÃ©lectionner les autres types",en:"(on a record type) Deselect other types"}},r:{key:{fr:"R",en:"R"},effect:{fr:"RÃ©initialiser le zoom",en:"Reset zoom"}},alt_r:{key:{fr:"Alt + R",en:"Alt + R"},effect:{fr:"RÃ©initialiser l'affichage",en:"Reset the display"}},c:{key:{fr:"C",en:"C"},effect:{fr:"Zoomer et centrer sur le nÅud sÃ©lectionnÃ©",en:"Zoom in on the selected node"}},f:{key:{fr:"F",en:"F"},effect:{fr:"Passer en mode Focus",en:"Switch to Focus mode"}},escap:{key:{fr:"Echap",en:"Escape"},effect:{fr:"Fermer la fiche sÃ©lectionnÃ©e",en:"Close the active record"}}}},credits:{version:{fr:"Version",en:"Version"},license:{fr:"Licence",en:"License"},ANR_program:{fr:"Programme ANR",en:"ANR research programme"}},bibliography_data:{title:{fr:"DonnÃ©es bibliographiques",en:"Bibliographical data"},description:{fr:"Les donnÃ©es ci-dessous correspondent aux rÃ©fÃ©rences citÃ©es dans ce cosmoscope. Elles sont structurÃ©es conformÃ©ment au standard Citation Style Language et exprimÃ©es en JSON. Ce format est reconnu par la plupart des logiciels de gestion bibliographique, comme Zotero, Mendeley ou Papers. Cliquez sur le bouton ci-dessous pour tÃ©lÃ©charger les donnÃ©es.\n",en:"Below is the bibliographic data for this cosmoscope's citations. They are structured according to the Citation Style Language standard and expressed in JSON. This format is recognized by most popular bibliographic management software, such as Zotero, Mendeley or Papers. Click on the button below to download the data.\n"},btn_download:{fr:"TÃ©lÃ©charger",en:"Download"}}},config:{errors:{no_name:{fr:"La configuration n'a pas de nom",en:"The configuration has no name"},name_already_used:{fr:"Ce nom de configuration est dÃ©jÃ  utilisÃ©",en:"This name is already used"},name:{fr:"Le nom de configuration est invalide",en:"The configuration name is invalid"},invalid_path:{fr:"Le chemin vers la configuration est invalide",en:"The config file path is invalid"},select_origin:{fr:"Ce type de source de donnÃ©es n'est pas valide",en:"This type of data origin is invalid"},files_origin:{fr:"Le chemin vers le rÃ©pertoire de fiches sÃ©lectionnÃ© est invalide",en:"Invalid records directory path"},nodes_origin:{fr:"Le chemin vers la feuille de calcul sÃ©lectionnÃ©e est invalide",en:"Invalid spreadsheet directory path"},links_origin:{fr:"Le chemin vers la feuille de calcul sÃ©lectionnÃ©e est invalide",en:"Invalid spreadsheet directory path"},images_origin:{fr:"Le chemin vers l'image sÃ©lectionnÃ©e est invalide",en:"Invalid image file path"},nodes_online:{fr:"L'url vers la feuille de calcul sÃ©lectionnÃ©e est invalide",en:"Invalid spreadsheet directory path"},links_online:{fr:"L'url vers la feuille de calcul sÃ©lectionnÃ©e est invalide",en:"Invalid spreadsheet directory path"},export_target:{fr:"Le chemin vers le rÃ©pertoire d'export du cosmocope est invalide",en:"Invalid export directory path"},bibliography:{fr:"Le chemin vers le fichier de rÃ©fÃ©rences bibliographiques est invalide",en:"Invalid bibliographical data file path"},csl:{fr:"Le chemin vers le fichier de style bibliographique est invalide",en:"Invalid bibliographical style file path"},csl_locale:{fr:"Le chemin vers le fichier de localisation bibliographique est invalide",en:"Invalid bibliographical locale file path"},css_custom:{fr:"Le chemin vers la CSS personnalisÃ©e est invalide",en:"Invalid custom CSS file path"},record_metas:{fr:"La liste des mÃ©tadonnÃ©es des fiches est invalide",en:"The list of metadata of the records is invalid"},record_filters:{fr:"La liste des filtres de fiches est invalide",en:"The list of filters of the records is invalid"},focus_max:{fr:"Le niveau maximum de focus est invalide",en:"Invalid maximum focus level"},graph_text_size:{fr:"La taille du texte des Ã©tiquettes doit Ãªtre supÃ©rieure ou Ã©gale Ã  $1",en:"Labels font size must be $1 or higher"},attraction_force:{fr:"La force de rÃ©pulsion doit Ãªtre supÃ©rieure ou Ã©gale Ã  $1",en:"Repulsion force must be $1 or higher"},attraction_distance_max:{fr:"La distance maximum doit Ãªtre supÃ©rieure ou Ã©gale Ã  $1",en:"Maximum distance between nodes must be $1 or higher"},attraction_vertical:{fr:"La force d'attraction verticale doit Ãªtre supÃ©rieure ou Ã©gale Ã  $1",en:"Vertical attraction must be $1 or higher"},attraction_horizontal:{fr:"La force d'attraction verticale doit Ãªtre supÃ©rieure ou Ã©gale Ã  $1",en:"Horizontal attraction must be $1 or higher"},node_size_method:{fr:"Cette mÃ©thode de dimensionnement des nÅuds est invalide",en:"This method of sizing nodes is invalid"},node_size:{fr:"La taille des nÅuds doit Ãªtre supÃ©rieur ou Ã©gale Ã  $1",en:"Nodes size must be $1 or higher"},node_size_min:{fr:"La taille minimum des nÅuds doit Ãªtre supÃ©rieur ou Ã©gale Ã  $1",en:"Min nodes size must be $1 or higher"},node_size_max:{fr:"La taille maximum des nÅuds doit Ãªtre supÃ©rieur ou Ã©gale Ã  $1",en:"Max nodes size must be $1 or higher"},history:{fr:"La commande d'enregistrement de l'historique est invalide",en:"Invalid history recording command"},views:{fr:"L'enregistrement de la vue a Ã©chouÃ©",en:"View registration failed"},graph_highlight_on_hover:{fr:"La commande de surbrillance des nÅuds au survol est invalide",en:"Invalid command to highlight nodes on the flyover"},graph_arrows:{fr:"La commande de flÃ©chage des liens est invalide",en:"Invalid link arrow command"},devtools:{fr:"La commande d'activation des outils de dÃ©veloppement est invalide",en:"Invalid devtools activation command"},minify:{fr:"La commande de compression de l'export est invalide",en:"Invalid export minification command"},record_types:{fr:"La liste des types de fiches est invalide",en:"Invalid record types list"},link_types:{fr:"La liste des types de liens est invalide",en:"Invalid link types list"},graph_background_color:{fr:"Cette couleur de fond n'est pas valide",en:"This background color is invalid"},graph_highlight_color:{fr:"Cette couleur de surbrillance n'est pas valide",en:"This highlight color is invalid"},title:{fr:"Le titre d'export n'est pas valide",en:"The export title is invalid"},author:{fr:"L'auteur de l'export n'est pas valide",en:"The export author is invalid"},description:{fr:"La description de l'export n'est pas valide",en:"The export description is invalid"},keywords:{fr:"Les mots-clÃ©s de l'export ne sont pas valides",en:"Export keywords are invalid"},link_symbol:{fr:"Le symbole de remplacement des liens n'est pas valide",en:"The link replacement symbol is invalid"},lang:{fr:"La langue n'est pas configurÃ©e",en:"Language not set"}},list:{label:{fr:"Liste des configurations enregistrÃ©es",en:"List of saved configurations"}},info:{lang:{fr:"Le changement de langue sera effectif aprÃ¨s un redÃ©marrage de l'application",en:"The change of language will be effective after restarting the application"}}},demo:{title:{fr:"DÃ©mo de Cosma",en:"Cosma demo"},description:{fr:"Cosma est un logiciel de visualisation et de partage pour les travailleurs de la connaissance. Ã partir dâun rÃ©pertoire de fichiers rÃ©digÃ©s en Markdown, Cosma gÃ©nÃ¨re une collection de fiches au format HTML, rassemblÃ©es dans un fichier unique : le cosmoscope. Ce cosmoscope de dÃ©monstration a Ã©tÃ© exportÃ© avec Cosma.\n",en:"Cosma is a visualisation and sharing software for knowledge workers. From a directory of files written in Markdown, Cosma generates a collection of cards in HTML format, assembled in a single file: the cosmoscope. This demonstration cosmoscope has been exported with Cosma.\n"}},record:{errors:{title:{fr:"Titre manquant",en:"Missing title"},type:{fr:"Type inconnu",en:"Unknown type"},id:{fr:"Identifiant invalid",en:"Invalid id"},overwriting:{fr:"Un fichier existe dÃ©jÃ  avec ce nom",en:"This file name is already taken"}}},report:{title:{fr:"Rapport",en:"Log file"},project:{fr:'Projet "$1"',en:'Project "$1"'},section_error:{fr:"Erreurs ($1 fiches)",en:"Errors ($1 records)"},csv_error:{fr:"Lecture fichiers CSV",en:"CSV files reading"},section_warning:{fr:"Avertissements ($1 fiches)",en:"Warnings ($1 records)"},no_id:{fr:"Le fichier \"$1\" n'a pas d'identifiant",en:'The file "$1" has no identifier'},duplicated_ids:{fr:'La fiche "$2" ($1) a un identifiant commun avec la fiche "$3"',en:'The file "$2" ($1) has a common identifier with the file "$3"'},broken_links:{fr:'Dans la fiche "$1", le paragraphe suivant contient un lien dont la cible n\'a pas Ã©tÃ© trouvÃ©e <em>"$2"</em>',en:'The following paragraph contains a broken link <em>"$2"</em>'},link_type_change:{fr:'Type "$3" du lien "$2" dans la fiche "$1" non reconnu, interprÃ©tÃ© comme "undefined"',en:'Type "$3" of link "$2" in the record "$1" unrecognized, treated as "undefined"'},record_type_change:{fr:'Type "$2" de la fiche "$1" non reconnu, interprÃ©tÃ© comme "undefined"',en:'Type "$2" of record "$1" unrecognized, treated as "undefined"'},ignored_record_meta:{fr:'MÃ©tadonnÃ©e "$2" de la fiche "$1" non reconnue, ignorÃ©e',en:'Ignored unknown metadata "$2" from record "$1"'},null_record_meta:{fr:'MÃ©tadonnÃ©e "$2" de la fiche "$1" ignorÃ©e (valeur nulle)',en:'Ignored metadata "$2" from record "$1" (null value)'},invalid_record_time_begin:{fr:'La date de dÃ©but "$2" de la fiche "$1" est invalide',en:'Invalid start date "$2" for record "$1"'},invalid_record_time_end:{fr:'La date de fin "$2" de la fiche "$1" est invalide',en:'Invalid end date "$2" for record "$1"'},unknown_bibliographic_reference:{fr:'ClÃ© de citation "$2" dans la fiche "$1" non trouvÃ©e dans les donnÃ©es bibliographiques',en:'Citation key "$2" in record "$1" not found in bibliographic data'},ignored_csv_line:{fr:"Ligne CSV nÂ°$3 pour les $2 ignorÃ©e : colonne(s) $4 manquante(s)",en:"Ignored CSV line number $3 for $2: col(s) $4 left"}}},flag:"fr",getFor:function(t){return t.fr},getWith:function(t,e){let i=t.fr;for(let t=0;t<e.length;t++){const n=e[t],r=t+1;i=i.replace("$"+r,n)}return i}};class T{static listWarnings=new Map;static listErrors=new Map;static getAsHtmlFile(t){const e=new(S().Environment);e.addFilter("translate",((t,e)=>e?O.getWith(O.i.report[t],Object.values(e)):O.getFor(O.i.report[t])));const i=(new Date).toLocaleDateString(O,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"});return e.renderString("<!DOCTYPE html>\n<html lang=\"{{lang}}\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>\n        Cosma\n         - {{ 'title' | translate }}\n        {% if projectTitle %}\n         - {{ 'project' | translate({ project: projectTitle }) }}\n        {% endif %}\n    </title>\n    <style>\n        :root {\n            /* typography */\n            --sans: system-ui, -apple-system, 'San Francisco', 'Helvetica Neue', 'Segoe UI', 'Arial', sans-serif;\n            --mono: 'Consolas', \"Courrier New\", 'Courrier', monospace;\n            /* global size */\n            font-size: 62.5%;\n        }\n\n        body {\n            width: 100%;\n            max-width: 800px;\n            margin: 0 auto;\n            font-family: var(--sans);\n            font-size: 1.4rem;\n            padding: 1rem;\n            box-sizing: border-box;\n        }\n\n        li {\n            margin: 0.8rem 0;\n        }\n\n        em {\n            display: block;\n            font-size: 12px;\n            text-indent: 2rem;\n            margin-left: 3.8rem;\n        }\n    </style>\n</head>\n\n<body>\n    <header>\n        <h1>\n            Cosma\n             - {{ 'title' | translate }}\n            {% if projectTitle %}\n             - {{ 'project' | translate({ project: projectTitle }) }}\n            {% endif %}\n             - {{ date }}\n        </h1>\n    </header>\n\n    <main>\n        <section>\n            <h2>{{ 'section_error' | translate({ length: errorsLength }) }}</h2>\n            {% for recordId, lines in listErrors %}\n                {% set title = lines[0].recordTitle %}\n\n                {% if recordId == \"ignored_csv_line\" %}\n                <h3>{{ 'csv_error' | translate }}</h3>\n                {% else %}\n                <h3>{{ title }}</h3>\n                {% endif %}\n                \n                <ul>\n                    {% for line in lines %}\n                    <li>{{line.about | translate(line.args) | safe }}</li>\n                    {% endfor %}\n                </ul>\n            {% endfor %}\n        </section>\n\n        <section>\n            <h2>{{ 'section_warning' | translate({ length: warningsLength }) }}</h2>\n            {% for recordId, lines in listWarnings %}\n                {% set title = lines[0].recordTitle %}\n                <h3>{{ title }}</h3>\n                <ul>\n                    {% for line in lines %}\n                    <li>{{line.about | translate(line.args) | safe}}</li>\n                    {% endfor %}\n                </ul>\n            {% endfor %}\n        </section>\n    </main>\n</body>\n\n</html>",{lang:O.flag,date:i,projectTitle:t,listWarnings:Object.fromEntries(T.listWarnings),listErrors:Object.fromEntries(T.listErrors),warningsLength:T.listWarnings.size,errorsLength:T.listErrors.size})}static getAsMessage(){let t="Report: ";const e=[];return T.listErrors.size>0&&e.push(`${T.listErrors.size} ${["[31m","errors","[0m"].join("")}`),T.listWarnings.size>0&&e.push(`${T.listWarnings.size} ${["[33m","warnings","[0m"].join("")}`),t+=e.join(" and "),t}static reset(){T.listWarnings=new Map,T.listErrors=new Map}static isItEmpty(){return 0===T.listErrors.size&&0===T.listWarnings.size}constructor(t,e,i){switch(this.recordId=t,this.recordTitle=e,this.urgency=i,this.about,this.args={},this.urgency){case"error":T.listErrors.has(this.recordId)?T.listErrors.get(this.recordId).push(this):T.listErrors.set(this.recordId,[this]);break;case"warning":T.listWarnings.has(this.recordId)?T.listWarnings.get(this.recordId).push(this):T.listWarnings.set(this.recordId,[this])}}aboutNoId(t){this.about="no_id",this.args={fileName:t}}aboutDuplicatedIds(t,e,i){this.about="duplicated_ids",this.args={recordId:t,recordTitle:e,recordTitleOfDuplicated:i}}aboutBrokenLinks(t,e){this.about="broken_links",this.args={recordTitle:t,linkContext:e}}aboutLinkTypeChange(t,e,i){this.about="link_type_change",this.args={recordTitle:t,linkTargetId:e,unknownType:i}}aboutRecordTypeChange(t,e){this.about="record_type_change",this.args={recordTitle:t,unknownType:e}}aboutIgnoredRecordMeta(t,e){this.about="ignored_record_meta",this.args={recordTitle:t,ignoredMeta:e}}aboutNullRecordMeta(t,e){this.about="null_record_meta",this.args={recordTitle:t,ignoredMeta:e}}aboutInvalidRecordTimeBegin(t,e){this.about="invalid_record_time_begin",this.args={recordTitle:t,invalidTime:e}}aboutInvalidRecordTimeEnd(t,e){this.about="invalid_record_time_end",this.args={recordTitle:t,invalidTime:e}}aboutNullRecordMeta(t,e){this.about="null_record_meta",this.args={recordTitle:t,ignoredMeta:e}}aboutInvalidRecordTimeBegin(t,e){this.about="invalid_record_time_begin",this.args={recordTitle:t,invalidTime:e}}aboutInvalidRecordTimeEnd(t,e){this.about="invalid_record_time_end",this.args={recordTitle:t,invalidTime:e}}aboutUnknownBibliographicReference(t,e){this.about="unknown_bibliographic_reference",this.args={recordTitle:t,bibliographicReference:e}}aboutIgnoredCsvLine(t,e,i,n){this.about="ignored_csv_line",this.args={filePath:t,type:e,lineNb:i,missing:n.join(", ")}}}const C=T;class N{static validLinkStrokes=new Set(["simple","double","dotted","dash"]);static baseShape={stroke:"simple",dashInterval:null};static regexParagraph=new RegExp(/[^\r\n]+((\r|\n|\r\n)[^\r\n]+)*/,"g");static regexWikilink=new RegExp(/\[\[((?<type>[^:|\]]+?):)?(?<id>.+?)(\|(?<text>.+?))?\]\]/,"g");static getWikiLinksFromFileContent(t,e){const i={};let n;for(;n=N.regexWikilink.exec(e);){const{type:t,text:e}=n.groups,r=n.groups.id.toLowerCase();i[r]={type:t,targetId:r,text:e,context:new Set}}let r=e.match(N.regexParagraph)||[];for(const t of r){let e;for(;e=N.regexWikilink.exec(t);)i[e.groups.id.toLowerCase()].context.add(t)}return Object.values(i).map((({type:e,targetId:i,text:n,context:r})=>new N(void 0,Array.from(r),e||"undefined",void 0,void 0,void 0,t,i)))}static getLinkStyle(t,e){const i=t.link_types[e];let n,r;switch(i?(n=i.stroke,r=i.color):(n="simple",r=null),n){case"simple":case"double":return{shape:{stroke:n,dashInterval:null},color:r};case"dash":return{shape:{stroke:n,dashInterval:"4, 5"},color:r};case"dotted":return{shape:{stroke:n,dashInterval:"1, 3"},color:r}}return{shape:{stroke:"simple",dashInterval:null},color:r}}static getReferencesFromLinks(t,e,i){const n=e.filter((({source:e})=>e===t)).map((({context:t,type:e,source:n,target:r})=>{const s=i.find((t=>t.id===r)),o=i.find((t=>t.id===n));if(!s||!o)return void new C(o.id,o.label,"error").aboutBrokenLinks(o.label,t);const{label:a,types:l}=s,{label:c,types:u}=o;return{context:t,type:e,source:{id:n,title:c,types:u},target:{id:r,title:a,types:l}}})).filter((t=>void 0!==t)),r=e.filter((({target:e})=>e===t)).map((({context:t,type:e,source:n,target:r})=>{const s=i.find((t=>t.id===r)),o=i.find((t=>t.id===n));if(!s||!o)return;const{label:a,types:l}=s,{label:c,types:u}=o;return{context:t,type:e,source:{id:n,title:c,types:u},target:{id:r,title:a,types:l}}})).filter((t=>void 0!==t));return{linksReferences:n,backlinksReferences:r}}static getLinksFromRecords(t){const e=[];let i=0;for(const{links:n,config:r}of t){const{opts:t}=r;for(const{context:r,type:s,source:o,target:a}of n){const{shape:n,color:l}=N.getLinkStyle(t,s);e.push(new N(i,r,s,n,l,t.graph_highlight_color,o.id,a.id)),i++}}return e}static getFormatedDataFromCsvLine({source:t,target:e,label:i,type:n}){return{source:t,target:e,label:i,type:n||"undefined"}}static formatedDatasetToLinks(t){return t.map((({label:t,source:e,target:i,type:n},r)=>{t&&(t=[t]);const s=new N(r,t,n,void 0,void 0,void 0,e,i);if(s.isValid())return s}))}constructor(t,e=[],i,n=N.baseShape,r,s,o,a){this.id=t,this.context=e,this.type=i,this.shape=n,this.color=r,this.colorHighlight=s,this.source=o,this.target=a,this.report=[]}verif(){this.title||this.report.push("Invalid title"),this.shape&&!1!==N.validLinkStrokes.has(this.shape)||this.report.push("Invalid shape"),this.source&&!isNaN(this.source)||this.report.push("Invalid source"),this.target&&!isNaN(this.target)||this.report.push("Invalid target")}isValid(){return 0===this.report.length}}const I=N,L=require("node:http");var R=r.n(L);class D extends Error{constructor(t,e,i,n){super(t),this.details=e,this.code=i,this.isOperational=n}}class M extends D{constructor(t){const{filePath:e}=t;super("Can not read CSV file for nodes.",`File ${e}`,"read-csv-file-nodes",!0)}}class P extends D{constructor(t){const{filePath:e}=t;super("Can not read CSV file for links.",`File ${e}`,"read-csv-file-links",!0)}}class F extends D{constructor(t){super("Can not read CSV lines for links.",JSON.stringify(t),"read-csv-lines-links",!0)}}class j extends D{constructor(){super("Can not generate more fake timestamp today.","","record-max-out-daily-id",!0)}}class B extends D{constructor(t){super(`Can not download csv files: ${t.message}`,JSON.stringify(t.message),"dowload-csv",!1)}}class $ extends D{constructor(t){super('Cosma user data directory does not exist. Use "cosma --create-user-data-dir"',void 0,"user-data-dir-not-exists",!0)}}class z extends D{constructor(t,e){super(`Can not get files from user data directory: ${t}`,{path:e},"read-user-data-dir-files",!0)}}const U=JSON.parse('{"name":"@graphlab-fr/cosma","version":"2.5.4","description":"Cosma is a document graph visualization tool. It modelizes interlinked Markdown files and renders them as an interactive network in a web interface.","homepage":"https://cosma.arthurperret.fr/","repository":{"type":"git","url":"git+https://github.com/graphlab-fr/cosma.git"},"bugs":{"url":"https://github.com/graphlab-fr/cosma/issues"},"main":"app.js","bin":{"cosma":"dist/back.cjs"},"scripts":{"test:unit":"./node_modules/.bin/jest","test:e2e":"./node_modules/.bin/cypress run --config-file ./e2e/cypress.config.js","test:e2e:gui":"./node_modules/.bin/cypress open --config-file ./e2e/cypress.config.js","format":"./node_modules/.bin/prettier --write --list-different \'./**/**+(.js|.css)\'","man":"mkdir -p man && pandoc docs/user-manual.md -f markdown -t man -s --lua-filter man/manfilter.lua --include-before-body man/cosma.1.before --include-after-body man/cosma.1.after --metadata author=\\"\\" -o man/cosma.1","watch:front":"./node_modules/.bin/webpack build --config ./webpack-front.config.mjs --mode development --watch","build:front":"./node_modules/.bin/webpack build --config ./webpack-front.config.mjs --mode production","watch:back":"./node_modules/.bin/webpack build --config ./webpack-back.config.mjs --mode development --watch","build:back":"./node_modules/.bin/webpack build --config ./webpack-back.config.mjs --mode production","prepare":"npm run build:front && npm run build:back"},"contributors":["Arthur Perret","Guillaume Brioudes","Olivier Le Deuff","ClÃ©ment Borel"],"author":"Guillaume Brioudes (https://myllaume.fr/)","license":"GPL-3.0-or-later","dependencies":{"@zettlr/citr":"^1.2.2","citeproc":"^2.4.63","commander":"^12.0.0","csv-parse":"^5.5.5","d3":"^7.9.0","env-paths":"^2.2.1","fuse.js":"^6.6.2","glob":"^10.4.5","graphology":"^0.25.4","graphology-traversal":"^0.3.1","hotkeys-js":"^3.13.7","markdown-it":"^14.1.0","nunjucks":"^3.2.4","slugify":"^1.6.6","yaml":"^2.4.2"},"devDependencies":{"@babel/core":"^7.24.5","@babel/preset-env":"^7.24.5","babel-jest":"^29.7.0","babel-loader":"^9.1.3","chai":"^4.3.6","chai-fs":"^2.0.0","css-loader":"^7.1.2","cypress":"^13.9.0","jest":"^29.7.0","mocha":"^10.4.0","prettier":"3.2.5","style-loader":"^4.0.0","webpack":"^5.94.0","webpack-cli":"^5.1.4","yaml-loader":"^0.8.1"},"directories":{"doc":"docs","man":"man"},"keywords":[],"prettier":{"printWidth":100,"tabWidth":2,"useTabs":false,"semi":true,"singleQuote":true,"quoteProps":"as-needed","trailingComma":"all","bracketSpacing":true,"arrowParens":"always"}}'),{data:q}=k()("cosma-cli",{suffix:""});class G{static base=Object.freeze({select_origin:"directory",files_origin:"",nodes_origin:"",links_origin:"",nodes_online:"",links_online:"",images_origin:"",export_target:"",history:!0,focus_max:2,record_types:{undefined:{fill:"#858585",stroke:"#858585"}},link_types:{undefined:{stroke:"simple",color:"#e1e1e1"}},references_as_nodes:!1,references_type_label:"references",record_filters:[],graph_background_color:"#ffffff",graph_highlight_color:"#ff6a6a",graph_highlight_on_hover:!0,graph_text_size:10,graph_arrows:!0,node_size_method:"degree",node_size:10,node_size_max:20,node_size_min:2,attraction_force:200,attraction_distance_max:250,attraction_vertical:0,attraction_horizontal:0,views:{},record_metas:[],generate_id:"always",link_context:"tooltip",hide_id_from_record_header:!1,title:"",author:"",description:"",keywords:[],link_symbol:"",csl:"",bibliography:"",csl_locale:"",css_custom:"",devtools:!1,lang:"en"});static getOptionsList(){return new Set(Object.keys(G.base))}static minValues={focus_max:0,graph_text_size:2,attraction_force:50,attraction_distance_max:200,attraction_vertical:0,attraction_horizontal:0,node_size:0,node_size_max:0,node_size_min:0};static validLangages={fr:"FranÃ§ais",en:"English"};static isValidPath(t){return"string"==typeof t&&!!a().existsSync(t)}static isValidUrl(t){if("string"!=typeof t)return!1;if(""===t)return!1;try{new URL(t)}catch(t){return!1}return!0}static isValidNodeSize(t){if("object"!=typeof t)return!1;if(void 0===t.method)return!1;if(!1===new Set(["unique","degree"]).has(t.method))return!1;switch(t.method){case"unique":if("number"!=typeof t.value)return!1;if(t.value<0)return!1;break;case"degree":if("number"!=typeof t.min||"number"!=typeof t.max)return!1;if(t.min<0||t.max<0)return!1}return!0}static isValidNumber(t,e){return"number"==typeof e&&!(e<G.minValues[t])}static isValidViews(t){if("object"!=typeof t)return!1;for(const e of Object.values(t))if("string"!=typeof e)return!1;return!0}static isValidLangage(t){return void 0!==G.validLangages[t]}static isValidRecordTypes(t){if(!t)return!1;if("object"!=typeof t)return!1;if(void 0===t[void 0])return!1;for(const e in t){if(!e)return;if("object"!=typeof t[e]||void 0===t[e].fill||"string"!=typeof t[e].fill||void 0===t[e].stroke||"string"!=typeof t[e].stroke)return!1}return!0}static isValidLinkTypes(t){if(!t)return!1;if("object"!=typeof t)return!1;if(void 0===t[void 0])return!1;for(const e in t){if(!e)return!1;if("object"!=typeof t[e]||void 0===t[e].color||"string"!=typeof t[e].color||void 0===t[e].stroke||"string"!=typeof t[e].stroke||!1===I.validLinkStrokes.has(t[e].stroke))return!1}return!0}static isValidRecordFilters(t){if(!1===Array.isArray(t))return!1;const e=new Set(["type","tags"]);for(const{meta:i,value:n}of t){if(!i||!n)return!1;if(!1===e.has(i))return!1}return!0}static configDirPath=q;static defaultConfigPath=w().join(G.configDirPath,"defaults.yml");static executionConfigPath=w().join(process.cwd(),"config.yml");static getConfigFilesListFromConfigDir(){if(!1===a().existsSync(G.configDirPath))throw new $;let t;try{t=a().readdirSync(G.configDirPath,"utf-8")}catch(t){throw new z("try to get config files",G.configDirPath)}return t.filter((t=>".yml"===w().extname(t))).map((t=>{const e=w().join(G.configDirPath,t),{name:i}=w().parse(e);return{name:i,filePath:e}}))}static configFilePath=G.executionConfigPath;static get(t){if(void 0===t||!1===a().existsSync(t))return new G;let e,i;try{i=a().readFileSync(t,"utf8")}catch(t){throw new V("The config file cannot be read.")}try{switch(w().extname(t)){case".json":e=JSON.parse(i);break;case".yml":e=E.parse(i)}}catch(t){throw new V("The config file cannot be parsed.")}const n=new G(e);return n.path=t,n}constructor(t={}){this.report=[],this.opts=Object.assign({},G.base,t),!1===this.isValid()&&this.fix()}save(){if(void 0===this.path||!1===this.isValid())return!1;try{switch(w().extname(this.path)){case".json":a().writeFileSync(this.path,JSON.stringify(this.opts));break;case".yml":a().writeFileSync(this.path,E.stringify(this.opts))}}catch(t){throw new V("The config file cannot be save.")}return!0}verif(){const t=new Set(["directory","csv","online"]).has(this.opts.select_origin)?null:"select_origin",e=["files_origin","nodes_origin","links_origin","images_origin","export_target","csl","bibliography","csl_locale","css_custom"].filter((t=>""!==this.opts[t]&&!1===G.isValidPath(this.opts[t]))).map((t=>t)),i=["nodes_online","links_online"].filter((t=>""!==this.opts[t]&&!1===G.isValidUrl(this.opts[t]))).map((t=>t)),n=["focus_max","graph_text_size","attraction_force","attraction_distance_max","attraction_vertical","attraction_horizontal","node_size","node_size_max","node_size_min"].filter((t=>!1===G.isValidNumber(t,this.opts[t]))).map((t=>t)),r=["history","graph_highlight_on_hover","graph_arrows","devtools","references_as_nodes","hide_id_from_record_header"].filter((t=>"boolean"!=typeof this.opts[t])).map((t=>t)),s=["references_type_label"].filter((t=>"string"!=typeof this.opts[t])).map((t=>t)),o=G.isValidRecordTypes(this.opts.record_types)?null:"record_types",a=G.isValidLinkTypes(this.opts.link_types)?null:"link_types",l=G.isValidLangage(this.opts.lang)?null:"lang",c=G.isValidViews(this.opts.views)?null:"views",u=new Set(["always","never","ask"]).has(this.opts.generate_id)?null:"generate_id",h=new Set(["tooltip","inline"]).has(this.opts.link_context)?null:"link_context",p=new Set(["unique","degree"]).has(this.opts.node_size_method)?null:"node_size_method",f=G.isValidRecordFilters(this.opts.record_filters)?null:"record_filters";this.report=[t,...e,...i,...n,...r,...s,o,a,l,c,p,f,u,h].filter((t=>null!==t))}isValid(){this.verif();for(const t in this.report)if(!0!==this.report[t]&&(!0!==Array.isArray(this.report[t])||0!==this.report[t].length))return!1;return!0}fix(){for(const t of this.report)this.opts[t]=G.base[t]}writeReport(){return this.report.map((t=>Object.keys(G.minValues).includes(t)?O.getWith(O.i.config.errors[t],[G.minValues[t]]):O.getFor(O.i.config.errors[t]))).join(", ")}canCiteproc(){const t=[{filePath:this.opts.csl,extension:".csl"},{filePath:this.opts.bibliography,extension:".json"},{filePath:this.opts.csl_locale,extension:".xml"}];for(const{filePath:e,extension:i}of t){if(!1===G.isValidPath(e))return!1;if(w().extname(e)!==i)return!1}return!0}canCssCustom(){return!1!==G.isValidPath(this.opts.css_custom)&&".css"===w().extname(this.opts.css_custom)}canSaveRecords(){return G.isValidPath(this.opts.files_origin)}canModelizeFromDirectory(){return G.isValidPath(this.opts.files_origin)}canModelizeFromCsvFiles(){const t=[{filePath:this.opts.nodes_origin,extension:".csv"},{filePath:this.opts.links_origin,extension:".csv"}];for(const{filePath:e,extension:i}of t){if(!1===G.isValidPath(e))return!1;if(w().extname(e)!==i)return!1}return!0}canModelizeFromOnlineSync(){for(const t of[this.opts.nodes_online,this.opts.links_online])if(!1===G.isValidUrl(t))return!1;return!0}canModelizeFromOnline(){return new Promise(((t,e)=>{for(const e of[this.opts.nodes_online,this.opts.links_online]){!1===G.isValidUrl(e)&&t(!1);const{host:i,port:n,pathname:r}=new URL(e),s={method:"HEAD",host:i,port:n,path:r},o=R().request(s,(t=>{}));o.on("error",(e=>t(!1))),o.end()}t(!0)}))}getTypesRecords(){return new Set(Object.keys(this.opts.record_types))}getTypesLinks(){return new Set(Object.keys(this.opts.link_types))}getRecordMetas(){return new Set(this.opts.record_metas)}getFormatOfTypeRecord(t){const e=new Set([".jpg",".jpeg",".png"]),{fill:i}=this.opts.record_types[t];return e.has(w().extname(i))?"image":"color"}getConfigConsolMessage(){let t=this.opts.title||null;this.path===G.defaultConfigPath&&(t="Default");const e=[`[Cosma v.${U.version}]`,["[4m",t,"[0m"].join(""),["[2m",this.path,"[0m"].join("")];return this.report.length>0&&e.push(["\n",["[31m","Config errors","[0m"].join("")," for options: ",this.report.join(", ")].join("")),e.join(" ")}}class V extends Error{constructor(t){super(t),this.name="Error Config"}}const H=G,W=require("node:readline");var K=r.n(W),X=r(2495),Y=r.n(X);async function J(t,e){const i=a().createWriteStream(e),n=await fetch(t);await finished(Readable.fromWeb(n.body).pipe(i))}function Z(t){if(!1===a().existsSync(t))return!1;const e=new Set([".jpg",".jpeg",".png"]),i=w().extname(t);if(!1===e.has(i))return!1;const n=a().readFileSync(t);let r,s;switch(i){case".jpg":case".jpeg":r="ffd8",s=Buffer.from(n,"hex").toString("hex",0,2);break;case".png":r="89504e47",s=Buffer.from(n,"hex").toString("hex",0,4)}return r===s}function Q(t=new Date){return[t.getFullYear().toString().padStart(4,"0"),(t.getMonth()+1).toString().padStart(2,"0"),t.getDate().toString().padStart(2,"0"),t.getHours().toString().padStart(2,"0"),t.getMinutes().toString().padStart(2,"0"),t.getSeconds().toString().padStart(2,"0")]}function tt(t){return new Date(t).getTime()/1e3}function et(t){return Y()(t,{replacement:"-",remove:/[&*+=~'"!?:@#$%^(){}\[\]\\/\.]/g,lower:!0})}const{data:it}=k()("cosma-cli",{suffix:""});function nt(t,e){let i,n;if(void 0===e)for(const e of t)null!=e&&(void 0===i?e>=e&&(i=n=e):(i>e&&(i=e),n<e&&(n=e)));else{let r=-1;for(let s of t)null!=(s=e(s,++r,t))&&(void 0===i?s>=s&&(i=n=s):(i>s&&(i=s),n<s&&(n=s)))}return[i,n]}function rt(){}function st(t){return null==t?rt:function(){return this.querySelector(t)}}function ot(){return[]}function at(t){return null==t?ot:function(){return this.querySelectorAll(t)}}function lt(t){return function(){return this.matches(t)}}function ct(t){return function(e){return e.matches(t)}}var ut=Array.prototype.find;function ht(){return this.firstElementChild}var pt=Array.prototype.filter;function ft(){return Array.from(this.children)}function dt(t){return new Array(t.length)}function mt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function gt(t,e,i,n,r,s){for(var o,a=0,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],n[a]=o):i[a]=new mt(t,s[a]);for(;a<l;++a)(o=e[a])&&(r[a]=o)}function yt(t,e,i,n,r,s,o){var a,l,c,u=new Map,h=e.length,p=s.length,f=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(f[a]=c=o.call(l,l.__data__,a,e)+"",u.has(c)?r[a]=l:u.set(c,l));for(a=0;a<p;++a)c=o.call(t,s[a],a,s)+"",(l=u.get(c))?(n[a]=l,l.__data__=s[a],u.delete(c)):i[a]=new mt(t,s[a]);for(a=0;a<h;++a)(l=e[a])&&u.get(f[a])===l&&(r[a]=l)}function bt(t){return t.__data__}function _t(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function vt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}mt.prototype={constructor:mt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var wt="http://www.w3.org/1999/xhtml";const xt={svg:"http://www.w3.org/2000/svg",xhtml:wt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kt(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),xt.hasOwnProperty(e)?{space:xt[e],local:t}:t}function Et(t){return function(){this.removeAttribute(t)}}function At(t){return function(){this.removeAttributeNS(t.space,t.local)}}function St(t,e){return function(){this.setAttribute(t,e)}}function Ot(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Tt(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function Ct(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function Nt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function It(t){return function(){this.style.removeProperty(t)}}function Lt(t,e,i){return function(){this.style.setProperty(t,e,i)}}function Rt(t,e,i){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,i)}}function Dt(t,e){return t.style.getPropertyValue(e)||Nt(t).getComputedStyle(t,null).getPropertyValue(e)}function Mt(t){return function(){delete this[t]}}function Pt(t,e){return function(){this[t]=e}}function Ft(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function jt(t){return t.trim().split(/^|\s+/)}function Bt(t){return t.classList||new $t(t)}function $t(t){this._node=t,this._names=jt(t.getAttribute("class")||"")}function zt(t,e){for(var i=Bt(t),n=-1,r=e.length;++n<r;)i.add(e[n])}function Ut(t,e){for(var i=Bt(t),n=-1,r=e.length;++n<r;)i.remove(e[n])}function qt(t){return function(){zt(this,t)}}function Gt(t){return function(){Ut(this,t)}}function Vt(t,e){return function(){(e.apply(this,arguments)?zt:Ut)(this,t)}}function Ht(){this.textContent=""}function Wt(t){return function(){this.textContent=t}}function Kt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Xt(){this.innerHTML=""}function Yt(t){return function(){this.innerHTML=t}}function Jt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Zt(){this.nextSibling&&this.parentNode.appendChild(this)}function Qt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function te(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===wt&&e.documentElement.namespaceURI===wt?e.createElement(t):e.createElementNS(i,t)}}function ee(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ie(t){var e=kt(t);return(e.local?ee:te)(e)}function ne(){return null}function re(){var t=this.parentNode;t&&t.removeChild(this)}function se(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function oe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ae(t){return function(){var e=this.__on;if(e){for(var i,n=0,r=-1,s=e.length;n<s;++n)i=e[n],t.type&&i.type!==t.type||i.name!==t.name?e[++r]=i:this.removeEventListener(i.type,i.listener,i.options);++r?e.length=r:delete this.__on}}}function le(t,e,i){return function(){var n,r=this.__on,s=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var o=0,a=r.length;o<a;++o)if((n=r[o]).type===t.type&&n.name===t.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=s,n.options=i),void(n.value=e);this.addEventListener(t.type,s,i),n={type:t.type,name:t.name,value:e,listener:s,options:i},r?r.push(n):this.__on=[n]}}function ce(t,e,i){var n=Nt(t),r=n.CustomEvent;"function"==typeof r?r=new r(e,i):(r=n.document.createEvent("Event"),i?(r.initEvent(e,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function ue(t,e){return function(){return ce(this,t,e)}}function he(t,e){return function(){return ce(this,t,e.apply(this,arguments))}}$t.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var pe=[null];function fe(t,e){this._groups=t,this._parents=e}function de(){return new fe([[document.documentElement]],pe)}fe.prototype=de.prototype={constructor:fe,select:function(t){"function"!=typeof t&&(t=st(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var s,o,a=e[r],l=a.length,c=n[r]=new Array(l),u=0;u<l;++u)(s=a[u])&&(o=t.call(s,s.__data__,u,a))&&("__data__"in s&&(o.__data__=s.__data__),c[u]=o);return new fe(n,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}(t):at(t);for(var e=this._groups,i=e.length,n=[],r=[],s=0;s<i;++s)for(var o,a=e[s],l=a.length,c=0;c<l;++c)(o=a[c])&&(n.push(t.call(o,o.__data__,c,a)),r.push(o));return new fe(n,r)},selectChild:function(t){return this.select(null==t?ht:function(t){return function(){return ut.call(this.children,t)}}("function"==typeof t?t:ct(t)))},selectChildren:function(t){return this.selectAll(null==t?ft:function(t){return function(){return pt.call(this.children,t)}}("function"==typeof t?t:ct(t)))},filter:function(t){"function"!=typeof t&&(t=lt(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var s,o=e[r],a=o.length,l=n[r]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new fe(n,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,bt);var i,n=e?yt:gt,r=this._parents,s=this._groups;"function"!=typeof t&&(i=t,t=function(){return i});for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var h=r[u],p=s[u],f=p.length,d=_t(t.call(h,h&&h.__data__,u,r)),m=d.length,g=l[u]=new Array(m),y=a[u]=new Array(m);n(h,p,g,y,c[u]=new Array(f),d,e);for(var b,_,v=0,w=0;v<m;++v)if(b=g[v]){for(v>=w&&(w=v+1);!(_=y[w])&&++w<m;);b._next=_||null}}return(a=new fe(a,r))._enter=l,a._exit=c,a},enter:function(){return new fe(this._enter||this._groups.map(dt),this._parents)},exit:function(){return new fe(this._exit||this._groups.map(dt),this._parents)},join:function(t,e,i){var n=this.enter(),r=this,s=this.exit();return"function"==typeof t?(n=t(n))&&(n=n.selection()):n=n.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==i?s.remove():i(s),n&&r?n.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,i=this._groups,n=e._groups,r=i.length,s=n.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var c,u=i[l],h=n[l],p=u.length,f=a[l]=new Array(p),d=0;d<p;++d)(c=u[d]||h[d])&&(f[d]=c);for(;l<r;++l)a[l]=i[l];return new fe(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var n,r=t[e],s=r.length-1,o=r[s];--s>=0;)(n=r[s])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this},sort:function(t){function e(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}t||(t=vt);for(var i=this._groups,n=i.length,r=new Array(n),s=0;s<n;++s){for(var o,a=i[s],l=a.length,c=r[s]=new Array(l),u=0;u<l;++u)(o=a[u])&&(c[u]=o);c.sort(e)}return new fe(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n=t[e],r=0,s=n.length;r<s;++r){var o=n[r];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var r,s=e[i],o=0,a=s.length;o<a;++o)(r=s[o])&&t.call(r,r.__data__,o,s);return this},attr:function(t,e){var i=kt(t);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((null==e?i.local?At:Et:"function"==typeof e?i.local?Ct:Tt:i.local?Ot:St)(i,e))},style:function(t,e,i){return arguments.length>1?this.each((null==e?It:"function"==typeof e?Rt:Lt)(t,e,null==i?"":i)):Dt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Mt:"function"==typeof e?Ft:Pt)(t,e)):this.node()[t]},classed:function(t,e){var i=jt(t+"");if(arguments.length<2){for(var n=Bt(this.node()),r=-1,s=i.length;++r<s;)if(!n.contains(i[r]))return!1;return!0}return this.each(("function"==typeof e?Vt:e?qt:Gt)(i,e))},text:function(t){return arguments.length?this.each(null==t?Ht:("function"==typeof t?Kt:Wt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Xt:("function"==typeof t?Jt:Yt)(t)):this.node().innerHTML},raise:function(){return this.each(Zt)},lower:function(){return this.each(Qt)},append:function(t){var e="function"==typeof t?t:ie(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var i="function"==typeof t?t:ie(t),n=null==e?ne:"function"==typeof e?e:st(e);return this.select((function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(re)},clone:function(t){return this.select(t?oe:se)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,i){var n,r,s=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}}))}(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?le:ae,n=0;n<o;++n)this.each(a(s[n],e,i));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(n=0,l=a[c];n<o;++n)if((r=s[n]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?he:ue)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n,r=t[e],s=0,o=r.length;s<o;++s)(n=r[s])&&(yield n)}};const me=de;var ge={value:()=>{}};function ye(){for(var t,e=0,i=arguments.length,n={};e<i;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new be(n)}function be(t){this._=t}function _e(t,e){for(var i,n=0,r=t.length;n<r;++n)if((i=t[n]).name===e)return i.value}function ve(t,e,i){for(var n=0,r=t.length;n<r;++n)if(t[n].name===e){t[n]=ge,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=i&&t.push({name:e,value:i}),t}be.prototype=ye.prototype={constructor:be,on:function(t,e){var i,n=this._,r=function(t,e){return t.trim().split(/^|\s+/).map((function(t){var i="",n=t.indexOf(".");if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}}))}(t+"",n),s=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=ve(n[i],t.name,e);else if(null==e)for(i in n)n[i]=ve(n[i],t.name,null);return this}for(;++s<o;)if((i=(t=r[s]).type)&&(i=_e(n[i],t.name)))return i},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new be(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,n,r=new Array(i),s=0;s<i;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,i=(n=this._[t]).length;s<i;++s)n[s].value.apply(e,r)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],r=0,s=n.length;r<s;++r)n[r].value.apply(e,i)}};const we=ye;var xe,ke,Ee=0,Ae=0,Se=0,Oe=1e3,Te=0,Ce=0,Ne=0,Ie="object"==typeof performance&&performance.now?performance:Date,Le="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Re(){return Ce||(Le(De),Ce=Ie.now()+Ne)}function De(){Ce=0}function Me(){this._call=this._time=this._next=null}function Pe(t,e,i){var n=new Me;return n.restart(t,e,i),n}function Fe(){Ce=(Te=Ie.now())+Ne,Ee=Ae=0;try{!function(){Re(),++Ee;for(var t,e=xe;e;)(t=Ce-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ee}()}finally{Ee=0,function(){for(var t,e,i=xe,n=1/0;i;)i._call?(n>i._time&&(n=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:xe=e);ke=t,Be(n)}(),Ce=0}}function je(){var t=Ie.now(),e=t-Te;e>Oe&&(Ne-=e,Te=t)}function Be(t){Ee||(Ae&&(Ae=clearTimeout(Ae)),t-Ce>24?(t<1/0&&(Ae=setTimeout(Fe,t-Ie.now()-Ne)),Se&&(Se=clearInterval(Se))):(Se||(Te=Ie.now(),Se=setInterval(je,Oe)),Ee=1,Le(Fe)))}function $e(t,e,i){var n=new Me;return e=null==e?0:+e,n.restart((i=>{n.stop(),t(i+e)}),e,i),n}Me.prototype=Pe.prototype={constructor:Me,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?Re():+i)+(null==e?0:+e),this._next||ke===this||(ke?ke._next=this:xe=this,ke=this),this._call=t,this._time=i,Be()},stop:function(){this._call&&(this._call=null,this._time=1/0,Be())}};var ze=we("start","end","cancel","interrupt"),Ue=[],qe=0,Ge=3;function Ve(t,e,i,n,r,s){var o=t.__transition;if(o){if(i in o)return}else t.__transition={};!function(t,e,i){var n,r=t.__transition;function s(l){var c,u,h,p;if(1!==i.state)return a();for(c in r)if((p=r[c]).name===i.name){if(p.state===Ge)return $e(s);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=6,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if($e((function(){i.state===Ge&&(i.state=4,i.timer.restart(o,i.delay,i.time),o(l))})),i.state=2,i.on.call("start",t,t.__data__,i.index,i.group),2===i.state){for(i.state=Ge,n=new Array(h=i.tween.length),c=0,u=-1;c<h;++c)(p=i.tween[c].value.call(t,t.__data__,i.index,i.group))&&(n[++u]=p);n.length=u+1}}function o(e){for(var r=e<i.duration?i.ease.call(null,e/i.duration):(i.timer.restart(a),i.state=5,1),s=-1,o=n.length;++s<o;)n[s].call(t,r);5===i.state&&(i.on.call("end",t,t.__data__,i.index,i.group),a())}function a(){for(var n in i.state=6,i.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=i,i.timer=Pe((function(t){i.state=1,i.timer.restart(s,i.delay,i.time),i.delay<=t&&s(t-i.delay)}),0,i.time)}(t,i,{name:e,index:n,group:r,on:ze,tween:Ue,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:qe})}function He(t,e){var i=Ke(t,e);if(i.state>qe)throw new Error("too late; already scheduled");return i}function We(t,e){var i=Ke(t,e);if(i.state>Ge)throw new Error("too late; already running");return i}function Ke(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function Xe(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}var Ye,Je=180/Math.PI,Ze={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qe(t,e,i,n,r,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*i+e*n)&&(i-=t*l,n-=e*l),(a=Math.sqrt(i*i+n*n))&&(i/=a,n/=a,l/=a),t*n<e*i&&(t=-t,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*Je,skewX:Math.atan(l)*Je,scaleX:o,scaleY:a}}function ti(t,e,i,n){function r(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],l=[];return s=t(s),o=t(o),function(t,n,r,s,o,a){if(t!==r||n!==s){var l=o.push("translate(",null,e,null,i);a.push({i:l-4,x:Xe(t,r)},{i:l-2,x:Xe(n,s)})}else(r||s)&&o.push("translate("+r+e+s+i)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(t,e,i,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:i.push(r(i)+"rotate(",null,n)-2,x:Xe(t,e)})):e&&i.push(r(i)+"rotate("+e+n)}(s.rotate,o.rotate,a,l),function(t,e,i,s){t!==e?s.push({i:i.push(r(i)+"skewX(",null,n)-2,x:Xe(t,e)}):e&&i.push(r(i)+"skewX("+e+n)}(s.skewX,o.skewX,a,l),function(t,e,i,n,s,o){if(t!==i||e!==n){var a=s.push(r(s)+"scale(",null,",",null,")");o.push({i:a-4,x:Xe(t,i)},{i:a-2,x:Xe(e,n)})}else 1===i&&1===n||s.push(r(s)+"scale("+i+","+n+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(t){for(var e,i=-1,n=l.length;++i<n;)a[(e=l[i]).i]=e.x(t);return a.join("")}}}var ei=ti((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ze:Qe(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ii=ti((function(t){return null==t?Ze:(Ye||(Ye=document.createElementNS("http://www.w3.org/2000/svg","g")),Ye.setAttribute("transform",t),(t=Ye.transform.baseVal.consolidate())?Qe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ze)}),", ",")",")");function ni(t,e){var i,n;return function(){var r=We(this,t),s=r.tween;if(s!==i)for(var o=0,a=(n=i=s).length;o<a;++o)if(n[o].name===e){(n=n.slice()).splice(o,1);break}r.tween=n}}function ri(t,e,i){var n,r;if("function"!=typeof i)throw new Error;return function(){var s=We(this,t),o=s.tween;if(o!==n){r=(n=o).slice();for(var a={name:e,value:i},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function si(t,e,i){var n=t._id;return t.each((function(){var t=We(this,n);(t.value||(t.value={}))[e]=i.apply(this,arguments)})),function(t){return Ke(t,n).value[e]}}function oi(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function ai(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function li(){}var ci=.7,ui=1/ci,hi="\\s*([+-]?\\d+)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",di=/^#([0-9a-f]{3,8})$/,mi=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),gi=new RegExp(`^rgb\\(${fi},${fi},${fi}\\)$`),yi=new RegExp(`^rgba\\(${hi},${hi},${hi},${pi}\\)$`),bi=new RegExp(`^rgba\\(${fi},${fi},${fi},${pi}\\)$`),_i=new RegExp(`^hsl\\(${pi},${fi},${fi}\\)$`),vi=new RegExp(`^hsla\\(${pi},${fi},${fi},${pi}\\)$`),wi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xi(){return this.rgb().formatHex()}function ki(){return this.rgb().formatRgb()}function Ei(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=di.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?Ai(e):3===i?new Ti(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?Si(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?Si(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=mi.exec(t))?new Ti(e[1],e[2],e[3],1):(e=gi.exec(t))?new Ti(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=yi.exec(t))?Si(e[1],e[2],e[3],e[4]):(e=bi.exec(t))?Si(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=_i.exec(t))?Di(e[1],e[2]/100,e[3]/100,1):(e=vi.exec(t))?Di(e[1],e[2]/100,e[3]/100,e[4]):wi.hasOwnProperty(t)?Ai(wi[t]):"transparent"===t?new Ti(NaN,NaN,NaN,0):null}function Ai(t){return new Ti(t>>16&255,t>>8&255,255&t,1)}function Si(t,e,i,n){return n<=0&&(t=e=i=NaN),new Ti(t,e,i,n)}function Oi(t,e,i,n){return 1===arguments.length?((r=t)instanceof li||(r=Ei(r)),r?new Ti((r=r.rgb()).r,r.g,r.b,r.opacity):new Ti):new Ti(t,e,i,null==n?1:n);var r}function Ti(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function Ci(){return`#${Ri(this.r)}${Ri(this.g)}${Ri(this.b)}`}function Ni(){const t=Ii(this.opacity);return`${1===t?"rgb(":"rgba("}${Li(this.r)}, ${Li(this.g)}, ${Li(this.b)}${1===t?")":`, ${t})`}`}function Ii(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Li(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ri(t){return((t=Li(t))<16?"0":"")+t.toString(16)}function Di(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Pi(t,e,i,n)}function Mi(t){if(t instanceof Pi)return new Pi(t.h,t.s,t.l,t.opacity);if(t instanceof li||(t=Ei(t)),!t)return new Pi;if(t instanceof Pi)return t;var e=(t=t.rgb()).r/255,i=t.g/255,n=t.b/255,r=Math.min(e,i,n),s=Math.max(e,i,n),o=NaN,a=s-r,l=(s+r)/2;return a?(o=e===s?(i-n)/a+6*(i<n):i===s?(n-e)/a+2:(e-i)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Pi(o,a,l,t.opacity)}function Pi(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function Fi(t){return(t=(t||0)%360)<0?t+360:t}function ji(t){return Math.max(0,Math.min(1,t||0))}function Bi(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}function $i(t,e,i,n,r){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*i+(1+3*t+3*s-3*o)*n+o*r)/6}oi(li,Ei,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xi,formatHex:xi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Mi(this).formatHsl()},formatRgb:ki,toString:ki}),oi(Ti,Oi,ai(li,{brighter(t){return t=null==t?ui:Math.pow(ui,t),new Ti(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?ci:Math.pow(ci,t),new Ti(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ti(Li(this.r),Li(this.g),Li(this.b),Ii(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ci,formatHex:Ci,formatHex8:function(){return`#${Ri(this.r)}${Ri(this.g)}${Ri(this.b)}${Ri(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ni,toString:Ni})),oi(Pi,(function(t,e,i,n){return 1===arguments.length?Mi(t):new Pi(t,e,i,null==n?1:n)}),ai(li,{brighter(t){return t=null==t?ui:Math.pow(ui,t),new Pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ci:Math.pow(ci,t),new Pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,r=2*i-n;return new Ti(Bi(t>=240?t-240:t+120,r,n),Bi(t,r,n),Bi(t<120?t+240:t-120,r,n),this.opacity)},clamp(){return new Pi(Fi(this.h),ji(this.s),ji(this.l),Ii(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ii(this.opacity);return`${1===t?"hsl(":"hsla("}${Fi(this.h)}, ${100*ji(this.s)}%, ${100*ji(this.l)}%${1===t?")":`, ${t})`}`}}));const zi=t=>()=>t;function Ui(t,e){var i=e-t;return i?function(t,e){return function(i){return t+i*e}}(t,i):zi(isNaN(t)?e:t)}const qi=function t(e){var i=function(t){return 1==(t=+t)?Ui:function(e,i){return i-e?function(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(n){return Math.pow(t+n*e,i)}}(e,i,t):zi(isNaN(e)?i:e)}}(e);function n(t,e){var n=i((t=Oi(t)).r,(e=Oi(e)).r),r=i(t.g,e.g),s=i(t.b,e.b),o=Ui(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=s(e),t.opacity=o(e),t+""}}return n.gamma=t,n}(1);function Gi(t){return function(e){var i,n,r=e.length,s=new Array(r),o=new Array(r),a=new Array(r);for(i=0;i<r;++i)n=Oi(e[i]),s[i]=n.r||0,o[i]=n.g||0,a[i]=n.b||0;return s=t(s),o=t(o),a=t(a),n.opacity=1,function(t){return n.r=s(t),n.g=o(t),n.b=a(t),n+""}}}Gi((function(t){var e=t.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),r=t[n],s=t[n+1],o=n>0?t[n-1]:2*r-s,a=n<e-1?t[n+2]:2*s-r;return $i((i-n/e)*e,o,r,s,a)}})),Gi((function(t){var e=t.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*e),r=t[(n+e-1)%e],s=t[n%e],o=t[(n+1)%e],a=t[(n+2)%e];return $i((i-n/e)*e,r,s,o,a)}}));var Vi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hi=new RegExp(Vi.source,"g");function Wi(t,e){var i,n,r,s=Vi.lastIndex=Hi.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(i=Vi.exec(t))&&(n=Hi.exec(e));)(r=n.index)>s&&(r=e.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(i=i[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,l.push({i:o,x:Xe(i,n)})),s=Hi.lastIndex;return s<e.length&&(r=e.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var i,n=0;n<e;++n)a[(i=l[n]).i]=i.x(t);return a.join("")})}function Ki(t,e){var i;return("number"==typeof e?Xe:e instanceof Ei?qi:(i=Ei(e))?(e=i,qi):Wi)(t,e)}function Xi(t){return function(){this.removeAttribute(t)}}function Yi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ji(t,e,i){var n,r,s=i+"";return function(){var o=this.getAttribute(t);return o===s?null:o===n?r:r=e(n=o,i)}}function Zi(t,e,i){var n,r,s=i+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===n?r:r=e(n=o,i)}}function Qi(t,e,i){var n,r,s;return function(){var o,a,l=i(this);if(null!=l)return(o=this.getAttribute(t))===(a=l+"")?null:o===n&&a===r?s:(r=a,s=e(n=o,l));this.removeAttribute(t)}}function tn(t,e,i){var n,r,s;return function(){var o,a,l=i(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:o===n&&a===r?s:(r=a,s=e(n=o,l));this.removeAttributeNS(t.space,t.local)}}function en(t,e){var i,n;function r(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&function(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}(t,r)),i}return r._value=e,r}function nn(t,e){var i,n;function r(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&function(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}(t,r)),i}return r._value=e,r}function rn(t,e){return function(){He(this,t).delay=+e.apply(this,arguments)}}function sn(t,e){return e=+e,function(){He(this,t).delay=e}}function on(t,e){return function(){We(this,t).duration=+e.apply(this,arguments)}}function an(t,e){return e=+e,function(){We(this,t).duration=e}}var ln=me.prototype.constructor;function cn(t){return function(){this.style.removeProperty(t)}}var un=0;function hn(t,e,i,n){this._groups=t,this._parents=e,this._name=i,this._id=n}function pn(){return++un}var fn=me.prototype;hn.prototype=function(t){return me().transition(t)}.prototype={constructor:hn,select:function(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=st(t));for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o)for(var a,l,c=n[o],u=c.length,h=s[o]=new Array(u),p=0;p<u;++p)(a=c[p])&&(l=t.call(a,a.__data__,p,c))&&("__data__"in a&&(l.__data__=a.__data__),h[p]=l,Ve(h[p],e,i,p,h,Ke(a,i)));return new hn(s,this._parents,e,i)},selectAll:function(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=at(t));for(var n=this._groups,r=n.length,s=[],o=[],a=0;a<r;++a)for(var l,c=n[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var p,f=t.call(l,l.__data__,h,c),d=Ke(l,i),m=0,g=f.length;m<g;++m)(p=f[m])&&Ve(p,e,i,m,f,d);s.push(f),o.push(l)}return new hn(s,o,e,i)},selectChild:fn.selectChild,selectChildren:fn.selectChildren,filter:function(t){"function"!=typeof t&&(t=lt(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var s,o=e[r],a=o.length,l=n[r]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new hn(n,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,n=e.length,r=i.length,s=Math.min(n,r),o=new Array(n),a=0;a<s;++a)for(var l,c=e[a],u=i[a],h=c.length,p=o[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(p[f]=l);for(;a<n;++a)o[a]=e[a];return new hn(o,this._parents,this._name,this._id)},selection:function(){return new ln(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,i=pn(),n=this._groups,r=n.length,s=0;s<r;++s)for(var o,a=n[s],l=a.length,c=0;c<l;++c)if(o=a[c]){var u=Ke(o,e);Ve(o,t,i,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new hn(n,this._parents,t,i)},call:fn.call,nodes:fn.nodes,node:fn.node,size:fn.size,empty:fn.empty,each:fn.each,on:function(t,e){var i=this._id;return arguments.length<2?Ke(this.node(),i).on.on(t):this.each(function(t,e,i){var n,r,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?He:We;return function(){var o=s(this,t),a=o.on;a!==n&&(r=(n=a).copy()).on(e,i),o.on=r}}(i,t,e))},attr:function(t,e){var i=kt(t),n="transform"===i?ii:Ki;return this.attrTween(t,"function"==typeof e?(i.local?tn:Qi)(i,n,si(this,"attr."+t,e)):null==e?(i.local?Yi:Xi)(i):(i.local?Zi:Ji)(i,n,e))},attrTween:function(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;var n=kt(t);return this.tween(i,(n.local?en:nn)(n,e))},style:function(t,e,i){var n="transform"==(t+="")?ei:Ki;return null==e?this.styleTween(t,function(t,e){var i,n,r;return function(){var s=Dt(this,t),o=(this.style.removeProperty(t),Dt(this,t));return s===o?null:s===i&&o===n?r:r=e(i=s,n=o)}}(t,n)).on("end.style."+t,cn(t)):"function"==typeof e?this.styleTween(t,function(t,e,i){var n,r,s;return function(){var o=Dt(this,t),a=i(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=Dt(this,t)),o===l?null:o===n&&l===r?s:(r=l,s=e(n=o,a))}}(t,n,si(this,"style."+t,e))).each(function(t,e){var i,n,r,s,o="style."+e,a="end."+o;return function(){var l=We(this,t),c=l.on,u=null==l.value[o]?s||(s=cn(e)):void 0;c===i&&r===u||(n=(i=c).copy()).on(a,r=u),l.on=n}}(this._id,t)):this.styleTween(t,function(t,e,i){var n,r,s=i+"";return function(){var o=Dt(this,t);return o===s?null:o===n?r:r=e(n=o,i)}}(t,n,e),i).on("end.style."+t,null)},styleTween:function(t,e,i){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,function(t,e,i){var n,r;function s(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&function(t,e,i){return function(n){this.style.setProperty(t,e.call(this,n),i)}}(t,s,i)),n}return s._value=e,s}(t,e,null==i?"":i))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(si(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,i;function n(){var n=t.apply(this,arguments);return n!==i&&(e=(i=n)&&function(t){return function(e){this.textContent=t.call(this,e)}}(n)),e}return n._value=t,n}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var i=this._id;if(t+="",arguments.length<2){for(var n,r=Ke(this.node(),i).tween,s=0,o=r.length;s<o;++s)if((n=r[s]).name===t)return n.value;return null}return this.each((null==e?ni:ri)(i,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?rn:sn)(e,t)):Ke(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?on:an)(e,t)):Ke(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){We(this,t).ease=e}}(e,t)):Ke(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var i=e.apply(this,arguments);if("function"!=typeof i)throw new Error;We(this,t).ease=i}}(this._id,t))},end:function(){var t,e,i=this,n=i._id,r=i.size();return new Promise((function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};i.each((function(){var i=We(this,n),r=i.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),i.on=e})),0===r&&s()}))},[Symbol.iterator]:fn[Symbol.iterator]};var dn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function mn(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}me.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var i,n,r,s=t.__transition,o=!0;if(s){for(r in e=null==e?null:e+"",s)(i=s[r]).name===e?(n=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(n?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete s[r]):o=!1;o&&delete t.__transition}}(this,t)}))},me.prototype.transition=function(t){var e,i;t instanceof hn?(e=t._id,t=t._name):(e=pn(),(i=dn).time=Re(),t=null==t?null:t+"");for(var n=this._groups,r=n.length,s=0;s<r;++s)for(var o,a=n[s],l=a.length,c=0;c<l;++c)(o=a[c])&&Ve(o,t,e,c,a,i||mn(o,e));return new hn(n,this._parents,t,e)};const{abs:gn,max:yn,min:bn}=Math;function _n(t){return{type:t}}["w","e"].map(_n),["n","s"].map(_n),["n","w","e","s","nw","ne","sw","se"].map(_n);const vn=Math.sqrt(50),wn=Math.sqrt(10),xn=Math.sqrt(2);function kn(t,e,i){const n=(e-t)/Math.max(0,i),r=Math.floor(Math.log10(n)),s=n/Math.pow(10,r),o=s>=vn?10:s>=wn?5:s>=xn?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=i&&i<2?kn(t,e,2*i):[a,l,c]}function En(t,e,i){return kn(t=+t,e=+e,i=+i)[2]}function An(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sn(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function On(t){let e,i,n;function r(t,n,r=0,s=t.length){if(r<s){if(0!==e(n,n))return s;do{const e=r+s>>>1;i(t[e],n)<0?r=e+1:s=e}while(r<s)}return r}return 2!==t.length?(e=An,i=(e,i)=>An(t(e),i),n=(e,i)=>t(e)-i):(e=t===An||t===Sn?t:Tn,i=t,n=t),{left:r,center:function(t,e,i=0,s=t.length){const o=r(t,e,i,s-1);return o>i&&n(t[o-1],e)>-n(t[o],e)?o-1:o},right:function(t,n,r=0,s=t.length){if(r<s){if(0!==e(n,n))return s;do{const e=r+s>>>1;i(t[e],n)<=0?r=e+1:s=e}while(r<s)}return r}}}function Tn(){return 0}const Cn=On(An),Nn=Cn.right,In=(Cn.left,On((function(t){return null===t?NaN:+t})).center,Nn);function Ln(t,e){var i,n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),o=new Array(n);for(i=0;i<r;++i)s[i]=Pn(t[i],e[i]);for(;i<n;++i)o[i]=e[i];return function(t){for(i=0;i<r;++i)o[i]=s[i](t);return o}}function Rn(t,e){var i=new Date;return t=+t,e=+e,function(n){return i.setTime(t*(1-n)+e*n),i}}function Dn(t,e){var i,n={},r={};for(i in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)i in t?n[i]=Pn(t[i],e[i]):r[i]=e[i];return function(t){for(i in n)r[i]=n[i](t);return r}}function Mn(t,e){e||(e=[]);var i,n=t?Math.min(e.length,t.length):0,r=e.slice();return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Pn(t,e){var i,n,r=typeof e;return null==e||"boolean"===r?zi(e):("number"===r?Xe:"string"===r?(i=Ei(e))?(e=i,qi):Wi:e instanceof Ei?qi:e instanceof Date?Rn:(n=e,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(e)?Ln:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Dn:Xe:Mn))(t,e)}function Fn(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}function jn(t){return+t}var Bn=[0,1];function $n(t){return t}function zn(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:(i=isNaN(e)?NaN:.5,function(){return i});var i}function Un(t,e,i){var n=t[0],r=t[1],s=e[0],o=e[1];return r<n?(n=zn(r,n),s=i(o,s)):(n=zn(n,r),s=i(s,o)),function(t){return s(n(t))}}function qn(t,e,i){var n=Math.min(t.length,e.length)-1,r=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)r[o]=zn(t[o],t[o+1]),s[o]=i(e[o],e[o+1]);return function(e){var i=In(t,e,1,n)-1;return s[i](r[i](e))}}function Gn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Vn,Hn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wn(t){if(!(e=Hn.exec(t)))throw new Error("invalid format: "+t);var e;return new Kn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Kn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Xn(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,n=t.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+t.slice(i+1)]}function Yn(t){return(t=Xn(Math.abs(t)))?t[1]:NaN}function Jn(t,e){var i=Xn(t,e);if(!i)return t+"";var n=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}Wn.prototype=Kn.prototype,Kn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Zn={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Jn(100*t,e),r:Jn,s:function(t,e){var i=Xn(t,e);if(!i)return t+"";var n=i[0],r=i[1],s=r-(Vn=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Xn(t,Math.max(0,e+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Qn(t){return t}var tr,er,ir,nr=Array.prototype.map,rr=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function sr(t){var e=t.domain;return t.ticks=function(t){var i=e();return function(t,e,i){if(!((i=+i)>0))return[];if((t=+t)==(e=+e))return[t];const n=e<t,[r,s,o]=n?kn(e,t,i):kn(t,e,i);if(!(s>=r))return[];const a=s-r+1,l=new Array(a);if(n)if(o<0)for(let t=0;t<a;++t)l[t]=(s-t)/-o;else for(let t=0;t<a;++t)l[t]=(s-t)*o;else if(o<0)for(let t=0;t<a;++t)l[t]=(r+t)/-o;else for(let t=0;t<a;++t)l[t]=(r+t)*o;return l}(i[0],i[i.length-1],null==t?10:t)},t.tickFormat=function(t,i){var n=e();return function(t,e,i,n){var r,s=function(t,e,i){i=+i;const n=(e=+e)<(t=+t),r=n?En(e,t,i):En(t,e,i);return(n?-1:1)*(r<0?1/-r:r)}(t,e,i);switch((n=Wn(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=n.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yn(e)/3)))-Yn(Math.abs(t)))}(s,o))||(n.precision=r),ir(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yn(e)-Yn(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(t){return Math.max(0,-Yn(Math.abs(t)))}(s))||(n.precision=r-2*("%"===n.type))}return er(n)}(n[0],n[n.length-1],null==t?10:t,i)},t.nice=function(i){null==i&&(i=10);var n,r,s=e(),o=0,a=s.length-1,l=s[o],c=s[a],u=10;for(c<l&&(r=l,l=c,c=r,r=o,o=a,a=r);u-- >0;){if((r=En(l,c,i))===n)return s[o]=l,s[a]=c,e(s);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}n=r}return t},t}function or(){var t=function(){var t,e,i,n,r,s,o=Bn,a=Bn,l=Pn,c=$n;function u(){var t,e,i,l=Math.min(o.length,a.length);return c!==$n&&(t=o[0],e=o[l-1],t>e&&(i=t,t=e,e=i),c=function(i){return Math.max(t,Math.min(e,i))}),n=l>2?qn:Un,r=s=null,h}function h(e){return null==e||isNaN(e=+e)?i:(r||(r=n(o.map(t),a,l)))(t(c(e)))}return h.invert=function(i){return c(e((s||(s=n(a,o.map(t),Xe)))(i)))},h.domain=function(t){return arguments.length?(o=Array.from(t,jn),u()):o.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),u()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),l=Fn,u()},h.clamp=function(t){return arguments.length?(c=!!t||$n,u()):c!==$n},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(i=t,h):i},function(i,n){return t=i,e=n,u()}}()($n,$n);return t.copy=function(){return e=t,or().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},Gn.apply(t,arguments),sr(t)}function ar(t,e,i){this.k=t,this.x=e,this.y=i}tr=function(t){var e,i,n=void 0===t.grouping||void 0===t.thousands?Qn:(e=nr.call(t.grouping,Number),i=t.thousands+"",function(t,n){for(var r=t.length,s=[],o=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),s.push(t.substring(r-=a,r+a)),!((l+=a+1)>n));)a=e[o=(o+1)%e.length];return s.reverse().join(i)}),r=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Qn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(nr.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"â":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Wn(t)).fill,i=t.align,h=t.sign,p=t.symbol,f=t.zero,d=t.width,m=t.comma,g=t.precision,y=t.trim,b=t.type;"n"===b?(m=!0,b="g"):Zn[b]||(void 0===g&&(g=12),y=!0,b="g"),(f||"0"===e&&"="===i)&&(f=!0,e="0",i="=");var _="$"===p?r:"#"===p&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v="$"===p?s:/[%p]/.test(b)?l:"",w=Zn[b],x=/[defgprs%]/.test(b);function k(t){var r,s,l,p=_,k=v;if("c"===b)k=w(t)+k,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),g),y&&(t=function(t){t:for(var e,i=t.length,n=1,r=-1;n<i;++n)switch(t[n]){case".":r=e=n;break;case"0":0===r&&(r=n),e=n;break;default:if(!+t[n])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==h&&(E=!1),p=(E?"("===h?h:c:"-"===h||"("===h?"":h)+p,k=("s"===b?rr[8+Vn/3]:"")+k+(E&&"("===h?")":""),x)for(r=-1,s=t.length;++r<s;)if(48>(l=t.charCodeAt(r))||l>57){k=(46===l?o+t.slice(r+1):t.slice(r))+k,t=t.slice(0,r);break}}m&&!f&&(t=n(t,1/0));var A=p.length+t.length+k.length,S=A<d?new Array(d-A+1).join(e):"";switch(m&&f&&(t=n(S+t,S.length?d-k.length:1/0),S=""),i){case"<":t=p+t+k+S;break;case"=":t=p+S+t+k;break;case"^":t=S.slice(0,A=S.length>>1)+p+t+k+S.slice(A);break;default:t=S+p+t+k}return a(t)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var i=h(((t=Wn(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor(Yn(e)/3))),r=Math.pow(10,-n),s=rr[8+n/3];return function(t){return i(r*t)+s}}}}({thousands:",",grouping:[3],currency:["$",""]}),er=tr.format,ir=tr.formatPrefix,ar.prototype={constructor:ar,scale:function(t){return 1===t?this:new ar(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ar(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new ar(1,0,0),ar.prototype;class lr{static getNodeSizeByLinkRank(t,e,i,n,r,s){const[o,a]=i,[l,c]=n;return or().domain([o+l,a+c]).range([r,s])(t+e)}static getNodeStyle(t,e,i){if(!t||t instanceof H==0)throw new Error("Need instance of Config to process");let n;return n="image"===t.getFormatOfTypeRecord(e)?`url(#${t.opts.record_types[e].fill})`:t.opts.record_types[e].fill,i&&(n=`url(#${i})`),{fill:n,colorStroke:t.opts.record_types[e].stroke,highlight:t.opts.graph_highlight_color}}static getNodesFromRecords(t,{linksExtent:e,backlinksExtent:i}){return t.map((t=>{const{id:n,title:r,types:s,links:o,backlinks:a,begin:l,end:c,thumbnail:u,config:h}=t,{node_size_method:p,node_size:f,node_size_min:d,node_size_max:m}=h.opts;let g;switch(p){case"unique":g=f;break;case"degree":g=lr.getNodeSizeByLinkRank(o.length,a.length,e,i,d,m)}return new lr(n,r,s,void 0,void 0,void 0,g,2,l,c,u)}))}constructor(t,e,i=["undefined"],n,r,s,o,a,l,c,u){this.id=t,this.label=e,this.types=i,this.fill=n,this.colorStroke=r,this.highlight=s,this.size=Number(o),this.strokeWidth=a,this.begin=l,this.end=c,this.thumbnail=u}}const cr=lr;var ur=r(7828),hr=r.n(ur);const pr={book:["Buch","BÃ¼cher","B.","book","books","bk.","bks.","livre","livres","liv."],chapter:["Kapitel","Kap.","chapter","chapters","chap.","chaps","chapitre","chapitres"],column:["Spalte","Spalten","Sp.","column","columns","col.","cols","colonne","colonnes"],figure:["Abbildung","Abbildungen","Abb.","figure","figures","fig.","figs"],folio:["Blatt","BlÃ¤tter","Fol.","folio","folios","fol.","fols","fáµ","fáµË¢"],issue:["Nummer","Nummern","Nr.","number","numbers","no.","nos.","numÃ©ro","numÃ©ros","náµ","náµË¢"],line:["Zeile","Zeilen","Z","line","lines","l.","ll.","ligne","lignes"],note:["Note","Noten","N.","note","notes","n.","nn."],opus:["Opus","Opera","op.","opus","opera","opp."],page:["Seite","Seiten","S.","page","pages","p.","pp."],paragraph:["Absatz","AbsÃ¤tze","Abs.","Â¶","Â¶Â¶","paragraph","paragraphs","para.","paras","paragraphe","paragraphes","paragr."],part:["Teil","Teile","part","parts","pt.","pts","partie","parties","part."],section:["Abschnitt","Abschnitte","Abschn.","Â§","Â§Â§","section","sections","sec.","secs","sect."],"sub verbo":["sub verbo","sub verbis","s.&#160;v.","s.&#160;vv.","s.v.","s.vv."],verse:["Vers","Verse","V.","verse","verses","v.","vv.","verset","versets"],volume:["Band","BÃ¤nde","Bd.","Bde.","volume","volumes","vol.","vols."]},fr=/(?:\[([^[\]]*@[^[\]]+)\])|(?<=\s|^|(-))(?:@([\p{L}\d_][^\s]*[\p{L}\d_]|\{.+\})(?: +\[(.*?)\])?)/gmu,dr=/(?<prefix>.+)?(?:@(?<citekey>[\p{L}\d_][^\s{]*[\p{L}\d_]|\{.+\}))(?:\{(?<explicitLocator>.*)\})?(?:,?\s+(?:\{(?<explicitLocatorInSuffix>.*)\})?(?<suffix>.*))?/u,mr=/^(?:[\d, -]*\d|[ivxlcdm, -]*[ivxlcdm])/i;function gr(t,e){const i={locator:void 0,label:"page",suffix:void 0};if(void 0===t)return i;t=t.trim();for(const n in pr)for(const r of pr[n])if(t.toLowerCase().startsWith(r.toLowerCase())){if(i.label=n,e)i.locator=t.substr(r.length).trim();else{i.suffix=t.substr(r.length).trim();const e=mr.exec(i.suffix);null!==e&&(i.locator=e[0],i.suffix=i.suffix.substr(e[0].length).trim())}return i}if(e)i.locator=t;else{const e=mr.exec(t);null!==e?(i.locator=e[0],i.suffix=t.substr(e[0].length).trim()):i.suffix=t}return i}function yr(t){const e=[];for(const i of t.matchAll(fr)){let t=i.index,n=t+i[0].length;const r=[];let s=!1;const o=i[1],a=i[2],l=i[3],c=i[4];if(void 0!==a&&t--,void 0!==o)for(const t of o.split(";")){const e=dr.exec(t.trim());if(null===e)continue;const i={id:e.groups.citekey.replace(/{(.+)}/,"$1"),prefix:void 0,locator:void 0,label:"page","suppress-author":!1,suffix:void 0},n=e.groups.prefix;void 0!==n&&(i["suppress-author"]=n.trim().endsWith("-"),i["suppress-author"]?i.prefix=n.substring(0,n.trim().length-1).trim():n.trim().endsWith(":")?i.type=n.trim().slice(0,-1):i.prefix=n.trim());const s=e.groups.explicitLocator,o=e.groups.explicitLocatorInSuffix,a=e.groups.suffix;let l,c=!0;void 0===s&&void 0===o?(l=a,c=!1):void 0===o&&void 0===s||(l=s??o,i.suffix=a?.trim());const{label:u,locator:h,suffix:p}=gr(l,c);i.locator=h,void 0!==u&&(i.label=u),void 0===s&&void 0===o?i.suffix=p:void 0!==p&&void 0!==i.locator&&(i.locator+=p),r.push(i)}else s=!0,r.push({prefix:void 0,id:l.replace(/{(.+)}/,"$1"),"suppress-author":void 0!==a,...gr(c,!1)});e.push({from:t,to:n,citations:r,composite:s,source:i[0]})}return e}const br=new RegExp(/[^\r\n]+((\r|\n|\r\n)[^\r\n]+)*/,"g");function _r(t){return t.match(br)||[]}class vr{static regexParagraph=new RegExp(/[^\r\n]+((\r|\n|\r\n)[^\r\n]+)*/,"g");static getBibliographicRecordsFromText(t){let e=[];return _r(t).forEach((t=>{yr(t).forEach((i=>{e.push({quotesExtract:{citationItems:i.citations,properties:{noteIndex:1}},text:i.source,contexts:[t],ids:new Set(i.citations.map((({id:t})=>t)))})}))})),e}static getBibliographicRecordsFromList(t=[]){return t.map(((t,e)=>({quotesExtract:{citationItems:[{prefix:"",suffix:"",id:t,label:"page",locator:"","suppress-author":!1}],properties:{noteIndex:e+1}},text:"",contexts:[],ids:new Set([t])})))}static getBibliographicFilesFromConfig(t){if(!1===t.canCiteproc())throw"You can not get bibliographic files from config witout register files paths in config";const{csl:e,bibliography:i,csl_locale:n}=t.opts;let r,s,o;try{r=JSON.parse(a().readFileSync(i,"utf-8")),s=a().readFileSync(e,"utf-8"),o=a().readFileSync(n,"utf-8")}catch(t){throw`You can not get bibliographic files from config because of file read error : ${t}`}return{bib:r,cslStyle:s,xmlLocal:o}}static getFormatedHtmlBibliographicRecord(t){return t.trim().slice(23,-6)}constructor(t={},e,i){this.library={},this.ids=new Set;for(const{id:e,...i}of Object.values(t))this.library[e]={id:e,...i},this.ids.add(e);this.cslStyle=e,this.xmlLocal=i,this.citeproc,this.cslStyle&&this.xmlLocal&&(this.citeproc=this.getCSL())}get(t){const e=[],i=Array.from(t.ids).filter((t=>!!this.ids.has(t)||(e.push(t),!1)));if(0===i.length)return{record:void 0,cluster:"",unknowedIds:e};for(const t of i)this.library[t].used=!0;this.citeproc.updateItems(i);let n=this.citeproc.makeBibliography()[1].map((t=>vr.getFormatedHtmlBibliographicRecord(t)));return t.quotesExtract.citationItems=[...t.quotesExtract.citationItems.filter((({id:t})=>this.ids.has(t)))],{record:n,cluster:this.citeproc.processCitationCluster(t.quotesExtract,[],[])[1][0][1],unknowedIds:e}}getCSL(){return new(hr().Engine)({retrieveLocale:()=>this.xmlLocal,retrieveItem:t=>this.library[t]},this.cslStyle)}}const wr=vr;class xr{static getDeepFormatedDataFromCsvLine({title:t,id:e,thumbnail:i,references:n=[],...r}){let s={},o={},a={},l={};for(const[t,e]of Object.entries(r)){const[i,n]=t.split(":",2);if("time"!==i)switch(i){case"content":s[n]=e;break;case"type":o[n]=e;break;case"tag":l[n]=e;break;default:n&&e&&(a[n]=e)}}return"string"==typeof n&&(n=n.split(",")),{id:e,title:t,content:s,type:o,metas:a,tags:l,references:n,time:{begin:r["time:begin"],end:r["time:end"]},thumbnail:i}}static getFormatedDataFromCsvLine({title:t,id:e,thumbnail:i,references:n=[],...r}){if(!t||"string"!=typeof t)throw"'title' is a required meta for a record";let s,o,a=[],l=[],c={},u=[];for(const[t,e]of Object.entries(r)){const[i,r]=t.split(":",2);switch(i){case"content":r?a.push([`<h3>${r}</h3>`,e]):a.push(e);break;case"type":e&&l.push(e);break;case"keyword":case"tag":e&&u.push(e);break;case"time":"begin"===r&&(s=e),"end"===r&&(o=e);break;case"reference":n=e.split(",");break;default:e&&(c[r||t]=e)}}return 0===l.length&&(l=["undefined"]),"string"==typeof n&&(n=n.split(",")),{id:e,title:t,content:a.map((t=>Array.isArray(t)?t.join("\n\n"):t)).join("\n\n"),types:l,metas:c,tags:u,references:n,begin:s,end:o,thumbnail:i}}static formatedDatasetToRecords(t,e,i){if(!i||i instanceof H==0)throw new Error("Need instance of Config to process");const n=t.map((({id:t,title:e,types:i})=>new cr(t,e,i)));return t.map((t=>{const{id:r,title:s,content:o,types:a,metas:l,tags:c,references:u,begin:h,end:p,thumbnail:f}=t,{linksReferences:d,backlinksReferences:m}=I.getReferencesFromLinks(r,e,n),g=wr.getBibliographicRecordsFromList(u);return new xr(r,s,a,c,l,o,d,m,h,p,g,f,i.opts)}))}static massSave(t,e,i,n){return new Promise(((r,s)=>{try{if("number"!=typeof e)throw new Error("The index for record mass save is invalid");const o=t.map((({title:t,type:r,tags:s,metas:o,content:a,begin:l,end:c,references:u=[],thumbnail:h})=>{e++;const p=new xr(xr.generateOutDailyId(e),t,r,s,o,a,void 0,void 0,l,c,wr.getBibliographicRecordsFromList(u),h,i);return!1===n&&(p.id=void 0,p.ymlFrontMatter=p.getYamlFrontMatter()),p}));Promise.all(o.map((t=>t.saveAsFile(!0)))).then((()=>r())).catch((()=>s("Some records throw error")))}catch(t){s(t)}}))}static getSlugFileName(t){return et(t)+".md"}static generateId(){return Q().join("")}static generateOutDailyId(t=0){const[e,i,n]=Q();t<0&&(t=0);const r=Number("246060")+t;if(r>Number("999999"))throw new j;return[e,i,n,r.toString()].join("")}static isTodayOutDailyId(t){return!!t&&t-xr.generateOutDailyId()>=0}static getDateFromId(t){const e=t.toString(),i=e.substring(0,4),n=e.substring(4,6),r=e.substring(6,8),s=e.substring(8,10),o=e.substring(10,12),a=e.substring(12,14);if(i&&n&&r&&s&&o&&a){const t=new Date(`${[i,n,r].join("-")} ${[s,o,a].join(":")}`);return isNaN(t)?void 0:t}}static verifReferenceArray(t){if(!1===Array.isArray(t))return!1;for(const e of t){if("object"!=typeof e)return!1;if("string"!=typeof e.context||"object"!=typeof e.source||"object"!=typeof e.target)return!1;if(!1===xr.verifDirectionArray(e.source)||!1===xr.verifDirectionArray(e.target))return!1}return!0}static verifDirectionArray(t){return!!(t.id&&t.title&&t.type)&&!isNaN(t.id)}constructor(t=xr.generateId(),e,i=["undefined"],n=[],r={},s="",o=[],a=[],l,c,u=[],h,p){this.id=t,this.title=e,this.types=i,this.tags=n,this.content=s,this.bibliographicRecords=u,this.bibliography=[],this.thumbnail=h,n&&(Array.isArray(n)?(n=n.filter((t=>!!t)),this.tags=0===n.length?[]:n):this.tags=n.split(",").filter((t=>""!==t)));const f=new H(p),d=f.getTypesRecords(),m=f.getTypesLinks(),g=f.getRecordMetas();if(this.types=this.types.map((t=>d.has(t)?t:(new C(this.id,this.title,"warning").aboutRecordTypeChange(this.title,t),"undefined"))),0===this.types.length?this.types=["undefined"]:this.types=Array.from(new Set(this.types)),r=Object.entries(r).filter((([t,e])=>!!g.has(t)||(new C(this.id,this.title,"warning").aboutIgnoredRecordMeta(this.title,t),!1))).filter((([t,e])=>null!=e||(new C(this.id,this.title,"warning").aboutNullRecordMeta(this.title,t),!1))),this.metas=Object.fromEntries(r),this.ymlFrontMatter=this.getYamlFrontMatter(),this.links=o,this.backlinks=a,this.begin,l){const t=tt(l);isNaN(t)?new C(this.id,this.title,"error").aboutInvalidRecordTimeBegin(this.title,l):this.begin=t}if(this.end,c){const t=tt(c);isNaN(t)?new C(this.id,this.title,"error").aboutInvalidRecordTimeEnd(this.title,c):this.end=t}this.links=this.links.map((t=>(m.has(t.type)||(new C(this.id,this.title,"warning").aboutLinkTypeChange(this.title,t.target.id,t.type),t.type="undefined"),t))),this.config=f,this.report=[],this.verif()}getYamlFrontMatter(){const t=this.bibliographicRecords.map((({ids:t})=>Array.from(t))).flat();return["---\n",E.stringify({title:this.title,id:this.id,types:this.types,tags:0===this.tags.length?void 0:this.tags,references:0===t.length?void 0:t,thumbnail:this.thumbnail,...this.metas}),"---\n\n"].join("")}setBibliography(t){if(!t||t instanceof wr==0)throw new Error("Need instance of Bibliography to process");const e=new Set;for(const i of this.bibliographicRecords){const{record:n,unknowedIds:r}=t.get(i);for(const t of r)new C(this.id,this.title,"error").aboutUnknownBibliographicReference(this.title,t);n&&n.forEach((t=>e.add(t)))}this.bibliography=Array.from(e)}saveAsFile(t=!1,e=this.title){return new Promise(((i,n)=>{try{if(!1===this.isValid())throw new kr(this.writeReport(),"report");if(!1===this.config.canSaveRecords())throw new kr("Directory for record save is unset","no dir");if(this.fileName=xr.getSlugFileName(e),this.path=w().join(this.config.opts.files_origin,this.fileName),!0===this.willOverwrite()&&!1===t)throw new kr(O.getFor(O.i.record.errors.overwriting),"overwriting");const n=this.ymlFrontMatter+this.content;a().writeFile(this.path,n,(t=>{if(t)throw new kr(t,"fs error");i()}))}catch(t){n(t)}}))}verif(){this.title||this.report.push("title")}isValid(){return 0===this.report.length}writeReport(){return this.report.map((t=>O.getFor(O.i.record.errors[t]))).join(", ")}willOverwrite(){return!!a().existsSync(this.path)}}class kr extends Error{constructor(t,e){super(t),this.name="Error Record",this.type=e}}const Er=xr;class Ar{static validParams=new Set(["sample","fake","empty"]);constructor(t=[],e={},i=[]){this.params=new Set(i.filter((t=>Ar.validParams.has(t)))),this.records=t,this.stats={linksExtent:nt(this.records,(t=>t.links.length)),backlinksExtent:nt(this.records,(t=>t.backlinks.length))},this.data={nodes:cr.getNodesFromRecords(this.records,this.stats),links:I.getLinksFromRecords(this.records)},this.config=new H(e),this.reportDuplicatedIds()}reportDuplicatedIds(){const t=new Set;let e;for(const{id:i,title:n}of this.records)t.has(i)&&new C(i,n,"error").aboutDuplicatedIds(i,n,e),t.add(i),e=n}getTimelineFromRecords(){let t=[];for(const{begin:e,end:i}of this.records)t.push(e,i);const[e,i]=nt(t);return{begin:e,end:i}}getTypesFromRecords(){const t=new Map;for(const{types:e,id:i}of this.records)for(const n of e)t.has(n)?t.get(n).add(i):t.set(n,new Set([i]));return t}getTagsFromRecords(){const t=new Map;for(const{tags:e,id:i}of this.records)for(const n of e)t.has(n)?t.get(n).add(i):t.set(n,new Set([i]));return t}getMetasFromRecords(){const t=new Map;for(const{metas:e}of this.records)for(const[i,n]of Object.entries(e))t.has(i)?t.get(i).add(n):t.set(i,new Set([n]));return t}getFolksonomyAsObjectOfArrays(){let t={tags:Object.fromEntries(this.getTagsFromRecords()),metas:Object.fromEntries(this.getMetasFromRecords())};return t=JSON.stringify(t,((t,e)=>e instanceof Set?Array.from(e):e)),JSON.parse(t)}}const Sr=Ar;var Or=r(8928);const Tr=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},Cr={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Nr=t=>t.replace(/[[\]\\-]/g,"\\$&"),Ir=t=>t.join(""),Lr=(t,e)=>{const i=e;if("["!==t.charAt(i))throw new Error("not in a brace expression");const n=[],r=[];let s=i+1,o=!1,a=!1,l=!1,c=!1,u=i,h="";t:for(;s<t.length;){const e=t.charAt(s);if("!"!==e&&"^"!==e||s!==i+1){if("]"===e&&o&&!l){u=s+1;break}if(o=!0,"\\"!==e||l){if("["===e&&!l)for(const[e,[o,l,c]]of Object.entries(Cr))if(t.startsWith(e,s)){if(h)return["$.",!1,t.length-i,!0];s+=e.length,c?r.push(o):n.push(o),a=a||l;continue t}l=!1,h?(e>h?n.push(Nr(h)+"-"+Nr(e)):e===h&&n.push(Nr(e)),h="",s++):t.startsWith("-]",s+1)?(n.push(Nr(e+"-")),s+=2):t.startsWith("-",s+1)?(h=e,s+=2):(n.push(Nr(e)),s++)}else l=!0,s++}else c=!0,s++}if(u<s)return["",!1,0,!1];if(!n.length&&!r.length)return["$.",!1,t.length-i,!0];if(0===r.length&&1===n.length&&/^\\?.$/.test(n[0])&&!c){return[(p=2===n[0].length?n[0].slice(-1):n[0],p.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,u-i,!1]}var p;const f="["+(c?"^":"")+Ir(n)+"]",d="["+(c?"":"^")+Ir(r)+"]";return[n.length&&r.length?"("+f+"|"+d+")":n.length?f:d,a,u-i,!0]},Rr=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Dr=new Set(["!","?","+","*","@"]),Mr=t=>Dr.has(t),Pr="(?!\\.)",Fr=new Set(["[","."]),jr=new Set(["..","."]),Br=new Set("().*{}+?[]^$\\!"),$r="[^/]",zr=$r+"*?",Ur=$r+"+?";class qr{type;#t;#e;#i=!1;#n=[];#r;#s;#o;#a=!1;#l;#c;#u=!1;constructor(t,e,i={}){this.type=t,t&&(this.#e=!0),this.#r=e,this.#t=this.#r?this.#r.#t:this,this.#l=this.#t===this?i:this.#t.#l,this.#o=this.#t===this?[]:this.#t.#o,"!"!==t||this.#t.#a||this.#o.push(this),this.#s=this.#r?this.#r.#n.length:0}get hasMagic(){if(void 0!==this.#e)return this.#e;for(const t of this.#n)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return void 0!==this.#c?this.#c:this.type?this.#c=this.type+"("+this.#n.map((t=>String(t))).join("|")+")":this.#c=this.#n.map((t=>String(t))).join("")}#h(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#o.pop();){if("!"!==t.type)continue;let e=t,i=e.#r;for(;i;){for(let n=e.#s+1;!i.type&&n<i.#n.length;n++)for(const e of t.#n){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(i.#n[n])}e=i,i=e.#r}}return this}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof qr&&e.#r===this))throw new Error("invalid part: "+e);this.#n.push(e)}}toJSON(){const t=null===this.type?this.#n.slice().map((t=>"string"==typeof t?t:t.toJSON())):[this.type,...this.#n.map((t=>t.toJSON()))];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&"!"===this.#r?.type)&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#r?.isStart())return!1;if(0===this.#s)return!0;const t=this.#r;for(let e=0;e<this.#s;e++){const i=t.#n[e];if(!(i instanceof qr&&"!"===i.type))return!1}return!0}isEnd(){if(this.#t===this)return!0;if("!"===this.#r?.type)return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();const t=this.#r?this.#r.#n.length:0;return this.#s===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new qr(this.type,t);for(const t of this.#n)e.copyIn(t);return e}static#p(t,e,i,n){let r=!1,s=!1,o=-1,a=!1;if(null===e.type){let l=i,c="";for(;l<t.length;){const i=t.charAt(l++);if(r||"\\"===i)r=!r,c+=i;else if(s)l===o+1?"^"!==i&&"!"!==i||(a=!0):"]"!==i||l===o+2&&a||(s=!1),c+=i;else if("["!==i)if(n.noext||!Mr(i)||"("!==t.charAt(l))c+=i;else{e.push(c),c="";const r=new qr(i,e);l=qr.#p(t,r,l,n),e.push(r)}else s=!0,o=l,a=!1,c+=i}return e.push(c),l}let l=i+1,c=new qr(null,e);const u=[];let h="";for(;l<t.length;){const i=t.charAt(l++);if(r||"\\"===i)r=!r,h+=i;else if(s)l===o+1?"^"!==i&&"!"!==i||(a=!0):"]"!==i||l===o+2&&a||(s=!1),h+=i;else if("["!==i)if(Mr(i)&&"("===t.charAt(l)){c.push(h),h="";const e=new qr(i,c);c.push(e),l=qr.#p(t,e,l,n)}else if("|"!==i){if(")"===i)return""===h&&0===e.#n.length&&(e.#u=!0),c.push(h),h="",e.push(...u,c),l;h+=i}else c.push(h),h="",u.push(c),c=new qr(null,e);else s=!0,o=l,a=!1,h+=i}return e.type=null,e.#e=void 0,e.#n=[t.substring(i-1)],l}static fromGlob(t,e={}){const i=new qr(null,void 0,e);return qr.#p(t,i,0,e),i}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,i,n,r]=this.toRegExpSource();if(!(n||this.#e||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return i;const s=(this.#l.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,s),{_src:e,_glob:t})}get options(){return this.#l}toRegExpSource(t){const e=t??!!this.#l.dot;if(this.#t===this&&this.#h(),!this.type){const i=this.isStart()&&this.isEnd(),n=this.#n.map((e=>{const[n,r,s,o]="string"==typeof e?qr.#f(e,this.#e,i):e.toRegExpSource(t);return this.#e=this.#e||s,this.#i=this.#i||o,n})).join("");let r="";if(this.isStart()&&"string"==typeof this.#n[0]&&(1!==this.#n.length||!jr.has(this.#n[0]))){const i=Fr,s=e&&i.has(n.charAt(0))||n.startsWith("\\.")&&i.has(n.charAt(2))||n.startsWith("\\.\\.")&&i.has(n.charAt(4)),o=!e&&!t&&i.has(n.charAt(0));r=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?Pr:""}let s="";return this.isEnd()&&this.#t.#a&&"!"===this.#r?.type&&(s="(?:$|\\/)"),[r+n+s,Rr(n),this.#e=!!this.#e,this.#i]}const i="*"===this.type||"+"===this.type,n="!"===this.type?"(?:(?!(?:":"(?:";let r=this.#d(e);if(this.isStart()&&this.isEnd()&&!r&&"!"!==this.type){const t=this.toString();return this.#n=[t],this.type=null,this.#e=void 0,[t,Rr(this.toString()),!1,!1]}let s=!i||t||e?"":this.#d(!0);s===r&&(s=""),s&&(r=`(?:${r})(?:${s})*?`);let o="";return o="!"===this.type&&this.#u?(this.isStart()&&!e?Pr:"")+Ur:n+r+("!"===this.type?"))"+(!this.isStart()||e||t?"":Pr)+zr+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`),[o,Rr(r),this.#e=!!this.#e,this.#i]}#d(t){return this.#n.map((e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[i,n,r,s]=e.toRegExpSource(t);return this.#i=this.#i||s,i})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")}static#f(t,e,i=!1){let n=!1,r="",s=!1;for(let o=0;o<t.length;o++){const a=t.charAt(o);if(n)n=!1,r+=(Br.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[i,n,a,l]=Lr(t,o);if(a){r+=i,s=s||n,o+=a-1,e=e||l;continue}}"*"!==a?"?"!==a?r+=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(r+=$r,e=!0):(r+=i&&"*"===t?Ur:zr,e=!0)}else o===t.length-1?r+="\\\\":n=!0}return[r,Rr(t),!!e,s]}}const Gr=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),Vr=(t,e,i={})=>(Tr(e),!(!i.nocomment&&"#"===e.charAt(0))&&new ys(e,i).match(t)),Hr=/^\*+([^+@!?\*\[\(]*)$/,Wr=t=>e=>!e.startsWith(".")&&e.endsWith(t),Kr=t=>e=>e.endsWith(t),Xr=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),Yr=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),Jr=/^\*+\.\*+$/,Zr=t=>!t.startsWith(".")&&t.includes("."),Qr=t=>"."!==t&&".."!==t&&t.includes("."),ts=/^\.\*+$/,es=t=>"."!==t&&".."!==t&&t.startsWith("."),is=/^\*+$/,ns=t=>0!==t.length&&!t.startsWith("."),rs=t=>0!==t.length&&"."!==t&&".."!==t,ss=/^\?+([^+@!?\*\[\(]*)?$/,os=([t,e=""])=>{const i=us([t]);return e?(e=e.toLowerCase(),t=>i(t)&&t.toLowerCase().endsWith(e)):i},as=([t,e=""])=>{const i=hs([t]);return e?(e=e.toLowerCase(),t=>i(t)&&t.toLowerCase().endsWith(e)):i},ls=([t,e=""])=>{const i=hs([t]);return e?t=>i(t)&&t.endsWith(e):i},cs=([t,e=""])=>{const i=us([t]);return e?t=>i(t)&&t.endsWith(e):i},us=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},hs=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},ps="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";Vr.sep="win32"===ps?"\\":"/";const fs=Symbol("globstar **");Vr.GLOBSTAR=fs,Vr.filter=(t,e={})=>i=>Vr(i,t,e);const ds=(t,e={})=>Object.assign({},t,e);Vr.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return Vr;const e=Vr;return Object.assign(((i,n,r={})=>e(i,n,ds(t,r))),{Minimatch:class extends e.Minimatch{constructor(e,i={}){super(e,ds(t,i))}static defaults(i){return e.defaults(ds(t,i)).Minimatch}},AST:class extends e.AST{constructor(e,i,n={}){super(e,i,ds(t,n))}static fromGlob(i,n={}){return e.AST.fromGlob(i,ds(t,n))}},unescape:(i,n={})=>e.unescape(i,ds(t,n)),escape:(i,n={})=>e.escape(i,ds(t,n)),filter:(i,n={})=>e.filter(i,ds(t,n)),defaults:i=>e.defaults(ds(t,i)),makeRe:(i,n={})=>e.makeRe(i,ds(t,n)),braceExpand:(i,n={})=>e.braceExpand(i,ds(t,n)),match:(i,n,r={})=>e.match(i,n,ds(t,r)),sep:e.sep,GLOBSTAR:fs})};const ms=(t,e={})=>(Tr(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Or(t));Vr.braceExpand=ms,Vr.makeRe=(t,e={})=>new ys(t,e).makeRe(),Vr.match=(t,e,i={})=>{const n=new ys(e,i);return t=t.filter((t=>n.match(t))),n.options.nonull&&!t.length&&t.push(e),t};const gs=/[?*]|[+@!]\(.*?\)|\[|\]/;class ys{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){Tr(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||ps,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const i=this.globSet.map((t=>this.slashSplit(t)));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let n=this.globParts.map(((t,e,i)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&gs.test(t[2])||gs.test(t[3])),i=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map((t=>this.parse(t)))];if(i)return[t[0],...t.slice(1).map((t=>this.parse(t)))]}return t.map((t=>this.parse(t)))}));if(this.debug(this.pattern,n),this.set=n.filter((t=>-1===t.indexOf(!1))),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let i=0;i<t[e].length;i++)"**"===t[e][i]&&(t[e][i]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map((t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let i=e;for(;"**"===t[i+1];)i++;i!==e&&t.splice(e,i-e)}return t}))}levelOneOptimize(t){return t.map((t=>(t=t.reduce(((t,e)=>{const i=t[t.length-1];return"**"===e&&"**"===i?t:".."===e&&i&&".."!==i&&"."!==i&&"**"!==i?(t.pop(),t):(t.push(e),t)}),[]),0===t.length?[""]:t)))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){const n=t[i];1===i&&""===n&&""===t[0]||"."!==n&&""!==n||(e=!0,t.splice(i,1),i--)}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let i=0;for(;-1!==(i=t.indexOf("..",i+1));){const n=t[i-1];n&&"."!==n&&".."!==n&&"**"!==n&&(e=!0,t.splice(i-1,2),i-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let i of t){let n=-1;for(;-1!==(n=i.indexOf("**",n+1));){let r=n;for(;"**"===i[r+1];)r++;r>n&&i.splice(n+1,r-n);let s=i[n+1];const o=i[n+2],a=i[n+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,i.splice(n,1);const l=i.slice(0);l[n]="**",t.push(l),n--}if(!this.preserveMultipleSlashes){for(let t=1;t<i.length-1;t++){const n=i[t];1===t&&""===n&&""===i[0]||"."!==n&&""!==n||(e=!0,i.splice(t,1),t--)}"."!==i[0]||2!==i.length||"."!==i[1]&&""!==i[1]||(e=!0,i.pop())}let r=0;for(;-1!==(r=i.indexOf("..",r+1));){const t=i[r-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===r&&"**"===i[r+1]?["."]:[];i.splice(r-1,2,...t),0===i.length&&i.push(""),r-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let i=e+1;i<t.length;i++){const n=this.partsMatch(t[e],t[i],!this.preserveMultipleSlashes);n&&(t[e]=n,t[i]=[])}return t.filter((t=>t.length))}partsMatch(t,e,i=!1){let n=0,r=0,s=[],o="";for(;n<t.length&&r<e.length;)if(t[n]===e[r])s.push("b"===o?e[r]:t[n]),n++,r++;else if(i&&"**"===t[n]&&e[r]===t[n+1])s.push(t[n]),n++;else if(i&&"**"===e[r]&&t[n]===e[r+1])s.push(e[r]),r++;else if("*"!==t[n]||!e[r]||!this.options.dot&&e[r].startsWith(".")||"**"===e[r]){if("*"!==e[r]||!t[n]||!this.options.dot&&t[n].startsWith(".")||"**"===t[n])return!1;if("a"===o)return!1;o="b",s.push(e[r]),n++,r++}else{if("b"===o)return!1;o="a",s.push(t[n]),n++,r++}return t.length===e.length&&s}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,i=0;for(let n=0;n<t.length&&"!"===t.charAt(n);n++)e=!e,i++;i&&(this.pattern=t.slice(i)),this.negate=e}matchOne(t,e,i=!1){const n=this.options;if(this.isWindows){const i="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),n=!i&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),r="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),s=n?3:i?0:void 0,o=!r&&""===e[0]&&""===e[1]&&"?"===e[2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])?3:r?0:void 0;if("number"==typeof s&&"number"==typeof o){const[i,n]=[t[s],e[o]];i.toLowerCase()===n.toLowerCase()&&(e[o]=i,o>s?e=e.slice(o):s>o&&(t=t.slice(s)))}}const{optimizationLevel:r=1}=this.options;r>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,l=e.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=e[o],u=t[s];if(this.debug(e,c,u),!1===c)return!1;if(c===fs){this.debug("GLOBSTAR",[e,c,u]);var h=s,p=o+1;if(p===l){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!n.dot&&"."===t[s].charAt(0))return!1;return!0}for(;h<a;){var f=t[h];if(this.debug("\nglobstar while",t,h,e,p,f),this.matchOne(t.slice(h),e.slice(p),i))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,h,e,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!i||(this.debug("\n>>> no match, partial?",t,h,e,p),h!==a))}let r;if("string"==typeof c?(r=u===c,this.debug("string match",c,u,r)):(r=c.test(u),this.debug("pattern match",c,u,r)),!r)return!1}if(s===a&&o===l)return!0;if(s===a)return i;if(o===l)return s===a-1&&""===t[s];throw new Error("wtf?")}braceExpand(){return ms(this.pattern,this.options)}parse(t){Tr(t);const e=this.options;if("**"===t)return fs;if(""===t)return"";let i,n=null;(i=t.match(is))?n=e.dot?rs:ns:(i=t.match(Hr))?n=(e.nocase?e.dot?Yr:Xr:e.dot?Kr:Wr)(i[1]):(i=t.match(ss))?n=(e.nocase?e.dot?as:os:e.dot?ls:cs)(i):(i=t.match(Jr))?n=e.dot?Qr:Zr:(i=t.match(ts))&&(n=es);const r=qr.fromGlob(t,this.options).toMMPattern();return n&&"object"==typeof r&&Reflect.defineProperty(r,"test",{value:n}),r}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,i=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=new Set(e.nocase?["i"]:[]);let r=t.map((t=>{const e=t.map((t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))n.add(e);return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===fs?fs:t._src}));return e.forEach(((t,n)=>{const r=e[n+1],s=e[n-1];t===fs&&s!==fs&&(void 0===s?void 0!==r&&r!==fs?e[n+1]="(?:\\/|"+i+"\\/)?"+r:e[n]=i:void 0===r?e[n-1]=s+"(?:\\/|"+i+")?":r!==fs&&(e[n-1]=s+"(?:\\/|\\/"+i+"\\/)"+r,e[n+1]=fs))})),e.filter((t=>t!==fs)).join("/")})).join("|");const[s,o]=t.length>1?["(?:",")"]:["",""];r="^"+s+r+o+"$",this.negate&&(r="^(?!"+r+").+$");try{this.regexp=new RegExp(r,[...n].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const i=this.options;this.isWindows&&(t=t.split("\\").join("/"));const n=this.slashSplit(t);this.debug(this.pattern,"split",n);const r=this.set;this.debug(this.pattern,"set",r);let s=n[n.length-1];if(!s)for(let t=n.length-2;!s&&t>=0;t--)s=n[t];for(let t=0;t<r.length;t++){const o=r[t];let a=n;if(i.matchBase&&1===o.length&&(a=[s]),this.matchOne(a,o,e))return!!i.flipNegate||!this.negate}return!i.flipNegate&&this.negate}static defaults(t){return Vr.defaults(t).Minimatch}}Vr.AST=qr,Vr.Minimatch=ys,Vr.escape=Gr,Vr.unescape=Rr;const bs=require("node:url"),_s="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,vs=new Set,ws="object"==typeof process&&process?process:{},xs=(t,e,i,n)=>{"function"==typeof ws.emitWarning?ws.emitWarning(t,e,i,n):console.error(`[${i}] ${e}: ${t}`)};let ks=globalThis.AbortController,Es=globalThis.AbortSignal;if(void 0===ks){Es=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},ks=class{constructor(){e()}signal=new Es;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==ws.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,xs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}Symbol("type");const As=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Ss=t=>As(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Os:null:null;class Os extends Array{constructor(t){super(t),this.fill(0)}}class Ts{heap;length;static#m=!1;static create(t){const e=Ss(t);if(!e)return[];Ts.#m=!0;const i=new Ts(t,e);return Ts.#m=!1,i}constructor(t,e){if(!Ts.#m)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class Cs{#g;#y;#b;#_;#v;#w;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#x;#k;#E;#A;#S;#O;#T;#C;#N;#I;#L;#R;#D;#M;#P;#F;#j;static unsafeExposeInternals(t){return{starts:t.#D,ttls:t.#M,sizes:t.#R,keyMap:t.#E,keyList:t.#A,valList:t.#S,next:t.#O,prev:t.#T,get head(){return t.#C},get tail(){return t.#N},free:t.#I,isBackgroundFetch:e=>t.#B(e),backgroundFetch:(e,i,n,r)=>t.#$(e,i,n,r),moveToTail:e=>t.#z(e),indexes:e=>t.#U(e),rindexes:e=>t.#q(e),isStale:e=>t.#G(e)}}get max(){return this.#g}get maxSize(){return this.#y}get calculatedSize(){return this.#k}get size(){return this.#x}get fetchMethod(){return this.#v}get memoMethod(){return this.#w}get dispose(){return this.#b}get disposeAfter(){return this.#_}constructor(t){const{max:e=0,ttl:i,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:s,updateAgeOnHas:o,allowStale:a,dispose:l,disposeAfter:c,noDisposeOnSet:u,noUpdateTTL:h,maxSize:p=0,maxEntrySize:f=0,sizeCalculation:d,fetchMethod:m,memoMethod:g,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:v,ignoreFetchAbort:w}=t;if(0!==e&&!As(e))throw new TypeError("max option must be a nonnegative integer");const x=e?Ss(e):Array;if(!x)throw new Error("invalid max value: "+e);if(this.#g=e,this.#y=p,this.maxEntrySize=f||this.#y,this.sizeCalculation=d,this.sizeCalculation){if(!this.#y&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==g&&"function"!=typeof g)throw new TypeError("memoMethod must be a function if defined");if(this.#w=g,void 0!==m&&"function"!=typeof m)throw new TypeError("fetchMethod must be a function if specified");if(this.#v=m,this.#F=!!m,this.#E=new Map,this.#A=new Array(e).fill(void 0),this.#S=new Array(e).fill(void 0),this.#O=new x(e),this.#T=new x(e),this.#C=0,this.#N=0,this.#I=Ts.create(e),this.#x=0,this.#k=0,"function"==typeof l&&(this.#b=l),"function"==typeof c?(this.#_=c,this.#L=[]):(this.#_=void 0,this.#L=void 0),this.#P=!!this.#b,this.#j=!!this.#_,this.noDisposeOnSet=!!u,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!_,this.allowStaleOnFetchAbort=!!v,this.ignoreFetchAbort=!!w,0!==this.maxEntrySize){if(0!==this.#y&&!As(this.#y))throw new TypeError("maxSize must be a positive integer if specified");if(!As(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#V()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!o,this.ttlResolution=As(n)||0===n?n:1,this.ttlAutopurge=!!r,this.ttl=i||0,this.ttl){if(!As(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#H()}if(0===this.#g&&0===this.ttl&&0===this.#y)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#g&&!this.#y){const t="LRU_CACHE_UNBOUNDED";(t=>!vs.has(t))(t)&&(vs.add(t),xs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,Cs))}}getRemainingTTL(t){return this.#E.has(t)?1/0:0}#H(){const t=new Os(this.#g),e=new Os(this.#g);this.#M=t,this.#D=e,this.#W=(i,n,r=_s.now())=>{if(e[i]=0!==n?r:0,t[i]=n,0!==n&&this.ttlAutopurge){const t=setTimeout((()=>{this.#G(i)&&this.#K(this.#A[i],"expire")}),n+1);t.unref&&t.unref()}},this.#X=i=>{e[i]=0!==t[i]?_s.now():0},this.#Y=(r,s)=>{if(t[s]){const o=t[s],a=e[s];if(!o||!a)return;r.ttl=o,r.start=a,r.now=i||n();const l=r.now-a;r.remainingTTL=o-l}};let i=0;const n=()=>{const t=_s.now();if(this.ttlResolution>0){i=t;const e=setTimeout((()=>i=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=r=>{const s=this.#E.get(r);if(void 0===s)return 0;const o=t[s],a=e[s];return o&&a?o-((i||n())-a):1/0},this.#G=r=>{const s=e[r],o=t[r];return!!o&&!!s&&(i||n())-s>o}}#X=()=>{};#Y=()=>{};#W=()=>{};#G=()=>!1;#V(){const t=new Os(this.#g);this.#k=0,this.#R=t,this.#J=e=>{this.#k-=t[e],t[e]=0},this.#Z=(t,e,i,n)=>{if(this.#B(e))return 0;if(!As(i)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(i=n(e,t),!As(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return i},this.#Q=(e,i,n)=>{if(t[e]=i,this.#y){const i=this.#y-t[e];for(;this.#k>i;)this.#tt(!0)}this.#k+=t[e],n&&(n.entrySize=i,n.totalCalculatedSize=this.#k)}}#J=t=>{};#Q=(t,e,i)=>{};#Z=(t,e,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#U({allowStale:t=this.allowStale}={}){if(this.#x)for(let e=this.#N;this.#et(e)&&(!t&&this.#G(e)||(yield e),e!==this.#C);)e=this.#T[e]}*#q({allowStale:t=this.allowStale}={}){if(this.#x)for(let e=this.#C;this.#et(e)&&(!t&&this.#G(e)||(yield e),e!==this.#N);)e=this.#O[e]}#et(t){return void 0!==t&&this.#E.get(this.#A[t])===t}*entries(){for(const t of this.#U())void 0===this.#S[t]||void 0===this.#A[t]||this.#B(this.#S[t])||(yield[this.#A[t],this.#S[t]])}*rentries(){for(const t of this.#q())void 0===this.#S[t]||void 0===this.#A[t]||this.#B(this.#S[t])||(yield[this.#A[t],this.#S[t]])}*keys(){for(const t of this.#U()){const e=this.#A[t];void 0===e||this.#B(this.#S[t])||(yield e)}}*rkeys(){for(const t of this.#q()){const e=this.#A[t];void 0===e||this.#B(this.#S[t])||(yield e)}}*values(){for(const t of this.#U())void 0===this.#S[t]||this.#B(this.#S[t])||(yield this.#S[t])}*rvalues(){for(const t of this.#q())void 0===this.#S[t]||this.#B(this.#S[t])||(yield this.#S[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const i of this.#U()){const n=this.#S[i],r=this.#B(n)?n.__staleWhileFetching:n;if(void 0!==r&&t(r,this.#A[i],this))return this.get(this.#A[i],e)}}forEach(t,e=this){for(const i of this.#U()){const n=this.#S[i],r=this.#B(n)?n.__staleWhileFetching:n;void 0!==r&&t.call(e,r,this.#A[i],this)}}rforEach(t,e=this){for(const i of this.#q()){const n=this.#S[i],r=this.#B(n)?n.__staleWhileFetching:n;void 0!==r&&t.call(e,r,this.#A[i],this)}}purgeStale(){let t=!1;for(const e of this.#q({allowStale:!0}))this.#G(e)&&(this.#K(this.#A[e],"expire"),t=!0);return t}info(t){const e=this.#E.get(t);if(void 0===e)return;const i=this.#S[e],n=this.#B(i)?i.__staleWhileFetching:i;if(void 0===n)return;const r={value:n};if(this.#M&&this.#D){const t=this.#M[e],i=this.#D[e];if(t&&i){const e=t-(_s.now()-i);r.ttl=e,r.start=Date.now()}}return this.#R&&(r.size=this.#R[e]),r}dump(){const t=[];for(const e of this.#U({allowStale:!0})){const i=this.#A[e],n=this.#S[e],r=this.#B(n)?n.__staleWhileFetching:n;if(void 0===r||void 0===i)continue;const s={value:r};if(this.#M&&this.#D){s.ttl=this.#M[e];const t=_s.now()-this.#D[e];s.start=Math.floor(Date.now()-t)}this.#R&&(s.size=this.#R[e]),t.unshift([i,s])}return t}load(t){this.clear();for(const[e,i]of t){if(i.start){const t=Date.now()-i.start;i.start=_s.now()-t}this.set(e,i.value,i)}}set(t,e,i={}){if(void 0===e)return this.delete(t),this;const{ttl:n=this.ttl,start:r,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=i;let{noUpdateTTL:l=this.noUpdateTTL}=i;const c=this.#Z(t,e,i.size||0,o);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#K(t,"set"),this;let u=0===this.#x?void 0:this.#E.get(t);if(void 0===u)u=0===this.#x?this.#N:0!==this.#I.length?this.#I.pop():this.#x===this.#g?this.#tt(!1):this.#x,this.#A[u]=t,this.#S[u]=e,this.#E.set(t,u),this.#O[this.#N]=u,this.#T[u]=this.#N,this.#N=u,this.#x++,this.#Q(u,c,a),a&&(a.set="add"),l=!1;else{this.#z(u);const i=this.#S[u];if(e!==i){if(this.#F&&this.#B(i)){i.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=i;void 0===e||s||(this.#P&&this.#b?.(e,t,"set"),this.#j&&this.#L?.push([e,t,"set"]))}else s||(this.#P&&this.#b?.(i,t,"set"),this.#j&&this.#L?.push([i,t,"set"]));if(this.#J(u),this.#Q(u,c,a),this.#S[u]=e,a){a.set="replace";const t=i&&this.#B(i)?i.__staleWhileFetching:i;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===n||this.#M||this.#H(),this.#M&&(l||this.#W(u,n,r),a&&this.#Y(a,u)),!s&&this.#j&&this.#L){const t=this.#L;let e;for(;e=t?.shift();)this.#_?.(...e)}return this}pop(){try{for(;this.#x;){const t=this.#S[this.#C];if(this.#tt(!0),this.#B(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#j&&this.#L){const t=this.#L;let e;for(;e=t?.shift();)this.#_?.(...e)}}}#tt(t){const e=this.#C,i=this.#A[e],n=this.#S[e];return this.#F&&this.#B(n)?n.__abortController.abort(new Error("evicted")):(this.#P||this.#j)&&(this.#P&&this.#b?.(n,i,"evict"),this.#j&&this.#L?.push([n,i,"evict"])),this.#J(e),t&&(this.#A[e]=void 0,this.#S[e]=void 0,this.#I.push(e)),1===this.#x?(this.#C=this.#N=0,this.#I.length=0):this.#C=this.#O[e],this.#E.delete(i),this.#x--,e}has(t,e={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=e,r=this.#E.get(t);if(void 0!==r){const t=this.#S[r];if(this.#B(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#G(r))return i&&this.#X(r),n&&(n.has="hit",this.#Y(n,r)),!0;n&&(n.has="stale",this.#Y(n,r))}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:i=this.allowStale}=e,n=this.#E.get(t);if(void 0===n||!i&&this.#G(n))return;const r=this.#S[n];return this.#B(r)?r.__staleWhileFetching:r}#$(t,e,i,n){const r=void 0===e?void 0:this.#S[e];if(this.#B(r))return r;const s=new ks,{signal:o}=i;o?.addEventListener("abort",(()=>s.abort(o.reason)),{signal:s.signal});const a={signal:s.signal,options:i,context:n},l=(n,r=!1)=>{const{aborted:o}=s.signal,l=i.ignoreFetchAbort&&void 0!==n;if(i.status&&(o&&!r?(i.status.fetchAborted=!0,i.status.fetchError=s.signal.reason,l&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),o&&!l&&!r)return c(s.signal.reason);const h=u;return this.#S[e]===u&&(void 0===n?h.__staleWhileFetching?this.#S[e]=h.__staleWhileFetching:this.#K(t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,n,a.options))),n},c=n=>{const{aborted:r}=s.signal,o=r&&i.allowStaleOnFetchAbort,a=o||i.allowStaleOnFetchRejection,l=a||i.noDeleteOnFetchRejection,c=u;if(this.#S[e]===u&&(l&&void 0!==c.__staleWhileFetching?o||(this.#S[e]=c.__staleWhileFetching):this.#K(t,"fetch")),a)return i.status&&void 0!==c.__staleWhileFetching&&(i.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw n};i.status&&(i.status.fetchDispatched=!0);const u=new Promise(((e,n)=>{const o=this.#v?.(t,r,a);o&&o instanceof Promise&&o.then((t=>e(void 0===t?void 0:t)),n),s.signal.addEventListener("abort",(()=>{i.ignoreFetchAbort&&!i.allowStaleOnFetchAbort||(e(void 0),i.allowStaleOnFetchAbort&&(e=t=>l(t,!0)))}))})).then(l,(t=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=t),c(t)))),h=Object.assign(u,{__abortController:s,__staleWhileFetching:r,__returned:void 0});return void 0===e?(this.set(t,h,{...a.options,status:void 0}),e=this.#E.get(t)):this.#S[e]=h,h}#B(t){if(!this.#F)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ks}async fetch(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:d,forceRefresh:m=!1,status:g,signal:y}=e;if(!this.#F)return g&&(g.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:g});const b={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:f,ignoreFetchAbort:p,status:g,signal:y};let _=this.#E.get(t);if(void 0===_){g&&(g.fetch="miss");const e=this.#$(t,_,b,d);return e.__returned=e}{const e=this.#S[_];if(this.#B(e)){const t=i&&void 0!==e.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const r=this.#G(_);if(!m&&!r)return g&&(g.fetch="hit"),this.#z(_),n&&this.#X(_),g&&this.#Y(g,_),e;const s=this.#$(t,_,b,d),o=void 0!==s.__staleWhileFetching&&i;return g&&(g.fetch=r?"stale":"refresh",o&&r&&(g.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}async forceFetch(t,e={}){const i=await this.fetch(t,e);if(void 0===i)throw new Error("fetch() returned undefined");return i}memo(t,e={}){const i=this.#w;if(!i)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:r,...s}=e,o=this.get(t,s);if(!r&&void 0!==o)return o;const a=i(t,o,{options:s,context:n});return this.set(t,a,s),a}get(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:s}=e,o=this.#E.get(t);if(void 0!==o){const e=this.#S[o],a=this.#B(e);return s&&this.#Y(s,o),this.#G(o)?(s&&(s.get="stale"),a?(s&&i&&void 0!==e.__staleWhileFetching&&(s.returnedStale=!0),i?e.__staleWhileFetching:void 0):(r||this.#K(t,"expire"),s&&i&&(s.returnedStale=!0),i?e:void 0)):(s&&(s.get="hit"),a?e.__staleWhileFetching:(this.#z(o),n&&this.#X(o),e))}s&&(s.get="miss")}#it(t,e){this.#T[e]=t,this.#O[t]=e}#z(t){t!==this.#N&&(t===this.#C?this.#C=this.#O[t]:this.#it(this.#T[t],this.#O[t]),this.#it(this.#N,t),this.#N=t)}delete(t){return this.#K(t,"delete")}#K(t,e){let i=!1;if(0!==this.#x){const n=this.#E.get(t);if(void 0!==n)if(i=!0,1===this.#x)this.#nt(e);else{this.#J(n);const i=this.#S[n];if(this.#B(i)?i.__abortController.abort(new Error("deleted")):(this.#P||this.#j)&&(this.#P&&this.#b?.(i,t,e),this.#j&&this.#L?.push([i,t,e])),this.#E.delete(t),this.#A[n]=void 0,this.#S[n]=void 0,n===this.#N)this.#N=this.#T[n];else if(n===this.#C)this.#C=this.#O[n];else{const t=this.#T[n];this.#O[t]=this.#O[n];const e=this.#O[n];this.#T[e]=this.#T[n]}this.#x--,this.#I.push(n)}}if(this.#j&&this.#L?.length){const t=this.#L;let e;for(;e=t?.shift();)this.#_?.(...e)}return i}clear(){return this.#nt("delete")}#nt(t){for(const e of this.#q({allowStale:!0})){const i=this.#S[e];if(this.#B(i))i.__abortController.abort(new Error("deleted"));else{const n=this.#A[e];this.#P&&this.#b?.(i,n,t),this.#j&&this.#L?.push([i,n,t])}}if(this.#E.clear(),this.#S.fill(void 0),this.#A.fill(void 0),this.#M&&this.#D&&(this.#M.fill(0),this.#D.fill(0)),this.#R&&this.#R.fill(0),this.#C=0,this.#N=0,this.#I.length=0,this.#k=0,this.#x=0,this.#j&&this.#L){const t=this.#L;let e;for(;e=t?.shift();)this.#_?.(...e)}}}var Ns=r(9896);const Is=require("node:fs/promises"),Ls=require("node:events"),Rs=require("node:stream"),Ds=require("node:string_decoder"),Ms="object"==typeof process&&process?process:{stdout:null,stderr:null},Ps=t=>!!t&&"object"==typeof t&&(t instanceof wo||t instanceof Rs||Fs(t)||js(t)),Fs=t=>!!t&&"object"==typeof t&&t instanceof Ls.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==Rs.Writable.prototype.pipe,js=t=>!!t&&"object"==typeof t&&t instanceof Ls.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end,Bs=Symbol("EOF"),$s=Symbol("maybeEmitEnd"),zs=Symbol("emittedEnd"),Us=Symbol("emittingEnd"),qs=Symbol("emittedError"),Gs=Symbol("closed"),Vs=Symbol("read"),Hs=Symbol("flush"),Ws=Symbol("flushChunk"),Ks=Symbol("encoding"),Xs=Symbol("decoder"),Ys=Symbol("flowing"),Js=Symbol("paused"),Zs=Symbol("resume"),Qs=Symbol("buffer"),to=Symbol("pipes"),eo=Symbol("bufferLength"),io=Symbol("bufferPush"),no=Symbol("bufferShift"),ro=Symbol("objectMode"),so=Symbol("destroyed"),oo=Symbol("error"),ao=Symbol("emitData"),lo=Symbol("emitEnd"),co=Symbol("emitEnd2"),uo=Symbol("async"),ho=Symbol("abort"),po=Symbol("aborted"),fo=Symbol("signal"),mo=Symbol("dataListeners"),go=Symbol("discarded"),yo=t=>Promise.resolve().then(t),bo=t=>t();class _o{src;dest;opts;ondrain;constructor(t,e,i){this.src=t,this.dest=e,this.opts=i,this.ondrain=()=>t[Zs](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class vo extends _o{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,i){super(t,e,i),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class wo extends Ls.EventEmitter{[Ys]=!1;[Js]=!1;[to]=[];[Qs]=[];[ro];[Ks];[uo];[Xs];[Bs]=!1;[zs]=!1;[Us]=!1;[Gs]=!1;[qs]=null;[eo]=0;[so]=!1;[fo];[po]=!1;[mo]=0;[go]=!1;writable=!0;readable=!0;constructor(...t){const e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");var i;e.objectMode?(this[ro]=!0,this[Ks]=null):!(i=e).objectMode&&i.encoding&&"buffer"!==i.encoding?(this[Ks]=e.encoding,this[ro]=!1):(this[ro]=!1,this[Ks]=null),this[uo]=!!e.async,this[Xs]=this[Ks]?new Ds.StringDecoder(this[Ks]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[Qs]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[to]});const{signal:n}=e;n&&(this[fo]=n,n.aborted?this[ho]():n.addEventListener("abort",(()=>this[ho]())))}get bufferLength(){return this[eo]}get encoding(){return this[Ks]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[ro]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[uo]}set async(t){this[uo]=this[uo]||!!t}[ho](){this[po]=!0,this.emit("abort",this[fo]?.reason),this.destroy(this[fo]?.reason)}get aborted(){return this[po]}set aborted(t){}write(t,e,i){if(this[po])return!1;if(this[Bs])throw new Error("write after end");if(this[so])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(i=e,e="utf8"),e||(e="utf8");const n=this[uo]?yo:bo;if(!this[ro]&&!Buffer.isBuffer(t))if(r=t,!Buffer.isBuffer(r)&&ArrayBuffer.isView(r))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var r;return this[ro]?(this[Ys]&&0!==this[eo]&&this[Hs](!0),this[Ys]?this.emit("data",t):this[io](t),0!==this[eo]&&this.emit("readable"),i&&n(i),this[Ys]):t.length?("string"!=typeof t||e===this[Ks]&&!this[Xs]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Ks]&&(t=this[Xs].write(t)),this[Ys]&&0!==this[eo]&&this[Hs](!0),this[Ys]?this.emit("data",t):this[io](t),0!==this[eo]&&this.emit("readable"),i&&n(i),this[Ys]):(0!==this[eo]&&this.emit("readable"),i&&n(i),this[Ys])}read(t){if(this[so])return null;if(this[go]=!1,0===this[eo]||0===t||t&&t>this[eo])return this[$s](),null;this[ro]&&(t=null),this[Qs].length>1&&!this[ro]&&(this[Qs]=[this[Ks]?this[Qs].join(""):Buffer.concat(this[Qs],this[eo])]);const e=this[Vs](t||null,this[Qs][0]);return this[$s](),e}[Vs](t,e){if(this[ro])this[no]();else{const i=e;t===i.length||null===t?this[no]():"string"==typeof i?(this[Qs][0]=i.slice(t),e=i.slice(0,t),this[eo]-=t):(this[Qs][0]=i.subarray(t),e=i.subarray(0,t),this[eo]-=t)}return this.emit("data",e),this[Qs].length||this[Bs]||this.emit("drain"),e}end(t,e,i){return"function"==typeof t&&(i=t,t=void 0),"function"==typeof e&&(i=e,e="utf8"),void 0!==t&&this.write(t,e),i&&this.once("end",i),this[Bs]=!0,this.writable=!1,!this[Ys]&&this[Js]||this[$s](),this}[Zs](){this[so]||(this[mo]||this[to].length||(this[go]=!0),this[Js]=!1,this[Ys]=!0,this.emit("resume"),this[Qs].length?this[Hs]():this[Bs]?this[$s]():this.emit("drain"))}resume(){return this[Zs]()}pause(){this[Ys]=!1,this[Js]=!0,this[go]=!1}get destroyed(){return this[so]}get flowing(){return this[Ys]}get paused(){return this[Js]}[io](t){this[ro]?this[eo]+=1:this[eo]+=t.length,this[Qs].push(t)}[no](){return this[ro]?this[eo]-=1:this[eo]-=this[Qs][0].length,this[Qs].shift()}[Hs](t=!1){do{}while(this[Ws](this[no]())&&this[Qs].length);t||this[Qs].length||this[Bs]||this.emit("drain")}[Ws](t){return this.emit("data",t),this[Ys]}pipe(t,e){if(this[so])return t;this[go]=!1;const i=this[zs];return e=e||{},t===Ms.stdout||t===Ms.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,i?e.end&&t.end():(this[to].push(e.proxyErrors?new vo(this,t,e):new _o(this,t,e)),this[uo]?yo((()=>this[Zs]())):this[Zs]()),t}unpipe(t){const e=this[to].find((e=>e.dest===t));e&&(1===this[to].length?(this[Ys]&&0===this[mo]&&(this[Ys]=!1),this[to]=[]):this[to].splice(this[to].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const i=super.on(t,e);if("data"===t)this[go]=!1,this[mo]++,this[to].length||this[Ys]||this[Zs]();else if("readable"===t&&0!==this[eo])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[zs])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[qs]){const t=e;this[uo]?yo((()=>t.call(this,this[qs]))):t.call(this,this[qs])}return i}removeListener(t,e){return this.off(t,e)}off(t,e){const i=super.off(t,e);return"data"===t&&(this[mo]=this.listeners("data").length,0!==this[mo]||this[go]||this[to].length||(this[Ys]=!1)),i}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[mo]=0,this[go]||this[to].length||(this[Ys]=!1)),e}get emittedEnd(){return this[zs]}[$s](){this[Us]||this[zs]||this[so]||0!==this[Qs].length||!this[Bs]||(this[Us]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Gs]&&this.emit("close"),this[Us]=!1)}emit(t,...e){const i=e[0];if("error"!==t&&"close"!==t&&t!==so&&this[so])return!1;if("data"===t)return!(!this[ro]&&!i)&&(this[uo]?(yo((()=>this[ao](i))),!0):this[ao](i));if("end"===t)return this[lo]();if("close"===t){if(this[Gs]=!0,!this[zs]&&!this[so])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[qs]=i,super.emit(oo,i);const t=!(this[fo]&&!this.listeners("error").length)&&super.emit("error",i);return this[$s](),t}if("resume"===t){const t=super.emit("resume");return this[$s](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const n=super.emit(t,...e);return this[$s](),n}[ao](t){for(const e of this[to])!1===e.dest.write(t)&&this.pause();const e=!this[go]&&super.emit("data",t);return this[$s](),e}[lo](){return!this[zs]&&(this[zs]=!0,this.readable=!1,this[uo]?(yo((()=>this[co]())),!0):this[co]())}[co](){if(this[Xs]){const t=this[Xs].end();if(t){for(const e of this[to])e.dest.write(t);this[go]||super.emit("data",t)}}for(const t of this[to])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[ro]||(t.dataLength=0);const e=this.promise();return this.on("data",(e=>{t.push(e),this[ro]||(t.dataLength+=e.length)})),await e,t}async concat(){if(this[ro])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[Ks]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise(((t,e)=>{this.on(so,(()=>e(new Error("stream destroyed")))),this.on("error",(t=>e(t))),this.on("end",(()=>t()))}))}[Symbol.asyncIterator](){this[go]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const i=this.read();if(null!==i)return Promise.resolve({done:!1,value:i});if(this[Bs])return e();let n,r;const s=t=>{this.off("data",o),this.off("end",a),this.off(so,l),e(),r(t)},o=t=>{this.off("error",s),this.off("end",a),this.off(so,l),this.pause(),n({value:t,done:!!this[Bs]})},a=()=>{this.off("error",s),this.off("data",o),this.off(so,l),e(),n({done:!0,value:void 0})},l=()=>s(new Error("stream destroyed"));return new Promise(((t,e)=>{r=e,n=t,this.once(so,l),this.once("error",s),this.once("end",a),this.once("data",o)}))},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[go]=!1;let t=!1;const e=()=>(this.pause(),this.off(oo,e),this.off(so,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(oo,e),this.once(so,e),{next:()=>{if(t)return e();const i=this.read();return null===i?e():{done:!1,value:i}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){return this[so]?(t?this.emit("error",t):this.emit(so),this):(this[so]=!0,this[go]=!0,this[Qs].length=0,this[eo]=0,"function"!=typeof this.close||this[Gs]||this.close(),t?this.emit("error",t):this.emit(so),this)}static get isStream(){return Ps}}const xo=Ns.realpathSync.native,ko={lstatSync:Ns.lstatSync,readdir:Ns.readdir,readdirSync:Ns.readdirSync,readlinkSync:Ns.readlinkSync,realpathSync:xo,promises:{lstat:Is.lstat,readdir:Is.readdir,readlink:Is.readlink,realpath:Is.realpath}},Eo=t=>t&&t!==ko&&t!==o?{...ko,...t,promises:{...ko.promises,...t.promises||{}}}:ko,Ao=/^\\\\\?\\([a-z]:)\\?$/i,So=/[\\\/]/,Oo=10,To=15,Co=-16,No=128,Io=t=>t.isFile()?8:t.isDirectory()?4:t.isSymbolicLink()?Oo:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:0,Lo=new Map,Ro=t=>{const e=Lo.get(t);if(e)return e;const i=t.normalize("NFKD");return Lo.set(t,i),i},Do=new Map,Mo=t=>{const e=Do.get(t);if(e)return e;const i=Ro(t.toLowerCase());return Do.set(t,i),i};class Po extends Cs{constructor(){super({max:256})}}class Fo extends Cs{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}}const jo=Symbol("PathScurry setAsCwd");class Bo{name;root;roots;parent;nocase;isCWD=!1;#rt;#st;get dev(){return this.#st}#ot;get mode(){return this.#ot}#at;get nlink(){return this.#at}#lt;get uid(){return this.#lt}#ct;get gid(){return this.#ct}#ut;get rdev(){return this.#ut}#ht;get blksize(){return this.#ht}#pt;get ino(){return this.#pt}#x;get size(){return this.#x}#ft;get blocks(){return this.#ft}#dt;get atimeMs(){return this.#dt}#mt;get mtimeMs(){return this.#mt}#gt;get ctimeMs(){return this.#gt}#yt;get birthtimeMs(){return this.#yt}#bt;get atime(){return this.#bt}#_t;get mtime(){return this.#_t}#vt;get ctime(){return this.#vt}#wt;get birthtime(){return this.#wt}#xt;#kt;#Et;#At;#St;#Ot;#Tt;#Ct;#Nt;#It;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=0,i,n,r,s,o){this.name=t,this.#xt=r?Mo(t):Ro(t),this.#Tt=1023&e,this.nocase=r,this.roots=n,this.root=i||this,this.#Ct=s,this.#Et=o.fullpath,this.#St=o.relative,this.#Ot=o.relativePosix,this.parent=o.parent,this.parent?this.#rt=this.parent.#rt:this.#rt=Eo(o.fs)}depth(){return void 0!==this.#kt?this.#kt:this.parent?this.#kt=this.parent.depth()+1:this.#kt=0}childrenCache(){return this.#Ct}resolve(t){if(!t)return this;const e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#Lt(i):this.#Lt(i)}#Lt(t){let e=this;for(const i of t)e=e.child(i);return e}children(){const t=this.#Ct.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#Ct.set(this,e),this.#Tt&=-17,e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const i=this.children(),n=this.nocase?Mo(t):Ro(t);for(const t of i)if(t.#xt===n)return t;const r=this.parent?this.sep:"",s=this.#Et?this.#Et+r+t:void 0,o=this.newChild(t,0,{...e,parent:this,fullpath:s});return this.canReaddir()||(o.#Tt|=No),i.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#St)return this.#St;const t=this.name,e=this.parent;if(!e)return this.#St=this.name;const i=e.relative();return i+(i&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#Ot)return this.#Ot;const t=this.name,e=this.parent;if(!e)return this.#Ot=this.fullpathPosix();const i=e.relativePosix();return i+(i&&e.parent?"/":"")+t}fullpath(){if(void 0!==this.#Et)return this.#Et;const t=this.name,e=this.parent;if(!e)return this.#Et=this.name;const i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#Et=i}fullpathPosix(){if(void 0!==this.#At)return this.#At;if("/"===this.sep)return this.#At=this.fullpath();if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?this.#At=`//?/${t}`:this.#At=t}const t=this.parent,e=t.fullpathPosix(),i=e+(e&&t.parent?"/":"")+this.name;return this.#At=i}isUnknown(){return!(this.#Tt&To)}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(this.#Tt&To)}isDirectory(){return 4==(this.#Tt&To)}isCharacterDevice(){return 2==(this.#Tt&To)}isBlockDevice(){return 6==(this.#Tt&To)}isFIFO(){return 1==(this.#Tt&To)}isSocket(){return 12==(this.#Tt&To)}isSymbolicLink(){return(this.#Tt&Oo)===Oo}lstatCached(){return 32&this.#Tt?this:void 0}readlinkCached(){return this.#Nt}realpathCached(){return this.#It}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#Nt)return!0;if(!this.parent)return!1;const t=this.#Tt&To;return!(0!==t&&t!==Oo||256&this.#Tt||this.#Tt&No)}calledReaddir(){return!!(16&this.#Tt)}isENOENT(){return!!(this.#Tt&No)}isNamed(t){return this.nocase?this.#xt===Mo(t):this.#xt===Ro(t)}async readlink(){const t=this.#Nt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await this.#rt.promises.readlink(this.fullpath()),e=(await this.parent.realpath())?.resolve(t);if(e)return this.#Nt=e}catch(t){return void this.#Rt(t.code)}}readlinkSync(){const t=this.#Nt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=this.#rt.readlinkSync(this.fullpath()),e=this.parent.realpathSync()?.resolve(t);if(e)return this.#Nt=e}catch(t){return void this.#Rt(t.code)}}#Dt(t){this.#Tt|=16;for(let e=t.provisional;e<t.length;e++){const i=t[e];i&&i.#Mt()}}#Mt(){this.#Tt&No||(this.#Tt=(this.#Tt|No)&Co,this.#Pt())}#Pt(){const t=this.children();t.provisional=0;for(const e of t)e.#Mt()}#Ft(){this.#Tt|=512,this.#jt()}#jt(){if(64&this.#Tt)return;let t=this.#Tt;4==(t&To)&&(t&=Co),this.#Tt=64|t,this.#Pt()}#Bt(t=""){"ENOTDIR"===t||"EPERM"===t?this.#jt():"ENOENT"===t?this.#Mt():this.children().provisional=0}#$t(t=""){"ENOTDIR"===t?this.parent.#jt():"ENOENT"===t&&this.#Mt()}#Rt(t=""){let e=this.#Tt;e|=256,"ENOENT"===t&&(e|=No),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=Co),this.#Tt=e,"ENOTDIR"===t&&this.parent&&this.parent.#jt()}#zt(t,e){return this.#Ut(t,e)||this.#qt(t,e)}#qt(t,e){const i=Io(t),n=this.newChild(t.name,i,{parent:this}),r=n.#Tt&To;return 4!==r&&r!==Oo&&0!==r&&(n.#Tt|=64),e.unshift(n),e.provisional++,n}#Ut(t,e){for(let i=e.provisional;i<e.length;i++){const n=e[i];if((this.nocase?Mo(t.name):Ro(t.name))===n.#xt)return this.#Gt(t,n,i,e)}}#Gt(t,e,i,n){const r=e.name;return e.#Tt=e.#Tt&Co|Io(t),r!==t.name&&(e.name=t.name),i!==n.provisional&&(i===n.length-1?n.pop():n.splice(i,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#Tt&No))try{return this.#Vt(await this.#rt.promises.lstat(this.fullpath())),this}catch(t){this.#$t(t.code)}}lstatSync(){if(!(this.#Tt&No))try{return this.#Vt(this.#rt.lstatSync(this.fullpath())),this}catch(t){this.#$t(t.code)}}#Vt(t){const{atime:e,atimeMs:i,birthtime:n,birthtimeMs:r,blksize:s,blocks:o,ctime:a,ctimeMs:l,dev:c,gid:u,ino:h,mode:p,mtime:f,mtimeMs:d,nlink:m,rdev:g,size:y,uid:b}=t;this.#bt=e,this.#dt=i,this.#wt=n,this.#yt=r,this.#ht=s,this.#ft=o,this.#vt=a,this.#gt=l,this.#st=c,this.#ct=u,this.#pt=h,this.#ot=p,this.#_t=f,this.#mt=d,this.#at=m,this.#ut=g,this.#x=y,this.#lt=b;const _=Io(t);this.#Tt=this.#Tt&Co|_|32,0!==_&&4!==_&&_!==Oo&&(this.#Tt|=64)}#Ht=[];#Wt=!1;#Kt(t){this.#Wt=!1;const e=this.#Ht.slice();this.#Ht.length=0,e.forEach((e=>e(null,t)))}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask((()=>t(null,[]))));const i=this.children();if(this.calledReaddir()){const n=i.slice(0,i.provisional);return void(e?t(null,n):queueMicrotask((()=>t(null,n))))}if(this.#Ht.push(t),this.#Wt)return;this.#Wt=!0;const n=this.fullpath();this.#rt.readdir(n,{withFileTypes:!0},((t,e)=>{if(t)this.#Bt(t.code),i.provisional=0;else{for(const t of e)this.#zt(t,i);this.#Dt(i)}this.#Kt(i.slice(0,i.provisional))}))}#Xt;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#Xt)await this.#Xt;else{let i=()=>{};this.#Xt=new Promise((t=>i=t));try{for(const i of await this.#rt.promises.readdir(e,{withFileTypes:!0}))this.#zt(i,t);this.#Dt(t)}catch(e){this.#Bt(e.code),t.provisional=0}this.#Xt=void 0,i()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const i of this.#rt.readdirSync(e,{withFileTypes:!0}))this.#zt(i,t);this.#Dt(t)}catch(e){this.#Bt(e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(704&this.#Tt)return!1;const t=To&this.#Tt;return 0===t||4===t||t===Oo}shouldWalk(t,e){return!(4&~this.#Tt)&&!(704&this.#Tt)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#It)return this.#It;if(!(896&this.#Tt))try{const t=await this.#rt.promises.realpath(this.fullpath());return this.#It=this.resolve(t)}catch(t){this.#Ft()}}realpathSync(){if(this.#It)return this.#It;if(!(896&this.#Tt))try{const t=this.#rt.realpathSync(this.fullpath());return this.#It=this.resolve(t)}catch(t){this.#Ft()}}[jo](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;const e=new Set([]);let i=[],n=this;for(;n&&n.parent;)e.add(n),n.#St=i.join(this.sep),n.#Ot=i.join("/"),n=n.parent,i.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#St=void 0,n.#Ot=void 0,n=n.parent}}class $o extends Bo{sep="\\";splitSep=So;constructor(t,e=0,i,n,r,s,o){super(t,e,i,n,r,s,o)}newChild(t,e=0,i={}){return new $o(t,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}getRootString(t){return v.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(Ao,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,i]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=i;return this.roots[t]=new qo(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(Ao,"$1\\"))===e}}class zo extends Bo{splitSep="/";sep="/";constructor(t,e=0,i,n,r,s,o){super(t,e,i,n,r,s,o)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=0,i={}){return new zo(t,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}}class Uo{root;rootPath;roots;cwd;#Yt;#Jt;#Ct;nocase;#rt;constructor(t=process.cwd(),e,i,{nocase:n,childrenCacheSize:r=16384,fs:s=ko}={}){this.#rt=Eo(s),(t instanceof URL||t.startsWith("file://"))&&(t=(0,bs.fileURLToPath)(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#Yt=new Po,this.#Jt=new Po,this.#Ct=new Fo(r);const a=o.substring(this.rootPath.length).split(i);if(1!==a.length||a[0]||a.pop(),void 0===n)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#rt),this.roots[this.rootPath]=this.root;let l=this.root,c=a.length-1;const u=e.sep;let h=this.rootPath,p=!1;for(const t of a){const e=c--;l=l.child(t,{relative:new Array(e).fill("..").join(u),relativePosix:new Array(e).fill("..").join("/"),fullpath:h+=(p?"":u)+t}),p=!0}this.cwd=l}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#Ct}resolve(...t){let e="";for(let i=t.length-1;i>=0;i--){const n=t[i];if(n&&"."!==n&&(e=e?`${n}/${e}`:n,this.isAbsolute(n)))break}const i=this.#Yt.get(e);if(void 0!==i)return i;const n=this.cwd.resolve(e).fullpath();return this.#Yt.set(e,n),n}resolvePosix(...t){let e="";for(let i=t.length-1;i>=0;i--){const n=t[i];if(n&&"."!==n&&(e=e?`${n}/${e}`:n,this.isAbsolute(n)))break}const i=this.#Jt.get(e);if(void 0!==i)return i;const n=this.cwd.resolve(e).fullpathPosix();return this.#Jt.set(e,n),n}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t,t=this.cwd);const{withFileTypes:i}=e;if(t.canReaddir()){const e=await t.readdir();return i?e:e.map((t=>t.name))}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t,t=this.cwd);const{withFileTypes:i=!0}=e;return t.canReaddir()?i?t.readdirSync():t.readdirSync().map((t=>t.name)):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t.withFileTypes,t=this.cwd);const i=await t.readlink();return e?i:i?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t.withFileTypes,t=this.cwd);const i=t.readlinkSync();return e?i:i?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t.withFileTypes,t=this.cwd);const i=await t.realpath();return e?i:i?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t.withFileTypes,t=this.cwd);const i=t.realpathSync();return e?i:i?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t,t=this.cwd);const{withFileTypes:i=!0,follow:n=!1,filter:r,walkFilter:s}=e,o=[];r&&!r(t)||o.push(i?t:t.fullpath());const a=new Set,l=(t,e)=>{a.add(t),t.readdirCB(((t,c)=>{if(t)return e(t);let u=c.length;if(!u)return e();const h=()=>{0==--u&&e()};for(const t of c)r&&!r(t)||o.push(i?t:t.fullpath()),n&&t.isSymbolicLink()?t.realpath().then((t=>t?.isUnknown()?t.lstat():t)).then((t=>t?.shouldWalk(a,s)?l(t,h):h())):t.shouldWalk(a,s)?l(t,h):h()}),!0)},c=t;return new Promise(((t,e)=>{l(c,(i=>{if(i)return e(i);t(o)}))}))}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t,t=this.cwd);const{withFileTypes:i=!0,follow:n=!1,filter:r,walkFilter:s}=e,o=[];r&&!r(t)||o.push(i?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){r&&!r(t)||o.push(i?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&a.add(e)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t,t=this.cwd);const{withFileTypes:i=!0,follow:n=!1,filter:r,walkFilter:s}=e;r&&!r(t)||(yield i?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){r&&!r(t)||(yield i?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,s)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t,t=this.cwd);const{withFileTypes:i=!0,follow:n=!1,filter:r,walkFilter:s}=e,o=new wo({objectMode:!0});r&&!r(t)||o.write(i?t:t.fullpath());const a=new Set,l=[t];let c=0;const u=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===c&&o.end());c++,a.add(e);const h=(e,f,d=!1)=>{if(e)return o.emit("error",e);if(n&&!d){const t=[];for(const e of f)e.isSymbolicLink()&&t.push(e.realpath().then((t=>t?.isUnknown()?t.lstat():t)));if(t.length)return void Promise.all(t).then((()=>h(null,f,!0)))}for(const e of f)!e||r&&!r(e)||o.write(i?e:e.fullpath())||(t=!0);c--;for(const t of f){const e=t.realpathCached()||t;e.shouldWalk(a,s)&&l.push(e)}t&&!o.flowing?o.once("drain",u):p||u()};let p=!0;e.readdirCB(h,!0),p=!1}};return u(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Bo||(e=t,t=this.cwd);const{withFileTypes:i=!0,follow:n=!1,filter:r,walkFilter:s}=e,o=new wo({objectMode:!0}),a=new Set;r&&!r(t)||o.write(i?t:t.fullpath());const l=[t];let c=0;const u=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===c&&o.end());c++,a.add(e);const u=e.readdirSync();for(const e of u)r&&!r(e)||o.write(i?e:e.fullpath())||(t=!0);c--;for(const t of u){let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&l.push(e)}}t&&!o.flowing&&o.once("drain",u)};return u(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[jo](e)}}class qo extends Uo{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:i=!0}=e;super(t,v.win32,"\\",{...e,nocase:i}),this.nocase=i;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return v.win32.parse(t).root.toUpperCase()}newRoot(t){return new $o(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}class Go extends Uo{sep="/";constructor(t=process.cwd(),e={}){const{nocase:i=!1}=e;super(t,v.posix,"/",{...e,nocase:i}),this.nocase=i}parseRootPath(t){return"/"}newRoot(t){return new zo(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}class Vo extends Go{constructor(t=process.cwd(),e={}){const{nocase:i=!0}=e;super(t,{...e,nocase:i})}}process.platform;const Ho="win32"===process.platform?qo:"darwin"===process.platform?Vo:Go;class Wo{#Zt;#Qt;#te;length;#ee;#ie;#ne;#re;#se;#oe;#ae=!0;constructor(t,e,i,n){if(!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,i<0||i>=this.length)throw new TypeError("index out of range");if(this.#Zt=t,this.#Qt=e,this.#te=i,this.#ee=n,0===this.#te)if(this.isUNC()){const[t,e,i,n,...r]=this.#Zt,[s,o,a,l,...c]=this.#Qt;""===r[0]&&(r.shift(),c.shift());const u=[t,e,i,n,""].join("/"),h=[s,o,a,l,""].join("/");this.#Zt=[u,...r],this.#Qt=[h,...c],this.length=this.#Zt.length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=this.#Zt,[i,...n]=this.#Qt;""===e[0]&&(e.shift(),n.shift());const r=t+"/",s=i+"/";this.#Zt=[r,...e],this.#Qt=[s,...n],this.length=this.#Zt.length}}pattern(){return this.#Zt[this.#te]}isString(){return"string"==typeof this.#Zt[this.#te]}isGlobstar(){return this.#Zt[this.#te]===fs}isRegExp(){return this.#Zt[this.#te]instanceof RegExp}globString(){return this.#ne=this.#ne||(0===this.#te?this.isAbsolute()?this.#Qt[0]+this.#Qt.slice(1).join("/"):this.#Qt.join("/"):this.#Qt.slice(this.#te).join("/"))}hasMore(){return this.length>this.#te+1}rest(){return void 0!==this.#ie?this.#ie:this.hasMore()?(this.#ie=new Wo(this.#Zt,this.#Qt,this.#te+1,this.#ee),this.#ie.#oe=this.#oe,this.#ie.#se=this.#se,this.#ie.#re=this.#re,this.#ie):this.#ie=null}isUNC(){const t=this.#Zt;return void 0!==this.#se?this.#se:this.#se="win32"===this.#ee&&0===this.#te&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3]}isDrive(){const t=this.#Zt;return void 0!==this.#re?this.#re:this.#re="win32"===this.#ee&&0===this.#te&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#Zt;return void 0!==this.#oe?this.#oe:this.#oe=""===t[0]&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#Zt[0];return"string"==typeof t&&this.isAbsolute()&&0===this.#te?t:""}checkFollowGlobstar(){return!(0===this.#te||!this.isGlobstar()||!this.#ae)}markFollowGlobstar(){return!(0===this.#te||!this.isGlobstar()||!this.#ae||(this.#ae=!1,0))}}const Ko="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class Xo{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(t,{nobrace:e,nocase:i,noext:n,noglobstar:r,platform:s=Ko}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=s,this.mmopts={dot:!0,nobrace:e,nocase:i,noext:n,noglobstar:r,optimizationLevel:2,platform:s,nocomment:!0,nonegate:!0};for(const e of t)this.add(e)}add(t){const e=new ys(t,this.mmopts);for(let t=0;t<e.set.length;t++){const i=e.set[t],n=e.globParts[t];if(!i||!n)throw new Error("invalid pattern object");for(;"."===i[0]&&"."===n[0];)i.shift(),n.shift();const r=new Wo(i,n,0,this.platform),s=new ys(r.globString(),this.mmopts),o="**"===n[n.length-1],a=r.isAbsolute();a?this.absolute.push(s):this.relative.push(s),o&&(a?this.absoluteChildren.push(s):this.relativeChildren.push(s))}}ignored(t){const e=t.fullpath(),i=`${e}/`,n=t.relative()||".",r=`${n}/`;for(const t of this.relative)if(t.match(n)||t.match(r))return!0;for(const t of this.absolute)if(t.match(e)||t.match(i))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",i=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(i))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}}class Yo{store;constructor(t=new Map){this.store=t}copy(){return new Yo(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const i=t.fullpath(),n=this.store.get(i);n?n.add(e.globString()):this.store.set(i,new Set([e.globString()]))}}class Jo{store=new Map;add(t,e,i){const n=(e?2:0)|(i?1:0),r=this.store.get(t);this.store.set(t,void 0===r?n:n&r)}entries(){return[...this.store.entries()].map((([t,e])=>[t,!!(2&e),!!(1&e)]))}}class Zo{store=new Map;add(t,e){if(!t.canReaddir())return;const i=this.store.get(t);i?i.find((t=>t.globString()===e.globString()))||i.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map((t=>[t,this.store.get(t)]))}keys(){return[...this.store.keys()].filter((t=>t.canReaddir()))}}class Qo{hasWalkedCache;matches=new Jo;subwalks=new Zo;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Yo}processPatterns(t,e){this.patterns=e;const i=e.map((e=>[t,e]));for(let[t,e]of i){this.hasWalkedCache.storeWalked(t,e);const i=e.root(),n=e.isAbsolute()&&!1!==this.opts.absolute;if(i){t=t.resolve("/"===i&&void 0!==this.opts.root?this.opts.root:i);const n=e.rest();if(!n){this.matches.add(t,!0,!1);continue}e=n}if(t.isENOENT())continue;let r,s,o=!1;for(;"string"==typeof(r=e.pattern())&&(s=e.rest());){const i=t.resolve(r);t=i,e=s,o=!0}if(r=e.pattern(),s=e.rest(),o){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"!=typeof r)if(r===fs){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const i=s?.pattern(),r=s?.rest();if(s&&(""!==i&&"."!==i||r)){if(".."===i){const e=t.parent||t;r?this.hasWalkedCache.hasWalked(e,r)||this.subwalks.add(e,r):this.matches.add(e,n,!0)}}else this.matches.add(t,n,""===i||"."===i)}else r instanceof RegExp&&this.subwalks.add(t,e);else{const e=".."===r||""===r||"."===r;this.matches.add(t.resolve(r),n,e)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Qo(this.opts,this.hasWalkedCache)}filterEntries(t,e){const i=this.subwalks.get(t),n=this.child();for(const t of e)for(const e of i){const i=e.isAbsolute(),r=e.pattern(),s=e.rest();r===fs?n.testGlobstar(t,e,s,i):r instanceof RegExp?n.testRegExp(t,r,s,i):n.testString(t,r,s,i)}return n}testGlobstar(t,e,i,n){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(i&&e.checkFollowGlobstar()?this.subwalks.add(t,i):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),i){const e=i.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,i.rest(),n);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,i)}else e instanceof RegExp&&this.testRegExp(t,e,i.rest(),n)}}testRegExp(t,e,i,n){e.test(t.name)&&(i?this.subwalks.add(t,i):this.matches.add(t,n,!1))}testString(t,e,i,n){t.isNamed(e)&&(i?this.subwalks.add(t,i):this.matches.add(t,n,!1))}}class ta{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#le=[];#ce;#ue;signal;maxDepth;includeChildMatches;constructor(t,e,i){if(this.patterns=t,this.path=e,this.opts=i,this.#ue=i.posix||"win32"!==i.platform?"/":"\\",this.includeChildMatches=!1!==i.includeChildMatches,(i.ignore||!this.includeChildMatches)&&(this.#ce=((t,e)=>"string"==typeof t?new Xo([t],e):Array.isArray(t)?new Xo(t,e):t)(i.ignore??[],i),!this.includeChildMatches&&"function"!=typeof this.#ce.add))throw new Error("cannot ignore child matches, ignore lacks add() method.");this.maxDepth=i.maxDepth||1/0,i.signal&&(this.signal=i.signal,this.signal.addEventListener("abort",(()=>{this.#le.length=0})))}#he(t){return this.seen.has(t)||!!this.#ce?.ignored?.(t)}#pe(t){return!!this.#ce?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=this.#le.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#le.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||await t.realpath(),!i)return;t=i}const n=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){const t=await n.realpath();t&&(t.isUnknown()||this.opts.stat)&&await t.lstat()}return this.matchCheckTest(n,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||this.opts.nodir&&this.opts.follow&&t.isSymbolicLink()&&t.realpathCached()?.isDirectory()||this.#he(t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||t.realpathSync(),!i)return;t=i}const n=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){const t=n.realpathSync();t&&(t?.isUnknown()||this.opts.stat)&&t.lstatSync()}return this.matchCheckTest(n,e)}matchFinish(t,e){if(this.#he(t))return;if(!this.includeChildMatches&&this.#ce?.add){const e=`${t.relativePosix()}/**`;this.#ce.add(e)}const i=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#ue:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(i){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+n)}else{const e=this.opts.posix?t.relativePosix():t.relative(),i=this.opts.dotRelative&&!e.startsWith(".."+this.#ue)?"."+this.#ue:"";this.matchEmit(e?i+e+n:"."+n)}}async match(t,e,i){const n=await this.matchCheck(t,i);n&&this.matchFinish(n,e)}matchSync(t,e,i){const n=this.matchCheckSync(t,i);n&&this.matchFinish(n,e)}walkCB(t,e,i){this.signal?.aborted&&i(),this.walkCB2(t,e,new Qo(this.opts),i)}walkCB2(t,e,i,n){if(this.#pe(t))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume((()=>this.walkCB2(t,e,i,n)));i.processPatterns(t,e);let r=1;const s=()=>{0==--r&&n()};for(const[t,e,n]of i.matches.entries())this.#he(t)||(r++,this.match(t,e,n).then((()=>s())));for(const t of i.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;r++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,i,s):t.readdirCB(((e,n)=>this.walkCB3(t,n,i,s)),!0)}s()}walkCB3(t,e,i,n){i=i.filterEntries(t,e);let r=1;const s=()=>{0==--r&&n()};for(const[t,e,n]of i.matches.entries())this.#he(t)||(r++,this.match(t,e,n).then((()=>s())));for(const[t,e]of i.subwalks.entries())r++,this.walkCB2(t,e,i.child(),s);s()}walkCBSync(t,e,i){this.signal?.aborted&&i(),this.walkCB2Sync(t,e,new Qo(this.opts),i)}walkCB2Sync(t,e,i,n){if(this.#pe(t))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume((()=>this.walkCB2Sync(t,e,i,n)));i.processPatterns(t,e);let r=1;const s=()=>{0==--r&&n()};for(const[t,e,n]of i.matches.entries())this.#he(t)||this.matchSync(t,e,n);for(const t of i.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;r++;const e=t.readdirSync();this.walkCB3Sync(t,e,i,s)}s()}walkCB3Sync(t,e,i,n){i=i.filterEntries(t,e);let r=1;const s=()=>{0==--r&&n()};for(const[t,e,n]of i.matches.entries())this.#he(t)||this.matchSync(t,e,n);for(const[t,e]of i.subwalks.entries())r++,this.walkCB2Sync(t,e,i.child(),s);s()}}class ea extends ta{matches=new Set;constructor(t,e,i){super(t,e,i)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((t,e)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}}class ia extends ta{results;constructor(t,e,i){super(t,e,i),this.results=new wo({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then((()=>{this.walkCB(t,this.patterns,(()=>this.results.end()))})):this.walkCB(t,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}}const na="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class ra{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,bs.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=!1!==e.includeChildMatches,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map((t=>t.replace(/\\/g,"/")))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map((t=>t.includes("/")?t:`./**/${t}`))}if(this.pattern=t,this.platform=e.platform||na,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?qo:"darwin"===e.platform?Vo:e.platform?Go:Ho;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const i="darwin"===this.platform||"win32"===this.platform,n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:i,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map((t=>new ys(t,n))),[s,o]=r.reduce(((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t)),[[],[]]);this.patterns=s.map(((t,e)=>{const i=o[e];if(!i)throw new Error("invalid pattern object");return new Wo(t,i,0,this.platform)}))}async walk(){return[...await new ea(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new ea(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new ia(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new ia(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}function sa(t,e={}){return new ra(t,e).streamSync()}function oa(t,e={}){return new ra(t,e).stream()}function aa(t,e={}){return new ra(t,e).walkSync()}async function la(t,e={}){return new ra(t,e).walk()}function ca(t,e={}){return new ra(t,e).iterateSync()}function ua(t,e={}){return new ra(t,e).iterate()}const ha=sa,pa=Object.assign(oa,{sync:sa}),fa=ca,da=Object.assign(ua,{sync:ca}),ma=Object.assign(aa,{stream:sa,iterate:ca}),ga=Object.assign(la,{glob:la,globSync:aa,sync:ma,globStream:oa,stream:pa,globStreamSync:sa,streamSync:ha,globIterate:ua,iterate:da,globIterateSync:ca,iterateSync:fa,Glob:ra,hasMagic:(t,e={})=>{Array.isArray(t)||(t=[t]);for(const i of t)if(new ys(i,e).hasMagic())return!0;return!1},escape:Gr,unescape:Rr});ga.glob=ga;var ya=r(2203);const ba=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)};class _a extends Error{constructor(t,e,i,...n){Array.isArray(e)&&(e=e.join(" ").trim()),super(e),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,_a),this.code=t;for(const t of n)for(const e in t){const n=t[e];this[e]=Buffer.isBuffer(n)?n.toString(i.encoding):null==n?n:JSON.parse(JSON.stringify(n))}}}const va=function(t){const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i];if(null==n||!1===n)e[i]={disabled:!0};else if("string"==typeof n)e[i]={name:n};else{if(!ba(n))throw new _a("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(n)} at position ${i}`]);if("string"!=typeof n.name)throw new _a("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${i}`,"when column is an object literal"]);e[i]=n}}return e},wa=class{constructor(t=100){this.size=t,this.length=0,this.buf=Buffer.allocUnsafe(t)}prepend(t){if(Buffer.isBuffer(t)){const e=this.length+t.length;if(e>=this.size&&(this.resize(),e>=this.size))throw Error("INVALID_BUFFER_STATE");const i=this.buf;this.buf=Buffer.allocUnsafe(this.size),t.copy(this.buf,0),i.copy(this.buf,t.length),this.length+=t.length}else{const e=this.length++;e===this.size&&this.resize();const i=this.clone();this.buf[0]=t,i.copy(this.buf,1,0,e)}}append(t){const e=this.length++;e===this.size&&this.resize(),this.buf[e]=t}clone(){return Buffer.from(this.buf.slice(0,this.length))}resize(){const t=this.length;this.size=2*this.size;const e=Buffer.allocUnsafe(this.size);this.buf.copy(e,0,0,t),this.buf=e}toString(t){return t?this.buf.slice(0,this.length).toString(t):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}},xa=function(t){return{bomSkipped:!1,bufBytesStart:0,castField:t.cast_function,commenting:!1,error:void 0,enabled:1===t.from_line,escaping:!1,escapeIsQuote:Buffer.isBuffer(t.escape)&&Buffer.isBuffer(t.quote)&&0===Buffer.compare(t.escape,t.quote),expectedRecordLength:Array.isArray(t.columns)?t.columns.length:void 0,field:new wa(20),firstLineToHeaders:t.cast_first_line_to_header,needMoreDataSize:Math.max(null!==t.comment?t.comment.length:0,...t.delimiter.map((t=>t.length)),null!==t.quote?t.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new wa(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===t.record_delimiter.length?0:Math.max(...t.record_delimiter.map((t=>t.length))),trimChars:[Buffer.from(" ",t.encoding)[0],Buffer.from("\t",t.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[Buffer.from(Buffer.from([13],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([10],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([12],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([32],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([9],"utf8").toString(),t.encoding)]}},ka=function(t){const e={};for(const n in t)e[(i=n,i.replace(/([A-Z])/g,(function(t,e){return"_"+e.toLowerCase()})))]=t[n];var i;if(void 0===e.encoding||!0===e.encoding)e.encoding="utf8";else if(null===e.encoding||!1===e.encoding)e.encoding=null;else if("string"!=typeof e.encoding&&null!==e.encoding)throw new _a("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(void 0===e.bom||null===e.bom||!1===e.bom)e.bom=!1;else if(!0!==e.bom)throw new _a("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,void 0===e.cast||null===e.cast||!1===e.cast||""===e.cast)e.cast=void 0;else if("function"==typeof e.cast)e.cast_function=e.cast,e.cast=!0;else if(!0!==e.cast)throw new _a("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(void 0===e.cast_date||null===e.cast_date||!1===e.cast_date||""===e.cast_date)e.cast_date=!1;else if(!0===e.cast_date)e.cast_date=function(t){const e=Date.parse(t);return isNaN(e)?t:new Date(e)};else if("function"!=typeof e.cast_date)throw new _a("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=null,!0===e.columns)e.cast_first_line_to_header=void 0;else if("function"==typeof e.columns)e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=va(e.columns);else{if(void 0!==e.columns&&null!==e.columns&&!1!==e.columns)throw new _a("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);e.columns=!1}if(void 0===e.group_columns_by_name||null===e.group_columns_by_name||!1===e.group_columns_by_name)e.group_columns_by_name=!1;else{if(!0!==e.group_columns_by_name)throw new _a("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(!1===e.columns)throw new _a("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(void 0===e.comment||null===e.comment||!1===e.comment||""===e.comment)e.comment=null;else if("string"==typeof e.comment&&(e.comment=Buffer.from(e.comment,e.encoding)),!Buffer.isBuffer(e.comment))throw new _a("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);if(void 0===e.comment_no_infix||null===e.comment_no_infix||!1===e.comment_no_infix)e.comment_no_infix=!1;else if(!0!==e.comment_no_infix)throw new _a("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(e.comment_no_infix)}`],e);const n=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),0===e.delimiter.length)throw new _a("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${n}`],e);if(e.delimiter=e.delimiter.map((function(t){if(null==t||!1===t)return Buffer.from(",",e.encoding);if("string"==typeof t&&(t=Buffer.from(t,e.encoding)),!Buffer.isBuffer(t)||0===t.length)throw new _a("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${n}`],e);return t})),void 0===e.escape||!0===e.escape?e.escape=Buffer.from('"',e.encoding):"string"==typeof e.escape?e.escape=Buffer.from(e.escape,e.encoding):null!==e.escape&&!1!==e.escape||(e.escape=null),null!==e.escape&&!Buffer.isBuffer(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(void 0===e.from||null===e.from)e.from=1;else{if("string"==typeof e.from&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),!Number.isInteger(e.from))throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(t.from)}`)}if(void 0===e.from_line||null===e.from_line)e.from_line=1;else{if("string"==typeof e.from_line&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),!Number.isInteger(e.from_line))throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(t.from_line)}`);if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(t.from_line)}`)}if(void 0===e.ignore_last_delimiters||null===e.ignore_last_delimiters)e.ignore_last_delimiters=!1;else if("number"==typeof e.ignore_last_delimiters)e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),0===e.ignore_last_delimiters&&(e.ignore_last_delimiters=!1);else if("boolean"!=typeof e.ignore_last_delimiters)throw new _a("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(!0===e.ignore_last_delimiters&&!1===e.columns)throw new _a("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(void 0===e.info||null===e.info||!1===e.info)e.info=!1;else if(!0!==e.info)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(void 0===e.max_record_size||null===e.max_record_size||!1===e.max_record_size)e.max_record_size=0;else if(Number.isInteger(e.max_record_size)&&e.max_record_size>=0);else{if("string"!=typeof e.max_record_size||!/\d+/.test(e.max_record_size))throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);e.max_record_size=parseInt(e.max_record_size)}if(void 0===e.objname||null===e.objname||!1===e.objname)e.objname=void 0;else if(Buffer.isBuffer(e.objname)){if(0===e.objname.length)throw new Error("Invalid Option: objname must be a non empty buffer");null===e.encoding||(e.objname=e.objname.toString(e.encoding))}else if("string"==typeof e.objname){if(0===e.objname.length)throw new Error("Invalid Option: objname must be a non empty string")}else if("number"!=typeof e.objname)throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(void 0!==e.objname)if("number"==typeof e.objname){if(!1!==e.columns)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(!1===e.columns)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index");if(void 0===e.on_record||null===e.on_record)e.on_record=void 0;else if("function"!=typeof e.on_record)throw new _a("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(null===e.quote||!1===e.quote||""===e.quote)e.quote=null;else if(void 0===e.quote||!0===e.quote?e.quote=Buffer.from('"',e.encoding):"string"==typeof e.quote&&(e.quote=Buffer.from(e.quote,e.encoding)),!Buffer.isBuffer(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(void 0===e.raw||null===e.raw||!1===e.raw)e.raw=!1;else if(!0!==e.raw)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(void 0===e.record_delimiter)e.record_delimiter=[];else if("string"==typeof e.record_delimiter||Buffer.isBuffer(e.record_delimiter)){if(0===e.record_delimiter.length)throw new _a("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new _a("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map((function(t,i){if("string"!=typeof t&&!Buffer.isBuffer(t))throw new _a("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${i},`,`got ${JSON.stringify(t)}`],e);if(0===t.length)throw new _a("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${i},`,`got ${JSON.stringify(t)}`],e);return"string"==typeof t&&(t=Buffer.from(t,e.encoding)),t})),"boolean"==typeof e.relax_column_count);else{if(void 0!==e.relax_column_count&&null!==e.relax_column_count)throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);e.relax_column_count=!1}if("boolean"==typeof e.relax_column_count_less);else{if(void 0!==e.relax_column_count_less&&null!==e.relax_column_count_less)throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);e.relax_column_count_less=!1}if("boolean"==typeof e.relax_column_count_more);else{if(void 0!==e.relax_column_count_more&&null!==e.relax_column_count_more)throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);e.relax_column_count_more=!1}if("boolean"==typeof e.relax_quotes);else{if(void 0!==e.relax_quotes&&null!==e.relax_quotes)throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);e.relax_quotes=!1}if("boolean"==typeof e.skip_empty_lines);else{if(void 0!==e.skip_empty_lines&&null!==e.skip_empty_lines)throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);e.skip_empty_lines=!1}if("boolean"==typeof e.skip_records_with_empty_values);else{if(void 0!==e.skip_records_with_empty_values&&null!==e.skip_records_with_empty_values)throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);e.skip_records_with_empty_values=!1}if("boolean"==typeof e.skip_records_with_error);else{if(void 0!==e.skip_records_with_error&&null!==e.skip_records_with_error)throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);e.skip_records_with_error=!1}if(void 0===e.rtrim||null===e.rtrim||!1===e.rtrim)e.rtrim=!1;else if(!0!==e.rtrim)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(void 0===e.ltrim||null===e.ltrim||!1===e.ltrim)e.ltrim=!1;else if(!0!==e.ltrim)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(void 0===e.trim||null===e.trim||!1===e.trim)e.trim=!1;else if(!0!==e.trim)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(!0===e.trim&&!1!==t.ltrim?e.ltrim=!0:!0!==e.ltrim&&(e.ltrim=!1),!0===e.trim&&!1!==t.rtrim?e.rtrim=!0:!0!==e.rtrim&&(e.rtrim=!1),void 0===e.to||null===e.to)e.to=-1;else{if("string"==typeof e.to&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),!Number.isInteger(e.to))throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(t.to)}`);if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(t.to)}`)}if(void 0===e.to_line||null===e.to_line)e.to_line=-1;else{if("string"==typeof e.to_line&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),!Number.isInteger(e.to_line))throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(t.to_line)}`);if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(t.to_line)}`)}return e},Ea=function(t){return t.every((t=>null==t||t.toString&&""===t.toString().trim()))},Aa={utf8:Buffer.from([239,187,191]),utf16le:Buffer.from([255,254])},Sa=function(t={}){const e=ka(t);return{info:{bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},original_options:t,options:e,state:xa(e),__needMoreData:function(t,e,i){if(i)return!1;const{encoding:n,escape:r,quote:s}=this.options,{quoting:o,needMoreDataSize:a,recordDelimiterMaxLength:l}=this.state;return e-t-1<Math.max(a,0===l?Buffer.from("\r\n",n).length:l,o?(null===r?0:r.length)+s.length:0,o?s.length+l:0)},parse:function(t,e,i,n){const{bom:r,comment_no_infix:s,encoding:o,from_line:a,ltrim:l,max_record_size:c,raw:u,relax_quotes:h,rtrim:p,skip_empty_lines:f,to:d,to_line:m}=this.options;let{comment:g,escape:y,quote:b,record_delimiter:_}=this.options;const{bomSkipped:v,previousBuf:w,rawBuffer:x,escapeIsQuote:k}=this.state;let E;if(void 0===w){if(void 0===t)return void n();E=t}else E=void 0!==w&&void 0===t?w:Buffer.concat([w,t]);if(!1===v)if(!1===r)this.state.bomSkipped=!0;else if(E.length<3){if(!1===e)return void(this.state.previousBuf=E)}else{for(const t in Aa)if(0===Aa[t].compare(E,0,Aa[t].length)){const e=Aa[t].length;this.state.bufBytesStart+=e,E=E.slice(e),this.options=ka({...this.original_options,encoding:t}),({comment:g,escape:y,quote:b}=this.options);break}this.state.bomSkipped=!0}const A=E.length;let S;for(S=0;S<A&&!this.__needMoreData(S,A,e);S++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1),-1!==m&&this.info.lines>m)return this.state.stop=!0,void n();!1===this.state.quoting&&0===_.length&&this.__autoDiscoverRecordDelimiter(E,S)&&(_=this.options.record_delimiter);const t=E[S];if(!0===u&&x.append(t),13!==t&&10!==t||!1!==this.state.wasRowDelimiter||(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(null!==y&&!0===this.state.quoting&&this.__isEscape(E,S,t)&&S+y.length<A){if(!k){this.state.escaping=!0,S+=y.length-1;continue}if(this.__isQuote(E,S+y.length)){this.state.escaping=!0,S+=y.length-1;continue}}if(!1===this.state.commenting&&this.__isQuote(E,S))if(!0===this.state.quoting){const e=E[S+b.length],i=p&&this.__isCharTrimable(E,S+b.length),n=null!==g&&this.__compareBytes(g,E,S+b.length,e),r=this.__isDelimiter(E,S+b.length,e),s=0===_.length?this.__autoDiscoverRecordDelimiter(E,S+b.length):this.__isRecordDelimiter(e,E,S+b.length);if(null!==y&&this.__isEscape(E,S,t)&&this.__isQuote(E,S+y.length))S+=y.length-1;else{if(!e||r||s||n||i){this.state.quoting=!1,this.state.wasQuoting=!0,S+=b.length-1;continue}if(!1===h){const t=this.__error(new _a("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(e)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(void 0!==t)return t}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(b),S+=b.length-1}}else{if(0===this.state.field.length){this.state.quoting=!0,S+=b.length-1;continue}if(!1===h){const t=this.__infoField(),e=Object.keys(Aa).map((t=>!!Aa[t].equals(this.state.field.toString())&&t)).filter(Boolean)[0],i=this.__error(new _a("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(t.column)} at line ${t.lines}, value is ${JSON.stringify(this.state.field.toString(o))}`,e?`(${e} bom)`:void 0],this.options,t,{field:this.state.field}));if(void 0!==i)return i}}if(!1===this.state.quoting){const e=this.__isRecordDelimiter(t,E,S);if(0!==e){if(this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length)this.info.comment_lines++;else{if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=a){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),S+=e-1;continue}if(!0===f&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,S+=e-1;continue}this.info.bytes=this.state.bufBytesStart+S;const t=this.__onField();if(void 0!==t)return t;this.info.bytes=this.state.bufBytesStart+S+e;const r=this.__onRecord(i);if(void 0!==r)return r;if(-1!==d&&this.info.records>=d)return this.state.stop=!0,void n()}this.state.commenting=!1,S+=e-1;continue}if(this.state.commenting)continue;if(null!==g&&(!1===s||0===this.state.record.length&&0===this.state.field.length)&&0!==this.__compareBytes(g,E,S,t)){this.state.commenting=!0;continue}const r=this.__isDelimiter(E,S,t);if(0!==r){this.info.bytes=this.state.bufBytesStart+S;const t=this.__onField();if(void 0!==t)return t;S+=r-1;continue}}}if(!1===this.state.commenting&&0!==c&&this.state.record_length+this.state.field.length>c)return this.__error(new _a("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${c}`,`at line ${this.info.lines}`],this.options,this.__infoField()));const e=!1===l||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(E,S),r=!1===p||!1===this.state.wasQuoting;if(!0!==e||!0!==r){if(!0!==p||this.__isCharTrimable(E,S)){!1===e&&(S+=this.__isCharTrimable(E,S)-1);continue}return this.__error(new _a("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()))}this.state.field.append(t)}if(!0===e)if(!0===this.state.quoting){const t=this.__error(new _a("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(void 0!==t)return t}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){this.info.bytes=this.state.bufBytesStart+S;const t=this.__onField();if(void 0!==t)return t;const e=this.__onRecord(i);if(void 0!==e)return e}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++;else this.state.bufBytesStart+=S,this.state.previousBuf=E.slice(S);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(t){const{columns:e,group_columns_by_name:i,encoding:n,info:r,from:s,relax_column_count:o,relax_column_count_less:a,relax_column_count_more:l,raw:c,skip_records_with_empty_values:u}=this.options,{enabled:h,record:p}=this.state;if(!1===h)return this.__resetRecord();const f=p.length;if(!0===e)return!0===u&&Ea(p)?void this.__resetRecord():this.__firstLineToColumns(p);if(!1===e&&0===this.info.records&&(this.state.expectedRecordLength=f),f!==this.state.expectedRecordLength){const t=!1===e?new _a("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${f} on line ${this.info.lines}`],this.options,this.__infoField(),{record:p}):new _a("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${e.length},`,`got ${f} on line ${this.info.lines}`],this.options,this.__infoField(),{record:p});if(!0===o||!0===a&&f<this.state.expectedRecordLength||!0===l&&f>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=t;else{const e=this.__error(t);if(e)return e}}if(!0===u&&Ea(p))this.__resetRecord();else{if(!0===this.state.recordHasError)return this.__resetRecord(),void(this.state.recordHasError=!1);if(this.info.records++,1===s||this.info.records>=s){const{objname:s}=this.options;if(!1!==e){const o={};for(let t=0,n=p.length;t<n;t++)void 0===e[t]||e[t].disabled||(!0===i&&void 0!==o[e[t].name]?Array.isArray(o[e[t].name])?o[e[t].name]=o[e[t].name].concat(p[t]):o[e[t].name]=[o[e[t].name],p[t]]:o[e[t].name]=p[t]);if(!0===c||!0===r){const e=Object.assign({record:o},!0===c?{raw:this.state.rawBuffer.toString(n)}:{},!0===r?{info:this.__infoRecord()}:{}),i=this.__push(void 0===s?e:[o[s],e],t);if(i)return i}else{const e=this.__push(void 0===s?o:[o[s],o],t);if(e)return e}}else if(!0===c||!0===r){const e=Object.assign({record:p},!0===c?{raw:this.state.rawBuffer.toString(n)}:{},!0===r?{info:this.__infoRecord()}:{}),i=this.__push(void 0===s?e:[p[s],e],t);if(i)return i}else{const e=this.__push(void 0===s?p:[p[s],p],t);if(e)return e}}this.__resetRecord()}},__firstLineToColumns:function(t){const{firstLineToHeaders:e}=this.state;try{const i=void 0===e?t:e.call(null,t);if(!Array.isArray(i))return this.__error(new _a("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(i)}`],this.options,this.__infoField(),{headers:i}));const n=va(i);return this.state.expectedRecordLength=n.length,this.options.columns=n,void this.__resetRecord()}catch(t){return t}},__resetRecord:function(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){const{cast:t,encoding:e,rtrim:i,max_record_size:n}=this.options,{enabled:r,wasQuoting:s}=this.state;if(!1===r)return this.__resetField();let o=this.state.field.toString(e);if(!0===i&&!1===s&&(o=o.trimRight()),!0===t){const[t,e]=this.__cast(o);if(void 0!==t)return t;o=e}this.state.record.push(o),0!==n&&"string"==typeof o&&(this.state.record_length+=o.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(t,e){const{on_record:i}=this.options;if(void 0!==i){const e=this.__infoRecord();try{t=i.call(null,t,e)}catch(t){return t}if(null==t)return}e(t)},__cast:function(t){const{columns:e,relax_column_count:i}=this.options;if(!0===Array.isArray(e)&&i&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(null!==this.state.castField)try{const e=this.__infoField();return[void 0,this.state.castField.call(null,t,e)]}catch(t){return[t]}if(this.__isFloat(t))return[void 0,parseFloat(t)];if(!1!==this.options.cast_date){const e=this.__infoField();return[void 0,this.options.cast_date.call(null,t,e)]}return[void 0,t]},__isCharTrimable:function(t,e){return((t,e)=>{const{timchars:i}=this.state;t:for(let n=0;n<i.length;n++){const r=i[n];for(let i=0;i<r.length;i++)if(r[i]!==t[e+i])continue t;return r.length}return 0})(t,e)},__isFloat:function(t){return t-parseFloat(t)+1>=0},__compareBytes:function(t,e,i,n){if(t[0]!==n)return 0;const r=t.length;for(let n=1;n<r;n++)if(t[n]!==e[i+n])return 0;return r},__isDelimiter:function(t,e,i){const{delimiter:n,ignore_last_delimiters:r}=this.options;if(!0===r&&this.state.record.length===this.options.columns.length-1)return 0;if(!1!==r&&"number"==typeof r&&this.state.record.length===r-1)return 0;t:for(let r=0;r<n.length;r++){const s=n[r];if(s[0]===i){for(let i=1;i<s.length;i++)if(s[i]!==t[e+i])continue t;return s.length}}return 0},__isRecordDelimiter:function(t,e,i){const{record_delimiter:n}=this.options,r=n.length;t:for(let s=0;s<r;s++){const r=n[s],o=r.length;if(r[0]===t){for(let t=1;t<o;t++)if(r[t]!==e[i+t])continue t;return r.length}}return 0},__isEscape:function(t,e,i){const{escape:n}=this.options;if(null===n)return!1;const r=n.length;if(n[0]===i){for(let i=0;i<r;i++)if(n[i]!==t[e+i])return!1;return!0}return!1},__isQuote:function(t,e){const{quote:i}=this.options;if(null===i)return!1;const n=i.length;for(let r=0;r<n;r++)if(i[r]!==t[e+r])return!1;return!0},__autoDiscoverRecordDelimiter:function(t,e){const{encoding:i}=this.options,n=[Buffer.from("\r\n",i),Buffer.from("\n",i),Buffer.from("\r",i)];t:for(let i=0;i<n.length;i++){const r=n[i].length;for(let s=0;s<r;s++)if(n[i][s]!==t[e+s])continue t;return this.options.record_delimiter.push(n[i]),this.state.recordDelimiterMaxLength=n[i].length,n[i].length}return 0},__error:function(t){const{encoding:e,raw:i,skip_records_with_error:n}=this.options,r="string"==typeof t?new Error(t):t;return n?(this.state.recordHasError=!0,void(void 0!==this.options.on_skip&&this.options.on_skip(r,i?this.state.rawBuffer.toString(e):void 0))):r},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){const{columns:t,raw:e,encoding:i}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:!0===t,index:this.state.record.length,raw:e?this.state.rawBuffer.toString(i):void 0}},__infoField:function(){const{columns:t}=this.options,e=Array.isArray(t);return{...this.__infoRecord(),column:!0===e?t.length>this.state.record.length?t[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}};class Oa extends ya.Transform{constructor(t={}){super({readableObjectMode:!0,...t,encoding:null}),this.api=Sa(t),this.api.options.on_skip=(t,e)=>{this.emit("skip",t,e)},this.state=this.api.state,this.options=this.api.options,this.info=this.api.info}_transform(t,e,i){if(!0===this.state.stop)return;const n=this.api.parse(t,!1,(t=>{this.push(t)}),(()=>{this.push(null),this.end(),this.on("end",this.destroy)}));void 0!==n&&(this.state.stop=!0),i(n)}_flush(t){if(!0===this.state.stop)return;const e=this.api.parse(void 0,!0,(t=>{this.push(t)}),(()=>{this.push(null),this.on("end",this.destroy)}));t(e)}}const Ta=function(){let t,e,i;for(const n in arguments){const r=arguments[n],s=typeof r;if(void 0!==t||"string"!=typeof r&&!Buffer.isBuffer(r))if(void 0===e&&ba(r))e=r;else{if(void 0!==i||"function"!==s)throw new _a("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(r)} at index ${n}`],e||{});i=r}else t=r}const n=new Oa(e);if(i){const t=void 0===e||void 0===e.objname?[]:{};n.on("readable",(function(){let i;for(;null!==(i=this.read());)void 0===e||void 0===e.objname?t.push(i):t[i[0]]=i[1]})),n.on("error",(function(t){i(t,void 0,n.api.__infoDataSet())})),n.on("end",(function(){i(void 0,t,n.api.__infoDataSet())}))}if(void 0!==t){const e=function(){n.write(t),n.end()};"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0)}return n},Ca=/^(-{3}(?:\n|\r)([\w\W]+?)(?:\n|\r)[-|\.]{3})?([\w\W]*)*/;function Na(t){let e={};return _r(t).forEach((t=>{yr(t).forEach((i=>{i.citations.forEach((({id:i,type:n})=>{e[i]?e[i].contexts.add(t):e[i]={contexts:new Set([t]),id:i,type:n}}))}))})),Object.values(e).map((t=>({...t,contexts:Array.from(t.contexts)})))}class Ia extends Sr{static getFromPathFilesAsync(t){const e=[];return new Promise(((i,n)=>{ga("**/*.md",{cwd:t,realpath:!0},((t,r)=>{t&&n(t),Promise.all(r.map((t=>new Promise(((i,n)=>a().readFile(t,"utf-8",((r,s)=>{r&&n(r);const{__content:o,...l}=ymlFM.loadFront(s),c={path:t,name:w().basename(t),lastEditDate:a().statSync(t).mtime,content:o,metas:l};c.metas.type=c.metas.type||"undefined",c.metas.tags=c.metas.tags||c.metas.keywords||[],c.metas.id=c.metas.id,c.metas.references=c.metas.references||[],e.push(c),i()}))))))).then((()=>i(e))).catch((t=>n))}))}))}static getFromPathFiles(t){return ga.sync("**/*.md",{cwd:t}).map((e=>w().join(t,e))).map((t=>{const e=a().readFileSync(t,"utf8");return Ia.getDataFromYamlFrontMatter(e,t)})).filter((({name:t,metas:e})=>void 0!==e.id||void 0!==e.title||(new C(t,"","error").aboutNoId(t),!1)))}static getDataFromYamlFrontMatter(t,e){let i;try{i=function(t,e={}){const i=new RegExp(/\r\n/g);t=t.replace(i,"\n");const[,n,r,s]=Ca.exec(t);let o={};return t&&(o=E.parse(r,e)),{head:o,content:s}}(t,{schema:"failsafe"})}catch(t){throw console.error(e+" could not have its frontmatter parsed."),new SyntaxError("YAML parse error on "+e)}const{head:n,content:r}=i,s={path:e,name:w().basename(e),content:r,metas:n};return s.metas.id=s.metas.id&&String(s.metas.id),s.metas.title=s.metas.title&&String(s.metas.title),s.metas.types=s.metas.types||s.metas.type||[],delete s.metas.type,!1===Array.isArray(s.metas.types)&&(s.metas.types=[s.metas.types]),0===s.metas.types.length&&(s.metas.types=["undefined"]),s.metas.tags=s.metas.tags||s.metas.tag||s.metas.keywords||s.metas.keyword||[],delete s.metas.tag,delete s.metas.keywords,delete s.metas.keyword,!1===Array.isArray(s.metas.tags)&&(s.metas.tags=[s.metas.tags]),s.metas.references=s.metas.references||s.metas.reference||[],delete s.metas.reference,!1===Array.isArray(s.metas.references)&&(s.metas.references=[s.metas.references]),s.metas.begin=Number(new Date(s.metas.begin)),s.metas.end=Number(new Date(s.metas.end)),s}static getFromPathCsv(t,e){const i=new Promise(((e,i)=>{a().readFile(t,"utf-8",((n,r)=>{if(n)return void i(new M({filePath:n.path}));const s=[];Ta(r,{columns:!0,skip_empty_lines:!0}).on("readable",(function(){let e,i=1;for(;null!==(e=this.read());)i++,e.id&&e.title?s.push(Er.getFormatedDataFromCsvLine(e)):new C("ignored_csv_line","","error").aboutIgnoredCsvLine(t,'"nodes"',i,[...e.id?[]:['"id"'],...e.title?[]:['"title"']])})).on("error",i).on("end",(()=>e(s)))}))})),n=new Promise(((t,i)=>{a().readFile(e,"utf-8",((n,r)=>{if(n)return void i(new P({filePath:n.path}));const s=[];Ta(r,{columns:!0,skip_empty_lines:!0}).on("readable",(function(){let t,i=1;for(;null!==(t=this.read());)i++,t.source&&t.target?s.push(I.getFormatedDataFromCsvLine(t)):new C("ignored_csv_line","","error").aboutIgnoredCsvLine(e,'"links"',i,[...t.source?[]:['"source"'],...t.target?[]:['"target"']])})).on("error",(t=>i(new F(t)))).on("end",(()=>t(s)))}))}));return Promise.all([i,n])}static getRecordsFromFiles(t,e,i={}){const n=new H(i);let r;const s=[],o=[];for(const e of t){const t=e.metas.id||e.metas.title.toLowerCase(),{content:i}=e;s.push(...I.getWikiLinksFromFileContent(t,i));let{title:n,types:r}=e.metas;o.push(new cr(t,n,r))}let a=new Map([]);if(e&&i.references_as_nodes&&n.canCiteproc()){const{bib:e,cslStyle:i,xmlLocal:s}=wr.getBibliographicFilesFromConfig(n);r=new wr(e,i,s);for(const e of t){const t=[...Na(e.content),...e.metas.references.map((t=>({contexts:[],id:t})))],i=e.metas.id||e.metas.title.toLowerCase();t.forEach((({id:t,type:e,contexts:n})=>{r.library[t]&&(a.has(t)?a.get(t).targets.add(i):a.set(t,{contexts:n,targets:new Set([i]),type:e}))}))}}a.forEach((({targets:t,contexts:e,type:n},a)=>{o.push(new cr(a,r.library[a].title||"",[i.references_type_label])),Array.from(t).forEach((t=>s.push(new I(void 0,e,n||"undefined",void 0,void 0,void 0,t,a))))}));const l=t.map((t=>{let{id:e,title:n,types:r,tags:a,thumbnail:l,references:c,begin:u,end:h,...p}=t.metas;e=e||t.metas.title.toLowerCase();const{linksReferences:f,backlinksReferences:d}=I.getReferencesFromLinks(e,s,o),m=[...wr.getBibliographicRecordsFromText(t.content),...wr.getBibliographicRecordsFromList(c)];return new Er(e,n,r,a,p,t.content,f,d,u,h,m,l,i)}));return a.forEach(((t,e)=>{const{linksReferences:n,backlinksReferences:a}=I.getReferencesFromLinks(e,s,o);r.citeproc.updateItems([e]);let c=r.citeproc.makeBibliography()[1].map((t=>wr.getFormatedHtmlBibliographicRecord(t)))[0];const u=r.library[e].title||"";l.push(new Er(e,u,[i.references_type_label],void 0,void 0,c,n,a,void 0,void 0,void 0,void 0,i))})),l}static getIndexToMassSave(t){const e=Ia.getFromPathFiles(t).map((t=>Number(t.metas.id))).filter(Er.isTodayOutDailyId).sort().at(-1);return e?e-Er.generateOutDailyId():0}constructor(t,e,i){super(t,e,i)}}const La=Ia,Ra={};function Da(t,e){"string"!=typeof e&&(e=Da.defaultChars);const i=function(t){let e=Ra[t];if(e)return e;e=Ra[t]=[];for(let t=0;t<128;t++){const i=String.fromCharCode(t);e.push(i)}for(let i=0;i<t.length;i++){const n=t.charCodeAt(i);e[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return e}(e);return t.replace(/(%[a-f0-9]{2})+/gi,(function(t){let e="";for(let n=0,r=t.length;n<r;n+=3){const s=parseInt(t.slice(n+1,n+3),16);if(s<128)e+=i[s];else{if(192==(224&s)&&n+3<r){const i=parseInt(t.slice(n+4,n+6),16);if(128==(192&i)){const t=s<<6&1984|63&i;e+=t<128?"ï¿½ï¿½":String.fromCharCode(t),n+=3;continue}}if(224==(240&s)&&n+6<r){const i=parseInt(t.slice(n+4,n+6),16),r=parseInt(t.slice(n+7,n+9),16);if(128==(192&i)&&128==(192&r)){const t=s<<12&61440|i<<6&4032|63&r;e+=t<2048||t>=55296&&t<=57343?"ï¿½ï¿½ï¿½":String.fromCharCode(t),n+=6;continue}}if(240==(248&s)&&n+9<r){const i=parseInt(t.slice(n+4,n+6),16),r=parseInt(t.slice(n+7,n+9),16),o=parseInt(t.slice(n+10,n+12),16);if(128==(192&i)&&128==(192&r)&&128==(192&o)){let t=s<<18&1835008|i<<12&258048|r<<6&4032|63&o;t<65536||t>1114111?e+="ï¿½ï¿½ï¿½ï¿½":(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t))),n+=9;continue}}e+="ï¿½"}}return e}))}Da.defaultChars=";/?:@&=+$,#",Da.componentChars="";const Ma=Da,Pa={};function Fa(t,e,i){"string"!=typeof e&&(i=e,e=Fa.defaultChars),void 0===i&&(i=!0);const n=function(t){let e=Pa[t];if(e)return e;e=Pa[t]=[];for(let t=0;t<128;t++){const i=String.fromCharCode(t);/^[0-9a-z]$/i.test(i)?e.push(i):e.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let i=0;i<t.length;i++)e[t.charCodeAt(i)]=t[i];return e}(e);let r="";for(let e=0,s=t.length;e<s;e++){const o=t.charCodeAt(e);if(i&&37===o&&e+2<s&&/^[0-9a-f]{2}$/i.test(t.slice(e+1,e+3)))r+=t.slice(e,e+3),e+=2;else if(o<128)r+=n[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&e+1<s){const i=t.charCodeAt(e+1);if(i>=56320&&i<=57343){r+=encodeURIComponent(t[e]+t[e+1]),e++;continue}}r+="%EF%BF%BD"}else r+=encodeURIComponent(t[e])}return r}Fa.defaultChars=";/?:@&=+$,-_.!~*'()#",Fa.componentChars="-_.!~*'()";const ja=Fa;function Ba(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function $a(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const za=/^([a-z0-9.+-]+:)/i,Ua=/:[0-9]*$/,qa=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ga=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Va=["'"].concat(Ga),Ha=["%","/","?",";","#"].concat(Va),Wa=["/","?","#"],Ka=/^[+a-z0-9A-Z_-]{0,63}$/,Xa=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ya={javascript:!0,"javascript:":!0},Ja={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};$a.prototype.parse=function(t,e){let i,n,r,s=t;if(s=s.trim(),!e&&1===t.split("#").length){const t=qa.exec(s);if(t)return this.pathname=t[1],t[2]&&(this.search=t[2]),this}let o=za.exec(s);if(o&&(o=o[0],i=o.toLowerCase(),this.protocol=o,s=s.substr(o.length)),(e||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r="//"===s.substr(0,2),!r||o&&Ya[o]||(s=s.substr(2),this.slashes=!0)),!Ya[o]&&(r||o&&!Ja[o])){let t,e,i=-1;for(let t=0;t<Wa.length;t++)n=s.indexOf(Wa[t]),-1!==n&&(-1===i||n<i)&&(i=n);e=-1===i?s.lastIndexOf("@"):s.lastIndexOf("@",i),-1!==e&&(t=s.slice(0,e),s=s.slice(e+1),this.auth=t),i=-1;for(let t=0;t<Ha.length;t++)n=s.indexOf(Ha[t]),-1!==n&&(-1===i||n<i)&&(i=n);-1===i&&(i=s.length),":"===s[i-1]&&i--;const r=s.slice(0,i);s=s.slice(i),this.parseHost(r),this.hostname=this.hostname||"";const o="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!o){const t=this.hostname.split(/\./);for(let e=0,i=t.length;e<i;e++){const i=t[e];if(i&&!i.match(Ka)){let n="";for(let t=0,e=i.length;t<e;t++)i.charCodeAt(t)>127?n+="x":n+=i[t];if(!n.match(Ka)){const n=t.slice(0,e),r=t.slice(e+1),o=i.match(Xa);o&&(n.push(o[1]),r.unshift(o[2])),r.length&&(s=r.join(".")+s),this.hostname=n.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),o&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=s.indexOf("#");-1!==a&&(this.hash=s.substr(a),s=s.slice(0,a));const l=s.indexOf("?");return-1!==l&&(this.search=s.substr(l),s=s.slice(0,l)),s&&(this.pathname=s),Ja[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},$a.prototype.parseHost=function(t){let e=Ua.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Za=function(t,e){if(t&&t instanceof $a)return t;const i=new $a;return i.parse(t,e),i},Qa=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,tl=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,el=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,il=/[\0-\x1F\x7F-\x9F]/,nl=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,sl=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ol=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map((t=>t.charCodeAt(0)))),al=new Uint16Array("Èaglq\tÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map((t=>t.charCodeAt(0))));var ll;const cl=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),ul=null!==(ll=String.fromCodePoint)&&void 0!==ll?ll:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};var hl,pl,fl,dl,ml;function gl(t){return t>=hl.ZERO&&t<=hl.NINE}!function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"}(hl||(hl={})),function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"}(pl||(pl={})),function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"}(fl||(fl={})),(ml=dl||(dl={}))[ml.Legacy=0]="Legacy",ml[ml.Strict=1]="Strict",ml[ml.Attribute=2]="Attribute";class yl{constructor(t,e,i){this.decodeTree=t,this.emitCodePoint=e,this.errors=i,this.state=fl.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=dl.Strict}startEntity(t){this.decodeMode=t,this.state=fl.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case fl.EntityStart:return t.charCodeAt(e)===hl.NUM?(this.state=fl.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=fl.NamedEntity,this.stateNamedEntity(t,e));case fl.NumericStart:return this.stateNumericStart(t,e);case fl.NumericDecimal:return this.stateNumericDecimal(t,e);case fl.NumericHex:return this.stateNumericHex(t,e);case fl.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===hl.LOWER_X?(this.state=fl.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=fl.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,i,n){if(e!==i){const r=i-e;this.result=this.result*Math.pow(n,r)+parseInt(t.substr(e,r),n),this.consumed+=r}}stateNumericHex(t,e){const i=e;for(;e<t.length;){const r=t.charCodeAt(e);if(!(gl(r)||(n=r,n>=hl.UPPER_A&&n<=hl.UPPER_F||n>=hl.LOWER_A&&n<=hl.LOWER_F)))return this.addToNumericResult(t,i,e,16),this.emitNumericEntity(r,3);e+=1}var n;return this.addToNumericResult(t,i,e,16),-1}stateNumericDecimal(t,e){const i=e;for(;e<t.length;){const n=t.charCodeAt(e);if(!gl(n))return this.addToNumericResult(t,i,e,10),this.emitNumericEntity(n,2);e+=1}return this.addToNumericResult(t,i,e,10),-1}emitNumericEntity(t,e){var i;if(this.consumed<=e)return null===(i=this.errors)||void 0===i||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===hl.SEMI)this.consumed+=1;else if(this.decodeMode===dl.Strict)return 0;return this.emitCodePoint(function(t){var e;return t>=55296&&t<=57343||t>1114111?65533:null!==(e=cl.get(t))&&void 0!==e?e:t}(this.result),this.consumed),this.errors&&(t!==hl.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:i}=this;let n=i[this.treeIndex],r=(n&pl.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const o=t.charCodeAt(e);if(this.treeIndex=_l(i,n,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return 0===this.result||this.decodeMode===dl.Attribute&&(0===r||((s=o)===hl.EQUALS||function(t){return t>=hl.UPPER_A&&t<=hl.UPPER_Z||t>=hl.LOWER_A&&t<=hl.LOWER_Z||gl(t)}(s)))?0:this.emitNotTerminatedNamedEntity();if(n=i[this.treeIndex],r=(n&pl.VALUE_LENGTH)>>14,0!==r){if(o===hl.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==dl.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}var s;return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:i}=this,n=(i[e]&pl.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,n,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,i){const{decodeTree:n}=this;return this.emitCodePoint(1===e?n[t]&~pl.VALUE_LENGTH:n[t+1],i),3===e&&this.emitCodePoint(n[t+2],i),i}end(){var t;switch(this.state){case fl.NamedEntity:return 0===this.result||this.decodeMode===dl.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case fl.NumericDecimal:return this.emitNumericEntity(0,2);case fl.NumericHex:return this.emitNumericEntity(0,3);case fl.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case fl.EntityStart:return 0}}}function bl(t){let e="";const i=new yl(t,(t=>e+=ul(t)));return function(t,n){let r=0,s=0;for(;(s=t.indexOf("&",s))>=0;){e+=t.slice(r,s),i.startEntity(n);const o=i.write(t,s+1);if(o<0){r=s+i.end();break}r=s+o,s=0===o?r+1:r}const o=e+t.slice(r);return e="",o}}function _l(t,e,i,n){const r=(e&pl.BRANCH_LENGTH)>>7,s=e&pl.JUMP_TABLE;if(0===r)return 0!==s&&n===s?i:-1;if(s){const e=n-s;return e<0||e>=r?-1:t[i+e]-1}let o=i,a=o+r-1;for(;o<=a;){const e=o+a>>>1,i=t[e];if(i<n)o=e+1;else{if(!(i>n))return t[e+r];a=e-1}}return-1}const vl=bl(ol);function wl(t,e=dl.Legacy){return vl(t,e)}function xl(t){for(let e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}bl(al),new Map(xl([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(xl([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(xl([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(xl([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const kl=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function El(t,e){return function(i){let n,r=0,s="";for(;n=t.exec(i);)r!==n.index&&(s+=i.substring(r,n.index)),s+=e.get(n[0].charCodeAt(0)),r=n.index+1;return s+i.substring(r)}}var Al,Sl;function Ol(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}String.prototype.codePointAt,El(/[&<>'"]/g,kl),El(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),El(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),function(t){t[t.XML=0]="XML",t[t.HTML=1]="HTML"}(Al||(Al={})),function(t){t[t.UTF8=0]="UTF8",t[t.ASCII=1]="ASCII",t[t.Extensive=2]="Extensive",t[t.Attribute=3]="Attribute",t[t.Text=4]="Text"}(Sl||(Sl={}));const Tl=Object.prototype.hasOwnProperty;function Cl(t,e){return Tl.call(t,e)}function Nl(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(i){t[i]=e[i]}))}})),t}function Il(t,e,i){return[].concat(t.slice(0,e),i,t.slice(e+1))}function Ll(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||!(65535&~t&&65534!=(65535&t))||t>=0&&t<=8||11===t||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function Rl(t){if(t>65535){const e=55296+((t-=65536)>>10),i=56320+(1023&t);return String.fromCharCode(e,i)}return String.fromCharCode(t)}const Dl=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Ml=new RegExp(Dl.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),Pl=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Fl(t){return t.indexOf("\\")<0?t:t.replace(Dl,"$1")}function jl(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Ml,(function(t,e,i){return e||function(t,e){if(35===e.charCodeAt(0)&&Pl.test(e)){const i="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Ll(i)?Rl(i):t}const i=wl(t);return i!==t?i:t}(t,i)}))}const Bl=/[&<>"]/,$l=/[&<>"]/g,zl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Ul(t){return zl[t]}function ql(t){return Bl.test(t)?t.replace($l,Ul):t}const Gl=/[.?*+^$[\]\\(){}|-]/g;function Vl(t){return t.replace(Gl,"\\$&")}function Hl(t){switch(t){case 9:case 32:return!0}return!1}function Wl(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Kl(t){return Qa.test(t)||tl.test(t)}function Xl(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Yl(t){return t=t.trim().replace(/\s+/g," "),"á¹¾"==="áº".toLowerCase()&&(t=t.replace(/áº/g,"Ã")),t.toLowerCase().toUpperCase()}const Jl={mdurl:t,ucmicro:e};function Zl(t,e,i){let n,r,s,o;const a=t.posMax,l=t.pos;for(t.pos=e+1,n=1;t.pos<a;){if(s=t.src.charCodeAt(t.pos),93===s&&(n--,0===n)){r=!0;break}if(o=t.pos,t.md.inline.skipToken(t),91===s)if(o===t.pos-1)n++;else if(i)return t.pos=l,-1}let c=-1;return r&&(c=t.pos),t.pos=l,c}function Ql(t,e,i){let n,r=e;const s={ok:!1,pos:0,str:""};if(60===t.charCodeAt(r)){for(r++;r<i;){if(n=t.charCodeAt(r),10===n)return s;if(60===n)return s;if(62===n)return s.pos=r+1,s.str=jl(t.slice(e+1,r)),s.ok=!0,s;92===n&&r+1<i?r+=2:r++}return s}let o=0;for(;r<i&&(n=t.charCodeAt(r),32!==n)&&!(n<32||127===n);)if(92===n&&r+1<i){if(32===t.charCodeAt(r+1))break;r+=2}else{if(40===n&&(o++,o>32))return s;if(41===n){if(0===o)break;o--}r++}return e===r||0!==o||(s.str=jl(t.slice(e,r)),s.pos=r,s.ok=!0),s}function tc(t,e,i,n){let r,s=e;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(n)o.str=n.str,o.marker=n.marker;else{if(s>=i)return o;let n=t.charCodeAt(s);if(34!==n&&39!==n&&40!==n)return o;e++,s++,40===n&&(n=41),o.marker=n}for(;s<i;){if(r=t.charCodeAt(s),r===o.marker)return o.pos=s+1,o.str+=jl(t.slice(e,s)),o.ok=!0,o;if(40===r&&41===o.marker)return o;92===r&&s+1<i&&s++,s++}return o.can_continue=!0,o.str+=jl(t.slice(e,s)),o}const ec={};function ic(){this.rules=Nl({},ec)}ec.code_inline=function(t,e,i,n,r){const s=t[e];return"<code"+r.renderAttrs(s)+">"+ql(s.content)+"</code>"},ec.code_block=function(t,e,i,n,r){const s=t[e];return"<pre"+r.renderAttrs(s)+"><code>"+ql(t[e].content)+"</code></pre>\n"},ec.fence=function(t,e,i,n,r){const s=t[e],o=s.info?jl(s.info).trim():"";let a,l="",c="";if(o){const t=o.split(/(\s+)/g);l=t[0],c=t.slice(2).join("")}if(a=i.highlight&&i.highlight(s.content,l,c)||ql(s.content),0===a.indexOf("<pre"))return a+"\n";if(o){const t=s.attrIndex("class"),e=s.attrs?s.attrs.slice():[];t<0?e.push(["class",i.langPrefix+l]):(e[t]=e[t].slice(),e[t][1]+=" "+i.langPrefix+l);const n={attrs:e};return`<pre><code${r.renderAttrs(n)}>${a}</code></pre>\n`}return`<pre><code${r.renderAttrs(s)}>${a}</code></pre>\n`},ec.image=function(t,e,i,n,r){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=r.renderInlineAsText(s.children,i,n),r.renderToken(t,e,i)},ec.hardbreak=function(t,e,i){return i.xhtmlOut?"<br />\n":"<br>\n"},ec.softbreak=function(t,e,i){return i.breaks?i.xhtmlOut?"<br />\n":"<br>\n":"\n"},ec.text=function(t,e){return ql(t[e].content)},ec.html_block=function(t,e){return t[e].content},ec.html_inline=function(t,e){return t[e].content},ic.prototype.renderAttrs=function(t){let e,i,n;if(!t.attrs)return"";for(n="",e=0,i=t.attrs.length;e<i;e++)n+=" "+ql(t.attrs[e][0])+'="'+ql(t.attrs[e][1])+'"';return n},ic.prototype.renderToken=function(t,e,i){const n=t[e];let r="";if(n.hidden)return"";n.block&&-1!==n.nesting&&e&&t[e-1].hidden&&(r+="\n"),r+=(-1===n.nesting?"</":"<")+n.tag,r+=this.renderAttrs(n),0===n.nesting&&i.xhtmlOut&&(r+=" /");let s=!1;if(n.block&&(s=!0,1===n.nesting&&e+1<t.length)){const i=t[e+1];("inline"===i.type||i.hidden||-1===i.nesting&&i.tag===n.tag)&&(s=!1)}return r+=s?">\n":">",r},ic.prototype.renderInline=function(t,e,i){let n="";const r=this.rules;for(let s=0,o=t.length;s<o;s++){const o=t[s].type;void 0!==r[o]?n+=r[o](t,s,e,i,this):n+=this.renderToken(t,s,e)}return n},ic.prototype.renderInlineAsText=function(t,e,i){let n="";for(let r=0,s=t.length;r<s;r++)switch(t[r].type){case"text":case"html_inline":case"html_block":n+=t[r].content;break;case"image":n+=this.renderInlineAsText(t[r].children,e,i);break;case"softbreak":case"hardbreak":n+="\n"}return n},ic.prototype.render=function(t,e,i){let n="";const r=this.rules;for(let s=0,o=t.length;s<o;s++){const o=t[s].type;"inline"===o?n+=this.renderInline(t[s].children,e,i):void 0!==r[o]?n+=r[o](t,s,e,i,this):n+=this.renderToken(t,s,e,i)}return n};const nc=ic;function rc(){this.__rules__=[],this.__cache__=null}rc.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},rc.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(i){i.enabled&&(e&&i.alt.indexOf(e)<0||t.__cache__[e].push(i.fn))}))}))},rc.prototype.at=function(t,e,i){const n=this.__find__(t),r=i||{};if(-1===n)throw new Error("Parser rule not found: "+t);this.__rules__[n].fn=e,this.__rules__[n].alt=r.alt||[],this.__cache__=null},rc.prototype.before=function(t,e,i,n){const r=this.__find__(t),s=n||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__.splice(r,0,{name:e,enabled:!0,fn:i,alt:s.alt||[]}),this.__cache__=null},rc.prototype.after=function(t,e,i,n){const r=this.__find__(t),s=n||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__.splice(r+1,0,{name:e,enabled:!0,fn:i,alt:s.alt||[]}),this.__cache__=null},rc.prototype.push=function(t,e,i){const n=i||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:n.alt||[]}),this.__cache__=null},rc.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const i=[];return t.forEach((function(t){const n=this.__find__(t);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[n].enabled=!0,i.push(t)}),this),this.__cache__=null,i},rc.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},rc.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const i=[];return t.forEach((function(t){const n=this.__find__(t);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[n].enabled=!1,i.push(t)}),this),this.__cache__=null,i},rc.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]};const sc=rc;function oc(t,e,i){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=i,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}oc.prototype.attrIndex=function(t){if(!this.attrs)return-1;const e=this.attrs;for(let i=0,n=e.length;i<n;i++)if(e[i][0]===t)return i;return-1},oc.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},oc.prototype.attrSet=function(t,e){const i=this.attrIndex(t),n=[t,e];i<0?this.attrPush(n):this.attrs[i]=n},oc.prototype.attrGet=function(t){const e=this.attrIndex(t);let i=null;return e>=0&&(i=this.attrs[e][1]),i},oc.prototype.attrJoin=function(t,e){const i=this.attrIndex(t);i<0?this.attrPush([t,e]):this.attrs[i][1]=this.attrs[i][1]+" "+e};const ac=oc;function lc(t,e,i){this.src=t,this.env=i,this.tokens=[],this.inlineMode=!1,this.md=e}lc.prototype.Token=ac;const cc=lc,uc=/\r\n?|\n/g,hc=/\0/g;function pc(t){return/^<\/a\s*>/i.test(t)}const fc=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,dc=/\((c|tm|r)\)/i,mc=/\((c|tm|r)\)/gi,gc={c:"Â©",r:"Â®",tm:"â¢"};function yc(t,e){return gc[e.toLowerCase()]}function bc(t){let e=0;for(let i=t.length-1;i>=0;i--){const n=t[i];"text"!==n.type||e||(n.content=n.content.replace(mc,yc)),"link_open"===n.type&&"auto"===n.info&&e--,"link_close"===n.type&&"auto"===n.info&&e++}}function _c(t){let e=0;for(let i=t.length-1;i>=0;i--){const n=t[i];"text"!==n.type||e||fc.test(n.content)&&(n.content=n.content.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â¦").replace(/([?!])â¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1â").replace(/(^|\s)--(?=\s|$)/gm,"$1â").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1â")),"link_open"===n.type&&"auto"===n.info&&e--,"link_close"===n.type&&"auto"===n.info&&e++}}const vc=/['"]/,wc=/['"]/g;function xc(t,e,i){return t.slice(0,e)+i+t.slice(e+1)}function kc(t,e){let i;const n=[];for(let r=0;r<t.length;r++){const s=t[r],o=t[r].level;for(i=n.length-1;i>=0&&!(n[i].level<=o);i--);if(n.length=i+1,"text"!==s.type)continue;let a=s.content,l=0,c=a.length;t:for(;l<c;){wc.lastIndex=l;const u=wc.exec(a);if(!u)break;let h=!0,p=!0;l=u.index+1;const f="'"===u[0];let d=32;if(u.index-1>=0)d=a.charCodeAt(u.index-1);else for(i=r-1;i>=0&&"softbreak"!==t[i].type&&"hardbreak"!==t[i].type;i--)if(t[i].content){d=t[i].content.charCodeAt(t[i].content.length-1);break}let m=32;if(l<c)m=a.charCodeAt(l);else for(i=r+1;i<t.length&&"softbreak"!==t[i].type&&"hardbreak"!==t[i].type;i++)if(t[i].content){m=t[i].content.charCodeAt(0);break}const g=Xl(d)||Kl(String.fromCharCode(d)),y=Xl(m)||Kl(String.fromCharCode(m)),b=Wl(d),_=Wl(m);if(_?h=!1:y&&(b||g||(h=!1)),b?p=!1:g&&(_||y||(p=!1)),34===m&&'"'===u[0]&&d>=48&&d<=57&&(p=h=!1),h&&p&&(h=g,p=y),h||p){if(p)for(i=n.length-1;i>=0;i--){let h=n[i];if(n[i].level<o)break;if(h.single===f&&n[i].level===o){let o,p;h=n[i],f?(o=e.md.options.quotes[2],p=e.md.options.quotes[3]):(o=e.md.options.quotes[0],p=e.md.options.quotes[1]),s.content=xc(s.content,u.index,p),t[h.token].content=xc(t[h.token].content,h.pos,o),l+=p.length-1,h.token===r&&(l+=o.length-1),a=s.content,c=a.length,n.length=i;continue t}}h?n.push({token:r,pos:u.index,single:f,level:o}):p&&f&&(s.content=xc(s.content,u.index,"â"))}else f&&(s.content=xc(s.content,u.index,"â"))}}}const Ec=[["normalize",function(t){let e;e=t.src.replace(uc,"\n"),e=e.replace(hc,"ï¿½"),t.src=e}],["block",function(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const e=t.tokens;for(let i=0,n=e.length;i<n;i++){const n=e[i];"inline"===n.type&&t.md.inline.parse(n.content,t.md,t.env,n.children)}}],["linkify",function(t){const e=t.tokens;var i;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if("inline"!==e[n].type||!t.md.linkify.pretest(e[n].content))continue;let r=e[n].children,s=0;for(let o=r.length-1;o>=0;o--){const a=r[o];if("link_close"!==a.type){if("html_inline"===a.type&&(i=a.content,/^<a[>\s]/i.test(i)&&s>0&&s--,pc(a.content)&&s++),!(s>0)&&"text"===a.type&&t.md.linkify.test(a.content)){const i=a.content;let s=t.md.linkify.match(i);const l=[];let c=a.level,u=0;s.length>0&&0===s[0].index&&o>0&&"text_special"===r[o-1].type&&(s=s.slice(1));for(let e=0;e<s.length;e++){const n=s[e].url,r=t.md.normalizeLink(n);if(!t.md.validateLink(r))continue;let o=s[e].text;o=s[e].schema?"mailto:"!==s[e].schema||/^mailto:/i.test(o)?t.md.normalizeLinkText(o):t.md.normalizeLinkText("mailto:"+o).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+o).replace(/^http:\/\//,"");const a=s[e].index;if(a>u){const e=new t.Token("text","",0);e.content=i.slice(u,a),e.level=c,l.push(e)}const h=new t.Token("link_open","a",1);h.attrs=[["href",r]],h.level=c++,h.markup="linkify",h.info="auto",l.push(h);const p=new t.Token("text","",0);p.content=o,p.level=c,l.push(p);const f=new t.Token("link_close","a",-1);f.level=--c,f.markup="linkify",f.info="auto",l.push(f),u=s[e].lastIndex}if(u<i.length){const e=new t.Token("text","",0);e.content=i.slice(u),e.level=c,l.push(e)}e[n].children=r=Il(r,o,l)}}else for(o--;r[o].level!==a.level&&"link_open"!==r[o].type;)o--}}}],["replacements",function(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(dc.test(t.tokens[e].content)&&bc(t.tokens[e].children),fc.test(t.tokens[e].content)&&_c(t.tokens[e].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&vc.test(t.tokens[e].content)&&kc(t.tokens[e].children,t)}],["text_join",function(t){let e,i;const n=t.tokens,r=n.length;for(let t=0;t<r;t++){if("inline"!==n[t].type)continue;const r=n[t].children,s=r.length;for(e=0;e<s;e++)"text_special"===r[e].type&&(r[e].type="text");for(e=i=0;e<s;e++)"text"===r[e].type&&e+1<s&&"text"===r[e+1].type?r[e+1].content=r[e].content+r[e+1].content:(e!==i&&(r[i]=r[e]),i++);e!==i&&(r.length=i)}}]];function Ac(){this.ruler=new sc;for(let t=0;t<Ec.length;t++)this.ruler.push(Ec[t][0],Ec[t][1])}Ac.prototype.process=function(t){const e=this.ruler.getRules("");for(let i=0,n=e.length;i<n;i++)e[i](t)},Ac.prototype.State=cc;const Sc=Ac;function Oc(t,e,i,n){this.src=t,this.md=e,this.env=i,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const r=this.src;for(let t=0,e=0,i=0,n=0,s=r.length,o=!1;e<s;e++){const a=r.charCodeAt(e);if(!o){if(Hl(a)){i++,9===a?n+=4-n%4:n++;continue}o=!0}10!==a&&e!==s-1||(10!==a&&e++,this.bMarks.push(t),this.eMarks.push(e),this.tShift.push(i),this.sCount.push(n),this.bsCount.push(0),o=!1,i=0,n=0,t=e+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Oc.prototype.push=function(t,e,i){const n=new ac(t,e,i);return n.block=!0,i<0&&this.level--,n.level=this.level,i>0&&this.level++,this.tokens.push(n),n},Oc.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},Oc.prototype.skipEmptyLines=function(t){for(let e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},Oc.prototype.skipSpaces=function(t){for(let e=this.src.length;t<e&&Hl(this.src.charCodeAt(t));t++);return t},Oc.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!Hl(this.src.charCodeAt(--t)))return t+1;return t},Oc.prototype.skipChars=function(t,e){for(let i=this.src.length;t<i&&this.src.charCodeAt(t)===e;t++);return t},Oc.prototype.skipCharsBack=function(t,e,i){if(t<=i)return t;for(;t>i;)if(e!==this.src.charCodeAt(--t))return t+1;return t},Oc.prototype.getLines=function(t,e,i,n){if(t>=e)return"";const r=new Array(e-t);for(let s=0,o=t;o<e;o++,s++){let t=0;const a=this.bMarks[o];let l,c=a;for(l=o+1<e||n?this.eMarks[o]+1:this.eMarks[o];c<l&&t<i;){const e=this.src.charCodeAt(c);if(Hl(e))9===e?t+=4-(t+this.bsCount[o])%4:t++;else{if(!(c-a<this.tShift[o]))break;t++}c++}r[s]=t>i?new Array(t-i+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return r.join("")},Oc.prototype.Token=ac;const Tc=Oc;function Cc(t,e){const i=t.bMarks[e]+t.tShift[e],n=t.eMarks[e];return t.src.slice(i,n)}function Nc(t){const e=[],i=t.length;let n=0,r=t.charCodeAt(n),s=!1,o=0,a="";for(;n<i;)124===r&&(s?(a+=t.substring(o,n-1),o=n):(e.push(a+t.substring(o,n)),a="",o=n+1)),s=92===r,n++,r=t.charCodeAt(n);return e.push(a+t.substring(o)),e}function Ic(t,e){const i=t.eMarks[e];let n=t.bMarks[e]+t.tShift[e];const r=t.src.charCodeAt(n++);return 42!==r&&45!==r&&43!==r||n<i&&!Hl(t.src.charCodeAt(n))?-1:n}function Lc(t,e){const i=t.bMarks[e]+t.tShift[e],n=t.eMarks[e];let r=i;if(r+1>=n)return-1;let s=t.src.charCodeAt(r++);if(s<48||s>57)return-1;for(;;){if(r>=n)return-1;if(s=t.src.charCodeAt(r++),!(s>=48&&s<=57)){if(41===s||46===s)break;return-1}if(r-i>=10)return-1}return r<n&&(s=t.src.charCodeAt(r),!Hl(s))?-1:r}const Rc="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",Dc="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Mc=new RegExp("^(?:"+Rc+"|"+Dc+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),Pc=new RegExp("^(?:"+Rc+"|"+Dc+")"),Fc=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Pc.source+"\\s*$"),/^$/,!1]],jc=[["table",function(t,e,i,n){if(e+2>i)return!1;let r=e+1;if(t.sCount[r]<t.blkIndent)return!1;if(t.sCount[r]-t.blkIndent>=4)return!1;let s=t.bMarks[r]+t.tShift[r];if(s>=t.eMarks[r])return!1;const o=t.src.charCodeAt(s++);if(124!==o&&45!==o&&58!==o)return!1;if(s>=t.eMarks[r])return!1;const a=t.src.charCodeAt(s++);if(124!==a&&45!==a&&58!==a&&!Hl(a))return!1;if(45===o&&Hl(a))return!1;for(;s<t.eMarks[r];){const e=t.src.charCodeAt(s);if(124!==e&&45!==e&&58!==e&&!Hl(e))return!1;s++}let l=Cc(t,e+1),c=l.split("|");const u=[];for(let t=0;t<c.length;t++){const e=c[t].trim();if(!e){if(0===t||t===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(e))return!1;58===e.charCodeAt(e.length-1)?u.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?u.push("left"):u.push("")}if(l=Cc(t,e).trim(),-1===l.indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;c=Nc(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const h=c.length;if(0===h||h!==u.length)return!1;if(n)return!0;const p=t.parentType;t.parentType="table";const f=t.md.block.ruler.getRules("blockquote"),d=[e,0];t.push("table_open","table",1).map=d,t.push("thead_open","thead",1).map=[e,e+1],t.push("tr_open","tr",1).map=[e,e+1];for(let e=0;e<c.length;e++){const i=t.push("th_open","th",1);u[e]&&(i.attrs=[["style","text-align:"+u[e]]]);const n=t.push("inline","",0);n.content=c[e].trim(),n.children=[],t.push("th_close","th",-1)}let m;t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let g=0;for(r=e+2;r<i&&!(t.sCount[r]<t.blkIndent);r++){let n=!1;for(let e=0,s=f.length;e<s;e++)if(f[e](t,r,i,!0)){n=!0;break}if(n)break;if(l=Cc(t,r).trim(),!l)break;if(t.sCount[r]-t.blkIndent>=4)break;if(c=Nc(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),g+=h-c.length,g>65536)break;r===e+2&&(t.push("tbody_open","tbody",1).map=m=[e+2,0]),t.push("tr_open","tr",1).map=[r,r+1];for(let e=0;e<h;e++){const i=t.push("td_open","td",1);u[e]&&(i.attrs=[["style","text-align:"+u[e]]]);const n=t.push("inline","",0);n.content=c[e]?c[e].trim():"",n.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return m&&(t.push("tbody_close","tbody",-1),m[1]=r),t.push("table_close","table",-1),d[1]=r,t.parentType=p,t.line=r,!0},["paragraph","reference"]],["code",function(t,e,i){if(t.sCount[e]-t.blkIndent<4)return!1;let n=e+1,r=n;for(;n<i;)if(t.isEmpty(n))n++;else{if(!(t.sCount[n]-t.blkIndent>=4))break;n++,r=n}t.line=r;const s=t.push("code_block","code",0);return s.content=t.getLines(e,r,4+t.blkIndent,!1)+"\n",s.map=[e,t.line],!0}],["fence",function(t,e,i,n){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(r+3>s)return!1;const o=t.src.charCodeAt(r);if(126!==o&&96!==o)return!1;let a=r;r=t.skipChars(r,o);let l=r-a;if(l<3)return!1;const c=t.src.slice(a,r),u=t.src.slice(r,s);if(96===o&&u.indexOf(String.fromCharCode(o))>=0)return!1;if(n)return!0;let h=e,p=!1;for(;!(h++,h>=i||(r=a=t.bMarks[h]+t.tShift[h],s=t.eMarks[h],r<s&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(r)===o&&!(t.sCount[h]-t.blkIndent>=4||(r=t.skipChars(r,o),r-a<l||(r=t.skipSpaces(r),r<s)))){p=!0;break}l=t.sCount[e],t.line=h+(p?1:0);const f=t.push("fence","code",0);return f.info=u,f.content=t.getLines(e+1,h,l,!0),f.markup=c,f.map=[e,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,e,i,n){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const o=t.lineMax;if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(r))return!1;if(n)return!0;const a=[],l=[],c=[],u=[],h=t.md.block.ruler.getRules("blockquote"),p=t.parentType;t.parentType="blockquote";let f,d=!1;for(f=e;f<i;f++){const e=t.sCount[f]<t.blkIndent;if(r=t.bMarks[f]+t.tShift[f],s=t.eMarks[f],r>=s)break;if(62===t.src.charCodeAt(r++)&&!e){let e,i,n=t.sCount[f]+1;32===t.src.charCodeAt(r)?(r++,n++,i=!1,e=!0):9===t.src.charCodeAt(r)?(e=!0,(t.bsCount[f]+n)%4==3?(r++,n++,i=!1):i=!0):e=!1;let o=n;for(a.push(t.bMarks[f]),t.bMarks[f]=r;r<s;){const e=t.src.charCodeAt(r);if(!Hl(e))break;9===e?o+=4-(o+t.bsCount[f]+(i?1:0))%4:o++,r++}d=r>=s,l.push(t.bsCount[f]),t.bsCount[f]=t.sCount[f]+1+(e?1:0),c.push(t.sCount[f]),t.sCount[f]=o-n,u.push(t.tShift[f]),t.tShift[f]=r-t.bMarks[f];continue}if(d)break;let n=!1;for(let e=0,r=h.length;e<r;e++)if(h[e](t,f,i,!0)){n=!0;break}if(n){t.lineMax=f,0!==t.blkIndent&&(a.push(t.bMarks[f]),l.push(t.bsCount[f]),u.push(t.tShift[f]),c.push(t.sCount[f]),t.sCount[f]-=t.blkIndent);break}a.push(t.bMarks[f]),l.push(t.bsCount[f]),u.push(t.tShift[f]),c.push(t.sCount[f]),t.sCount[f]=-1}const m=t.blkIndent;t.blkIndent=0;const g=t.push("blockquote_open","blockquote",1);g.markup=">";const y=[e,0];g.map=y,t.md.block.tokenize(t,e,f),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=o,t.parentType=p,y[1]=t.line;for(let i=0;i<u.length;i++)t.bMarks[i+e]=a[i],t.tShift[i+e]=u[i],t.sCount[i+e]=c[i],t.bsCount[i+e]=l[i];return t.blkIndent=m,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,e,i,n){const r=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const o=t.src.charCodeAt(s++);if(42!==o&&45!==o&&95!==o)return!1;let a=1;for(;s<r;){const e=t.src.charCodeAt(s++);if(e!==o&&!Hl(e))return!1;e===o&&a++}if(a<3)return!1;if(n)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(o)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,e,i,n){let r,s,o,a,l=e,c=!0;if(t.sCount[l]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let u,h,p,f=!1;if(n&&"paragraph"===t.parentType&&t.sCount[l]>=t.blkIndent&&(f=!0),(p=Lc(t,l))>=0){if(u=!0,o=t.bMarks[l]+t.tShift[l],h=Number(t.src.slice(o,p-1)),f&&1!==h)return!1}else{if(!((p=Ic(t,l))>=0))return!1;u=!1}if(f&&t.skipSpaces(p)>=t.eMarks[l])return!1;if(n)return!0;const d=t.src.charCodeAt(p-1),m=t.tokens.length;u?(a=t.push("ordered_list_open","ol",1),1!==h&&(a.attrs=[["start",h]])):a=t.push("bullet_list_open","ul",1);const g=[l,0];a.map=g,a.markup=String.fromCharCode(d);let y=!1;const b=t.md.block.ruler.getRules("list"),_=t.parentType;for(t.parentType="list";l<i;){s=p,r=t.eMarks[l];const e=t.sCount[l]+p-(t.bMarks[l]+t.tShift[l]);let n=e;for(;s<r;){const e=t.src.charCodeAt(s);if(9===e)n+=4-(n+t.bsCount[l])%4;else{if(32!==e)break;n++}s++}const h=s;let f;f=h>=r?1:n-e,f>4&&(f=1);const m=e+f;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(d);const g=[l,0];a.map=g,u&&(a.info=t.src.slice(o,p-1));const _=t.tight,v=t.tShift[l],w=t.sCount[l],x=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=m,t.tight=!0,t.tShift[l]=h-t.bMarks[l],t.sCount[l]=n,h>=r&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,i):t.md.block.tokenize(t,l,i,!0),t.tight&&!y||(c=!1),y=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=x,t.tShift[l]=v,t.sCount[l]=w,t.tight=_,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(d),l=t.line,g[1]=l,l>=i)break;if(t.sCount[l]<t.blkIndent)break;if(t.sCount[l]-t.blkIndent>=4)break;let k=!1;for(let e=0,n=b.length;e<n;e++)if(b[e](t,l,i,!0)){k=!0;break}if(k)break;if(u){if(p=Lc(t,l),p<0)break;o=t.bMarks[l]+t.tShift[l]}else if(p=Ic(t,l),p<0)break;if(d!==t.src.charCodeAt(p-1))break}return a=u?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(d),g[1]=l,t.line=l,t.parentType=_,c&&function(t,e){const i=t.level+2;for(let n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===i&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}(t,m),!0},["paragraph","reference","blockquote"]],["reference",function(t,e,i,n){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],o=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(r))return!1;function a(e){const i=t.lineMax;if(e>=i||t.isEmpty(e))return null;let n=!1;if(t.sCount[e]-t.blkIndent>3&&(n=!0),t.sCount[e]<0&&(n=!0),!n){const n=t.md.block.ruler.getRules("reference"),r=t.parentType;t.parentType="reference";let s=!1;for(let r=0,o=n.length;r<o;r++)if(n[r](t,e,i,!0)){s=!0;break}if(t.parentType=r,s)return null}const r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];return t.src.slice(r,s+1)}let l=t.src.slice(r,s+1);s=l.length;let c=-1;for(r=1;r<s;r++){const t=l.charCodeAt(r);if(91===t)return!1;if(93===t){c=r;break}if(10===t){const t=a(o);null!==t&&(l+=t,s=l.length,o++)}else if(92===t&&(r++,r<s&&10===l.charCodeAt(r))){const t=a(o);null!==t&&(l+=t,s=l.length,o++)}}if(c<0||58!==l.charCodeAt(c+1))return!1;for(r=c+2;r<s;r++){const t=l.charCodeAt(r);if(10===t){const t=a(o);null!==t&&(l+=t,s=l.length,o++)}else if(!Hl(t))break}const u=t.md.helpers.parseLinkDestination(l,r,s);if(!u.ok)return!1;const h=t.md.normalizeLink(u.str);if(!t.md.validateLink(h))return!1;r=u.pos;const p=r,f=o,d=r;for(;r<s;r++){const t=l.charCodeAt(r);if(10===t){const t=a(o);null!==t&&(l+=t,s=l.length,o++)}else if(!Hl(t))break}let m,g=t.md.helpers.parseLinkTitle(l,r,s);for(;g.can_continue;){const e=a(o);if(null===e)break;l+=e,r=s,s=l.length,o++,g=t.md.helpers.parseLinkTitle(l,r,s,g)}for(r<s&&d!==r&&g.ok?(m=g.str,r=g.pos):(m="",r=p,o=f);r<s&&Hl(l.charCodeAt(r));)r++;if(r<s&&10!==l.charCodeAt(r)&&m)for(m="",r=p,o=f;r<s&&Hl(l.charCodeAt(r));)r++;if(r<s&&10!==l.charCodeAt(r))return!1;const y=Yl(l.slice(1,c));return!!y&&(n||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[y]&&(t.env.references[y]={title:m,href:h}),t.line=o),!0)}],["html_block",function(t,e,i,n){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(r))return!1;let o=t.src.slice(r,s),a=0;for(;a<Fc.length&&!Fc[a][0].test(o);a++);if(a===Fc.length)return!1;if(n)return Fc[a][2];let l=e+1;if(!Fc[a][1].test(o))for(;l<i&&!(t.sCount[l]<t.blkIndent);l++)if(r=t.bMarks[l]+t.tShift[l],s=t.eMarks[l],o=t.src.slice(r,s),Fc[a][1].test(o)){0!==o.length&&l++;break}t.line=l;const c=t.push("html_block","",0);return c.map=[e,l],c.content=t.getLines(e,l,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,e,i,n){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.src.charCodeAt(r);if(35!==o||r>=s)return!1;let a=1;for(o=t.src.charCodeAt(++r);35===o&&r<s&&a<=6;)a++,o=t.src.charCodeAt(++r);if(a>6||r<s&&!Hl(o))return!1;if(n)return!0;s=t.skipSpacesBack(s,r);const l=t.skipCharsBack(s,35,r);l>r&&Hl(t.src.charCodeAt(l-1))&&(s=l),t.line=e+1;const c=t.push("heading_open","h"+String(a),1);c.markup="########".slice(0,a),c.map=[e,t.line];const u=t.push("inline","",0);return u.content=t.src.slice(r,s).trim(),u.map=[e,t.line],u.children=[],t.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(t,e,i){const n=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const r=t.parentType;t.parentType="paragraph";let s,o=0,a=e+1;for(;a<i&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let e=t.bMarks[a]+t.tShift[a];const i=t.eMarks[a];if(e<i&&(s=t.src.charCodeAt(e),(45===s||61===s)&&(e=t.skipChars(e,s),e=t.skipSpaces(e),e>=i))){o=61===s?1:2;break}}if(t.sCount[a]<0)continue;let e=!1;for(let r=0,s=n.length;r<s;r++)if(n[r](t,a,i,!0)){e=!0;break}if(e)break}if(!o)return!1;const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const c=t.push("heading_open","h"+String(o),1);c.markup=String.fromCharCode(s),c.map=[e,t.line];const u=t.push("inline","",0);return u.content=l,u.map=[e,t.line-1],u.children=[],t.push("heading_close","h"+String(o),-1).markup=String.fromCharCode(s),t.parentType=r,!0}],["paragraph",function(t,e,i){const n=t.md.block.ruler.getRules("paragraph"),r=t.parentType;let s=e+1;for(t.parentType="paragraph";s<i&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3)continue;if(t.sCount[s]<0)continue;let e=!1;for(let r=0,o=n.length;r<o;r++)if(n[r](t,s,i,!0)){e=!0;break}if(e)break}const o=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s,t.push("paragraph_open","p",1).map=[e,t.line];const a=t.push("inline","",0);return a.content=o,a.map=[e,t.line],a.children=[],t.push("paragraph_close","p",-1),t.parentType=r,!0}]];function Bc(){this.ruler=new sc;for(let t=0;t<jc.length;t++)this.ruler.push(jc[t][0],jc[t][1],{alt:(jc[t][2]||[]).slice()})}Bc.prototype.tokenize=function(t,e,i){const n=this.ruler.getRules(""),r=n.length,s=t.md.options.maxNesting;let o=e,a=!1;for(;o<i&&(t.line=o=t.skipEmptyLines(o),!(o>=i))&&!(t.sCount[o]<t.blkIndent);){if(t.level>=s){t.line=i;break}const e=t.line;let l=!1;for(let s=0;s<r;s++)if(l=n[s](t,o,i,!1),l){if(e>=t.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),o=t.line,o<i&&t.isEmpty(o)&&(a=!0,o++,t.line=o)}},Bc.prototype.parse=function(t,e,i,n){if(!t)return;const r=new this.State(t,e,i,n);this.tokenize(r,r.line,r.lineMax)},Bc.prototype.State=Tc;const $c=Bc;function zc(t,e,i,n){this.src=t,this.env=i,this.md=e,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}zc.prototype.pushPending=function(){const t=new ac("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},zc.prototype.push=function(t,e,i){this.pending&&this.pushPending();const n=new ac(t,e,i);let r=null;return i<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,i>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(r),n},zc.prototype.scanDelims=function(t,e){const i=this.posMax,n=this.src.charCodeAt(t),r=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<i&&this.src.charCodeAt(s)===n;)s++;const o=s-t,a=s<i?this.src.charCodeAt(s):32,l=Xl(r)||Kl(String.fromCharCode(r)),c=Xl(a)||Kl(String.fromCharCode(a)),u=Wl(r),h=Wl(a),p=!h&&(!c||u||l),f=!u&&(!l||h||c);return{can_open:p&&(e||!f||l),can_close:f&&(e||!p||c),length:o}},zc.prototype.Token=ac;const Uc=zc;function qc(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}const Gc=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,Vc=[];for(let t=0;t<256;t++)Vc.push(0);function Hc(t,e){let i;const n=[],r=e.length;for(let s=0;s<r;s++){const r=e[s];if(126!==r.marker)continue;if(-1===r.end)continue;const o=e[r.end];i=t.tokens[r.token],i.type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",i=t.tokens[o.token],i.type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="","text"===t.tokens[o.token-1].type&&"~"===t.tokens[o.token-1].content&&n.push(o.token-1)}for(;n.length;){const e=n.pop();let r=e+1;for(;r<t.tokens.length&&"s_close"===t.tokens[r].type;)r++;r--,e!==r&&(i=t.tokens[r],t.tokens[r]=t.tokens[e],t.tokens[e]=i)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){Vc[t.charCodeAt(0)]=1}));const Wc={tokenize:function(t,e){const i=t.pos,n=t.src.charCodeAt(i);if(e)return!1;if(126!==n)return!1;const r=t.scanDelims(t.pos,!0);let s=r.length;const o=String.fromCharCode(n);if(s<2)return!1;let a;s%2&&(a=t.push("text","",0),a.content=o,s--);for(let e=0;e<s;e+=2)a=t.push("text","",0),a.content=o+o,t.delimiters.push({marker:n,length:0,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0},postProcess:function(t){const e=t.tokens_meta,i=t.tokens_meta.length;Hc(t,t.delimiters);for(let n=0;n<i;n++)e[n]&&e[n].delimiters&&Hc(t,e[n].delimiters)}};function Kc(t,e){for(let i=e.length-1;i>=0;i--){const n=e[i];if(95!==n.marker&&42!==n.marker)continue;if(-1===n.end)continue;const r=e[n.end],s=i>0&&e[i-1].end===n.end+1&&e[i-1].marker===n.marker&&e[i-1].token===n.token-1&&e[n.end+1].token===r.token+1,o=String.fromCharCode(n.marker),a=t.tokens[n.token];a.type=s?"strong_open":"em_open",a.tag=s?"strong":"em",a.nesting=1,a.markup=s?o+o:o,a.content="";const l=t.tokens[r.token];l.type=s?"strong_close":"em_close",l.tag=s?"strong":"em",l.nesting=-1,l.markup=s?o+o:o,l.content="",s&&(t.tokens[e[i-1].token].content="",t.tokens[e[n.end+1].token].content="",i--)}}const Xc={tokenize:function(t,e){const i=t.pos,n=t.src.charCodeAt(i);if(e)return!1;if(95!==n&&42!==n)return!1;const r=t.scanDelims(t.pos,42===n);for(let e=0;e<r.length;e++)t.push("text","",0).content=String.fromCharCode(n),t.delimiters.push({marker:n,length:r.length,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0},postProcess:function(t){const e=t.tokens_meta,i=t.tokens_meta.length;Kc(t,t.delimiters);for(let n=0;n<i;n++)e[n]&&e[n].delimiters&&Kc(t,e[n].delimiters)}},Yc=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Jc=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/,Zc=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Qc=/^&([a-z][a-z0-9]{1,31});/i;function tu(t){const e={},i=t.length;if(!i)return;let n=0,r=-2;const s=[];for(let o=0;o<i;o++){const i=t[o];if(s.push(0),t[n].marker===i.marker&&r===i.token-1||(n=o),r=i.token,i.length=i.length||0,!i.close)continue;e.hasOwnProperty(i.marker)||(e[i.marker]=[-1,-1,-1,-1,-1,-1]);const a=e[i.marker][(i.open?3:0)+i.length%3];let l=n-s[n]-1,c=l;for(;l>a;l-=s[l]+1){const e=t[l];if(e.marker===i.marker&&e.open&&e.end<0){let n=!1;if((e.close||i.open)&&(e.length+i.length)%3==0&&(e.length%3==0&&i.length%3==0||(n=!0)),!n){const n=l>0&&!t[l-1].open?s[l-1]+1:0;s[o]=o-l+n,s[l]=n,i.open=!1,e.end=o,e.close=!1,c=-1,r=-2;break}}}-1!==c&&(e[i.marker][(i.open?3:0)+(i.length||0)%3]=c)}}const eu=[["text",function(t,e){let i=t.pos;for(;i<t.posMax&&!qc(t.src.charCodeAt(i));)i++;return i!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,i)),t.pos=i,!0)}],["linkify",function(t,e){if(!t.md.options.linkify)return!1;if(t.linkLevel>0)return!1;const i=t.pos;if(i+3>t.posMax)return!1;if(58!==t.src.charCodeAt(i))return!1;if(47!==t.src.charCodeAt(i+1))return!1;if(47!==t.src.charCodeAt(i+2))return!1;const n=t.pending.match(Gc);if(!n)return!1;const r=n[1],s=t.md.linkify.matchAtStart(t.src.slice(i-r.length));if(!s)return!1;let o=s.url;if(o.length<=r.length)return!1;o=o.replace(/\*+$/,"");const a=t.md.normalizeLink(o);if(!t.md.validateLink(a))return!1;if(!e){t.pending=t.pending.slice(0,-r.length);const e=t.push("link_open","a",1);e.attrs=[["href",a]],e.markup="linkify",e.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(o);const i=t.push("link_close","a",-1);i.markup="linkify",i.info="auto"}return t.pos+=o.length-r.length,!0}],["newline",function(t,e){let i=t.pos;if(10!==t.src.charCodeAt(i))return!1;const n=t.pending.length-1,r=t.posMax;if(!e)if(n>=0&&32===t.pending.charCodeAt(n))if(n>=1&&32===t.pending.charCodeAt(n-1)){let e=n-1;for(;e>=1&&32===t.pending.charCodeAt(e-1);)e--;t.pending=t.pending.slice(0,e),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(i++;i<r&&Hl(t.src.charCodeAt(i));)i++;return t.pos=i,!0}],["escape",function(t,e){let i=t.pos;const n=t.posMax;if(92!==t.src.charCodeAt(i))return!1;if(i++,i>=n)return!1;let r=t.src.charCodeAt(i);if(10===r){for(e||t.push("hardbreak","br",0),i++;i<n&&(r=t.src.charCodeAt(i),Hl(r));)i++;return t.pos=i,!0}let s=t.src[i];if(r>=55296&&r<=56319&&i+1<n){const e=t.src.charCodeAt(i+1);e>=56320&&e<=57343&&(s+=t.src[i+1],i++)}const o="\\"+s;if(!e){const e=t.push("text_special","",0);r<256&&0!==Vc[r]?e.content=s:e.content=o,e.markup=o,e.info="escape"}return t.pos=i+1,!0}],["backticks",function(t,e){let i=t.pos;if(96!==t.src.charCodeAt(i))return!1;const n=i;i++;const r=t.posMax;for(;i<r&&96===t.src.charCodeAt(i);)i++;const s=t.src.slice(n,i),o=s.length;if(t.backticksScanned&&(t.backticks[o]||0)<=n)return e||(t.pending+=s),t.pos+=o,!0;let a,l=i;for(;-1!==(a=t.src.indexOf("`",l));){for(l=a+1;l<r&&96===t.src.charCodeAt(l);)l++;const n=l-a;if(n===o){if(!e){const e=t.push("code_inline","code",0);e.markup=s,e.content=t.src.slice(i,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[n]=a}return t.backticksScanned=!0,e||(t.pending+=s),t.pos+=o,!0}],["strikethrough",Wc.tokenize],["emphasis",Xc.tokenize],["link",function(t,e){let i,n,r,s,o="",a="",l=t.pos,c=!0;if(91!==t.src.charCodeAt(t.pos))return!1;const u=t.pos,h=t.posMax,p=t.pos+1,f=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(f<0)return!1;let d=f+1;if(d<h&&40===t.src.charCodeAt(d)){for(c=!1,d++;d<h&&(i=t.src.charCodeAt(d),Hl(i)||10===i);d++);if(d>=h)return!1;if(l=d,r=t.md.helpers.parseLinkDestination(t.src,d,t.posMax),r.ok){for(o=t.md.normalizeLink(r.str),t.md.validateLink(o)?d=r.pos:o="",l=d;d<h&&(i=t.src.charCodeAt(d),Hl(i)||10===i);d++);if(r=t.md.helpers.parseLinkTitle(t.src,d,t.posMax),d<h&&l!==d&&r.ok)for(a=r.str,d=r.pos;d<h&&(i=t.src.charCodeAt(d),Hl(i)||10===i);d++);}(d>=h||41!==t.src.charCodeAt(d))&&(c=!0),d++}if(c){if(void 0===t.env.references)return!1;if(d<h&&91===t.src.charCodeAt(d)?(l=d+1,d=t.md.helpers.parseLinkLabel(t,d),d>=0?n=t.src.slice(l,d++):d=f+1):d=f+1,n||(n=t.src.slice(p,f)),s=t.env.references[Yl(n)],!s)return t.pos=u,!1;o=s.href,a=s.title}if(!e){t.pos=p,t.posMax=f;const e=[["href",o]];t.push("link_open","a",1).attrs=e,a&&e.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=d,t.posMax=h,!0}],["image",function(t,e){let i,n,r,s,o,a,l,c,u="";const h=t.pos,p=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;const f=t.pos+2,d=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(d<0)return!1;if(s=d+1,s<p&&40===t.src.charCodeAt(s)){for(s++;s<p&&(i=t.src.charCodeAt(s),Hl(i)||10===i);s++);if(s>=p)return!1;for(c=s,a=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),a.ok&&(u=t.md.normalizeLink(a.str),t.md.validateLink(u)?s=a.pos:u=""),c=s;s<p&&(i=t.src.charCodeAt(s),Hl(i)||10===i);s++);if(a=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<p&&c!==s&&a.ok)for(l=a.str,s=a.pos;s<p&&(i=t.src.charCodeAt(s),Hl(i)||10===i);s++);else l="";if(s>=p||41!==t.src.charCodeAt(s))return t.pos=h,!1;s++}else{if(void 0===t.env.references)return!1;if(s<p&&91===t.src.charCodeAt(s)?(c=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?r=t.src.slice(c,s++):s=d+1):s=d+1,r||(r=t.src.slice(f,d)),o=t.env.references[Yl(r)],!o)return t.pos=h,!1;u=o.href,l=o.title}if(!e){n=t.src.slice(f,d);const e=[];t.md.inline.parse(n,t.md,t.env,e);const i=t.push("image","img",0),r=[["src",u],["alt",""]];i.attrs=r,i.children=e,i.content=n,l&&r.push(["title",l])}return t.pos=s,t.posMax=p,!0}],["autolink",function(t,e){let i=t.pos;if(60!==t.src.charCodeAt(i))return!1;const n=t.pos,r=t.posMax;for(;;){if(++i>=r)return!1;const e=t.src.charCodeAt(i);if(60===e)return!1;if(62===e)break}const s=t.src.slice(n+1,i);if(Jc.test(s)){const i=t.md.normalizeLink(s);if(!t.md.validateLink(i))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",i]],e.markup="autolink",e.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(s);const n=t.push("link_close","a",-1);n.markup="autolink",n.info="auto"}return t.pos+=s.length+2,!0}if(Yc.test(s)){const i=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(i))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",i]],e.markup="autolink",e.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(s);const n=t.push("link_close","a",-1);n.markup="autolink",n.info="auto"}return t.pos+=s.length+2,!0}return!1}],["html_inline",function(t,e){if(!t.md.options.html)return!1;const i=t.posMax,n=t.pos;if(60!==t.src.charCodeAt(n)||n+2>=i)return!1;const r=t.src.charCodeAt(n+1);if(33!==r&&63!==r&&47!==r&&!function(t){const e=32|t;return e>=97&&e<=122}(r))return!1;const s=t.src.slice(n).match(Mc);if(!s)return!1;if(!e){const e=t.push("html_inline","",0);e.content=s[0],o=e.content,/^<a[>\s]/i.test(o)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(e.content)&&t.linkLevel--}var o;return t.pos+=s[0].length,!0}],["entity",function(t,e){const i=t.pos,n=t.posMax;if(38!==t.src.charCodeAt(i))return!1;if(i+1>=n)return!1;if(35===t.src.charCodeAt(i+1)){const n=t.src.slice(i).match(Zc);if(n){if(!e){const e="x"===n[1][0].toLowerCase()?parseInt(n[1].slice(1),16):parseInt(n[1],10),i=t.push("text_special","",0);i.content=Ll(e)?Rl(e):Rl(65533),i.markup=n[0],i.info="entity"}return t.pos+=n[0].length,!0}}else{const n=t.src.slice(i).match(Qc);if(n){const i=wl(n[0]);if(i!==n[0]){if(!e){const e=t.push("text_special","",0);e.content=i,e.markup=n[0],e.info="entity"}return t.pos+=n[0].length,!0}}}return!1}]],iu=[["balance_pairs",function(t){const e=t.tokens_meta,i=t.tokens_meta.length;tu(t.delimiters);for(let t=0;t<i;t++)e[t]&&e[t].delimiters&&tu(e[t].delimiters)}],["strikethrough",Wc.postProcess],["emphasis",Xc.postProcess],["fragments_join",function(t){let e,i,n=0;const r=t.tokens,s=t.tokens.length;for(e=i=0;e<s;e++)r[e].nesting<0&&n--,r[e].level=n,r[e].nesting>0&&n++,"text"===r[e].type&&e+1<s&&"text"===r[e+1].type?r[e+1].content=r[e].content+r[e+1].content:(e!==i&&(r[i]=r[e]),i++);e!==i&&(r.length=i)}]];function nu(){this.ruler=new sc;for(let t=0;t<eu.length;t++)this.ruler.push(eu[t][0],eu[t][1]);this.ruler2=new sc;for(let t=0;t<iu.length;t++)this.ruler2.push(iu[t][0],iu[t][1])}nu.prototype.skipToken=function(t){const e=t.pos,i=this.ruler.getRules(""),n=i.length,r=t.md.options.maxNesting,s=t.cache;if(void 0!==s[e])return void(t.pos=s[e]);let o=!1;if(t.level<r){for(let r=0;r<n;r++)if(t.level++,o=i[r](t,!0),t.level--,o){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;o||t.pos++,s[e]=t.pos},nu.prototype.tokenize=function(t){const e=this.ruler.getRules(""),i=e.length,n=t.posMax,r=t.md.options.maxNesting;for(;t.pos<n;){const s=t.pos;let o=!1;if(t.level<r)for(let n=0;n<i;n++)if(o=e[n](t,!1),o){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(o){if(t.pos>=n)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},nu.prototype.parse=function(t,e,i,n){const r=new this.State(t,e,i,n);this.tokenize(r);const s=this.ruler2.getRules(""),o=s.length;for(let t=0;t<o;t++)s[t](r)},nu.prototype.State=Uc;const ru=nu;function su(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t}function ou(t){return Object.prototype.toString.call(t)}function au(t){return"[object Function]"===ou(t)}function lu(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const cu={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},uu={"http:":{validate:function(t,e,i){const n=t.slice(e);return i.re.http||(i.re.http=new RegExp("^\\/\\/"+i.re.src_auth+i.re.src_host_port_strict+i.re.src_path,"i")),i.re.http.test(n)?n.match(i.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,i){const n=t.slice(e);return i.re.no_http||(i.re.no_http=new RegExp("^"+i.re.src_auth+"(?:localhost|(?:(?:"+i.re.src_domain+")\\.)+"+i.re.src_domain_root+")"+i.re.src_port+i.re.src_host_terminator+i.re.src_path,"i")),i.re.no_http.test(n)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:n.match(i.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,i){const n=t.slice(e);return i.re.mailto||(i.re.mailto=new RegExp("^"+i.re.src_email_name+"@"+i.re.src_host_strict,"i")),i.re.mailto.test(n)?n.match(i.re.mailto)[0].length:0}}},hu="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",pu="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|ÑÑ".split("|");function fu(t){const e=t.re=function(t){const e={};t=t||{},e.src_Any=el.source,e.src_Cc=il.source,e.src_Z=sl.source,e.src_P=Qa.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");return e.src_pseudo_letter="(?:(?![><ï½]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><ï½]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|[><ï½]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><ï½]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+e.src_ZPCc+"))((?![$+<=>^`|ï½])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+e.src_ZPCc+"))((?![$+<=>^`|ï½])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}(t.__opts__),i=t.__tlds__.slice();function n(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||i.push(hu),i.push(e.src_xn),e.src_tlds=i.join("|"),e.email_fuzzy=RegExp(n(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(n(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(n(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(n(e.tpl_host_fuzzy_test),"i");const r=[];function s(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){const i=t.__schemas__[e];if(null===i)return;const n={validate:null,link:null};if(t.__compiled__[e]=n,"[object Object]"===ou(i))return"[object RegExp]"!==ou(i.validate)?au(i.validate)?n.validate=i.validate:s(e,i):n.validate=function(t){return function(e,i){const n=e.slice(i);return t.test(n)?n.match(t)[0].length:0}}(i.validate),void(au(i.normalize)?n.normalize=i.normalize:i.normalize?s(e,i):n.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===ou(t)}(i)?s(e,i):r.push(e)})),r.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};const o=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(lu).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><ï½]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><ï½]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function du(t,e){const i=t.__index__,n=t.__last_index__,r=t.__text_cache__.slice(i,n);this.schema=t.__schema__.toLowerCase(),this.index=i+e,this.lastIndex=n+e,this.raw=r,this.text=r,this.url=r}function mu(t,e){const i=new du(t,e);return t.__compiled__[i.schema].normalize(i,t),i}function gu(t,e){if(!(this instanceof gu))return new gu(t,e);var i;e||(i=t,Object.keys(i||{}).reduce((function(t,e){return t||cu.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=su({},cu,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=su({},uu,t),this.__compiled__={},this.__tlds__=pu,this.__tlds_replaced__=!1,this.re={},fu(this)}gu.prototype.add=function(t,e){return this.__schemas__[t]=e,fu(this),this},gu.prototype.set=function(t){return this.__opts__=su(this.__opts__,t),this},gu.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let e,i,n,r,s,o,a,l,c;if(this.re.schema_test.test(t))for(a=this.re.schema_search,a.lastIndex=0;null!==(e=a.exec(t));)if(r=this.testSchemaAt(t,e[2],a.lastIndex),r){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+r;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(i=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(s=i.index+i[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&null!==(n=t.match(this.re.email_fuzzy))&&(s=n.index+n[1].length,o=n.index+n[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=o))),this.__index__>=0},gu.prototype.pretest=function(t){return this.re.pretest.test(t)},gu.prototype.testSchemaAt=function(t,e,i){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,i,this):0},gu.prototype.match=function(t){const e=[];let i=0;this.__index__>=0&&this.__text_cache__===t&&(e.push(mu(this,i)),i=this.__last_index__);let n=i?t.slice(i):t;for(;this.test(n);)e.push(mu(this,i)),n=n.slice(this.__last_index__),i+=this.__last_index__;return e.length?e:null},gu.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const e=this.re.schema_at_start.exec(t);if(!e)return null;const i=this.testSchemaAt(t,e[2],e[0].length);return i?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i,mu(this,0)):null},gu.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,i){return t!==i[e-1]})).reverse(),fu(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,fu(this),this)},gu.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},gu.prototype.onCompile=function(){};const yu=gu,bu=2147483647,_u=36,vu=/^xn--/,wu=/[^\0-\x7F]/,xu=/[\x2E\u3002\uFF0E\uFF61]/g,ku={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Eu=Math.floor,Au=String.fromCharCode;function Su(t){throw new RangeError(ku[t])}function Ou(t,e){const i=t.split("@");let n="";i.length>1&&(n=i[0]+"@",t=i[1]);const r=function(t,e){const i=[];let n=t.length;for(;n--;)i[n]=e(t[n]);return i}((t=t.replace(xu,".")).split("."),e).join(".");return n+r}function Tu(t){const e=[];let i=0;const n=t.length;for(;i<n;){const r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){const n=t.charCodeAt(i++);56320==(64512&n)?e.push(((1023&r)<<10)+(1023&n)+65536):(e.push(r),i--)}else e.push(r)}return e}const Cu=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},Nu=function(t,e,i){let n=0;for(t=i?Eu(t/700):t>>1,t+=Eu(t/e);t>455;n+=_u)t=Eu(t/35);return Eu(n+36*t/(t+38))},Iu=function(t){const e=[],i=t.length;let n=0,r=128,s=72,o=t.lastIndexOf("-");o<0&&(o=0);for(let i=0;i<o;++i)t.charCodeAt(i)>=128&&Su("not-basic"),e.push(t.charCodeAt(i));for(let l=o>0?o+1:0;l<i;){const o=n;for(let e=1,r=_u;;r+=_u){l>=i&&Su("invalid-input");const o=(a=t.charCodeAt(l++))>=48&&a<58?a-48+26:a>=65&&a<91?a-65:a>=97&&a<123?a-97:_u;o>=_u&&Su("invalid-input"),o>Eu((bu-n)/e)&&Su("overflow"),n+=o*e;const c=r<=s?1:r>=s+26?26:r-s;if(o<c)break;const u=_u-c;e>Eu(bu/u)&&Su("overflow"),e*=u}const c=e.length+1;s=Nu(n-o,c,0==o),Eu(n/c)>bu-r&&Su("overflow"),r+=Eu(n/c),n%=c,e.splice(n++,0,r)}var a;return String.fromCodePoint(...e)},Lu=function(t){const e=[],i=(t=Tu(t)).length;let n=128,r=0,s=72;for(const i of t)i<128&&e.push(Au(i));const o=e.length;let a=o;for(o&&e.push("-");a<i;){let i=bu;for(const e of t)e>=n&&e<i&&(i=e);const l=a+1;i-n>Eu((bu-r)/l)&&Su("overflow"),r+=(i-n)*l,n=i;for(const i of t)if(i<n&&++r>bu&&Su("overflow"),i===n){let t=r;for(let i=_u;;i+=_u){const n=i<=s?1:i>=s+26?26:i-s;if(t<n)break;const r=t-n,o=_u-n;e.push(Au(Cu(n+r%o,0))),t=Eu(r/o)}e.push(Au(Cu(t,0))),s=Nu(r,l,a===o),r=0,++a}++r,++n}return e.join("")},Ru={version:"2.3.1",ucs2:{decode:Tu,encode:t=>String.fromCodePoint(...t)},decode:Iu,encode:Lu,toASCII:function(t){return Ou(t,(function(t){return wu.test(t)?"xn--"+Lu(t):t}))},toUnicode:function(t){return Ou(t,(function(t){return vu.test(t)?Iu(t.slice(4).toLowerCase()):t}))}},Du=Ru,Mu={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},Pu=/^(vbscript|javascript|file|data):/,Fu=/^data:image\/(gif|png|jpeg|webp);/;function ju(t){const e=t.trim().toLowerCase();return!Pu.test(e)||Fu.test(e)}const Bu=["http:","https:","mailto:"];function $u(t){const e=Za(t,!0);if(e.hostname&&(!e.protocol||Bu.indexOf(e.protocol)>=0))try{e.hostname=Du.toASCII(e.hostname)}catch(t){}return ja(Ba(e))}function zu(t){const e=Za(t,!0);if(e.hostname&&(!e.protocol||Bu.indexOf(e.protocol)>=0))try{e.hostname=Du.toUnicode(e.hostname)}catch(t){}return Ma(Ba(e),Ma.defaultChars+"%")}function Uu(t,e){if(!(this instanceof Uu))return new Uu(t,e);e||Ol(t)||(e=t||{},t="default"),this.inline=new ru,this.block=new $c,this.core=new Sc,this.renderer=new nc,this.linkify=new yu,this.validateLink=ju,this.normalizeLink=$u,this.normalizeLinkText=zu,this.utils=i,this.helpers=Nl({},n),this.options={},this.configure(t),e&&this.set(e)}Uu.prototype.set=function(t){return Nl(this.options,t),this},Uu.prototype.configure=function(t){const e=this;if(Ol(t)){const e=t;if(!(t=Mu[e]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(i){t.components[i].rules&&e[i].ruler.enableOnly(t.components[i].rules),t.components[i].rules2&&e[i].ruler2.enableOnly(t.components[i].rules2)})),this},Uu.prototype.enable=function(t,e){let i=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){i=i.concat(this[e].ruler.enable(t,!0))}),this),i=i.concat(this.inline.ruler2.enable(t,!0));const n=t.filter((function(t){return i.indexOf(t)<0}));if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},Uu.prototype.disable=function(t,e){let i=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){i=i.concat(this[e].ruler.disable(t,!0))}),this),i=i.concat(this.inline.ruler2.disable(t,!0));const n=t.filter((function(t){return i.indexOf(t)<0}));if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},Uu.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},Uu.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");const i=new this.core.State(t,this,e);return this.core.process(i),i.tokens},Uu.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},Uu.prototype.parseInline=function(t,e){const i=new this.core.State(t,this,e);return i.inlineMode=!0,this.core.process(i),i.tokens},Uu.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const qu=Uu,Gu=new RegExp(/\[\[((?<type>[^:|\]]+?):)?(?<id>.+?)(\|(?<text>.+?))?\]\]/,"g"),Vu=new qu({html:!0,linkify:!0,breaks:!0});class Hu{static validParams=new Set(["css_custom","citeproc","dev"]);static markLinkContext(t){return t.map((t=>(t.context.length>0?t.context=t.context.join("\n\n"):t.context="",t)))}static imagePathToBase64(t){if(!1===Z(t))return"";const e=a().readFileSync(t);return`data:image/${w().extname(t).substring(1)};base64,${Buffer.from(e).toString("base64")}`}static mdItImageToBase64(t,e){for(let i=0;i<e.tokens.length;i++){const n=e.tokens[i],{type:r,attrs:s}=n;if("image"===r){const{src:n,...r}=Object.fromEntries(s),o=w().join(t,n),a=Hu.imagePathToBase64(o);a&&(e.tokens[i].attrs=Object.entries({src:a,...r}))}}}constructor(t,e=[]){if(!t||t instanceof Sr==0)throw new Error("Need instance of Config to process");if(this.params=new Set(e.filter((t=>Hu.validParams.has(t)))),this.config=new H(t.config.opts),!1===this.config.isValid())throw new Error("Can not template : config invalid");const{images_origin:i,css_custom:n,lang:r,link_symbol:s,views:o,title:l,author:c,description:u,keywords:h,focus_max:p,record_types:f,hide_id_from_record_header:d}=this.config.opts,m=[];let g;const y={};t.getTypesFromRecords().forEach(((t,e)=>{t=Array.from(t),y[e]={nodes:t,active:!0}}));const b=[];t.getTagsFromRecords().forEach(((t,e)=>{t=Array.from(t),b.push({name:e,nodes:t})}));const _=b.map((({name:t})=>t)).sort(((t,e)=>t.localeCompare(e))),v=b.sort(((t,e)=>t.nodes.length<e.nodes.length?-1:t.nodes.length>e.nodes.length?1:0)).map((({name:t})=>t)),x=t.records.sort(((t,e)=>t.title.localeCompare(e.title))).map((({title:t})=>t)),k=t.records.sort(((t,e)=>t.begin<e.begin?-1:t.begin>e.begin?1:0)).map((({title:t})=>t));if(this.params.has("citeproc")&&this.config.canCiteproc()){const{bib:e,cslStyle:i,xmlLocal:n}=wr.getBibliographicFilesFromConfig(this.config);g=new wr(e,i,n);for(const e of t.records)e.setBibliography(g),e.links.forEach((({target:t})=>{g.library[t.id]&&m.push(g.library[t.id])}))}const E=Array.from(this.config.getTypesRecords()).filter((t=>"image"===this.config.getFormatOfTypeRecord(t))).map((t=>({name:f[t].fill,path:w().join(i,f[t].fill)}))),A=t.records.filter((({thumbnail:t})=>"string"==typeof t)).map((({thumbnail:t})=>({name:t,path:w().join(i,t)}))),T=new(S().Environment);Vu.inline.ruler2.push("image_to_base64",(t=>Hu.mdItImageToBase64(i,t))),T.addFilter("slugify",(t=>et(t))),T.addFilter("convertLinks",((e,i,n)=>(e=function(t,e,i,n){return t.replace(Gu,((t,r,s,o,a,l)=>{const c=e.find((({id:t})=>t===o.toLowerCase()));if(!c)return t;let u;return u=l||(i.link_symbol?i.link_symbol:isNaN(Number(o))?o:t),`<a href="#${c.id}" title="${function(t){return t.replace(/'/g,"&apos;").replace(/"/g,"&quot;")}(c.title)}" class="record-link ${c.id===n?"highlight":""}">${u}</a>`}))}(e,t.records,i,n),g&&(e=function(t,e,i,n){return yr(t).forEach(((r,s)=>{const o=r.source,a=new Map;if(!r.citations.every((({id:t})=>!!e.library[t])))return t;for(const t of r.citations){const i=e.citeproc.processCitationCluster({citationItems:[t],properties:{noteIndex:s+1}},[],[])[1][0][1].slice(1,-1);a.set(i,t.id)}let l=e.citeproc.processCitationCluster({citationItems:r.citations,properties:{noteIndex:s+1}},[],[])[1][0][1];a.forEach(((t,e)=>{l=l.replace(e,(()=>{const r=i.find((({id:e})=>e===t));return r?`<a href="#${r.id}" title="${r.title}" class="record-link ${r.id===n?"highlight":""}">${e}</a>`:e}))})),t=t.replace(o,l)})),t}(e,g,t.records,n)),e))),T.addFilter("markdown",(t=>Vu.render(t))),T.addFilter("timestampToLocal",(t=>new Date(1e3*t).toLocaleDateString(r))),T.addFilter("imgPathToBase64",Hu.imagePathToBase64),t.records=t.records.map((t=>(t.links=Hu.markLinkContext(t.links,s),t.backlinks=Hu.markLinkContext(t.backlinks,s),t))),this.custom_css=null,!0===this.params.has("css_custom")&&!0===this.config.canCssCustom()&&(this.custom_css=a().readFileSync(n,"utf-8")),this.html=T.renderString('<!DOCTYPE html>\n<html lang="{{lang}}">\n\n<head>\n    <meta charset="utf-8">\n    <meta name="generator" content="Cosma v{{ app.version }}">\n    {% for meta, value in metadata %}\n    <meta name="{{ meta }}" content="{{ value }}">\n    {% endfor %}\n    <meta name="date" content="{{ date }}">\n    <title>Cosma â {{ metadata.title }}</title>\n\n    <link rel="icon" type="image/png" sizes="16x16" href="{{ favicon }}" />\n\n    <style> \n        :root {\n            {% for type_name, type_values in graph.config.record_types %}\n            --n_{{ type_name |Â slugify }}: {{ type_values.stroke }};\n            {% endfor %}\n            {% for type_name, type_values in graph.config.link_types %}\n            --l_{{ type_name | slugify }}: {{ type_values.color }};\n            {% endfor %}\n            --highlight: {{ graph.config.graph_highlight_color }};\n        }\n\n        {% if customCss %}\n        {{ customCss | safe }}\n        {% endif %}\n    </style>\n</head>\n\n<body>\n\n    <button id="close-left-side" class="close-button left">â®</button>\n    <button id="close-right-side" class="close-button right">â®</button>\n\n    {# ========================================\n    left side menu board\n    ========================================= #}\n\n    <aside id="menu-container" class="menu active list-content-container">\n        <header role="banner">\n            {% if metadata.title %}\n            <h1 class="title">{{ metadata.title }}</h1>\n            {% endif %}\n\n            <div class="load-bar" onclick="updateForces()"\n                title="{{ translation.left_panel.header.spatialization_bar_desc[lang] }}">\n                <div id="load-bar-value"></div>\n            </div>\n        </header>\n\n        <section>\n            <input class="search-bar" id="search" placeholder="{{ translation.left_panel.input_search.placeholder[lang] }} (S)"\n                autocomplete="off" role="search" />\n            <ul id="search-result-list"></ul>\n        </section>\n\n        <details class="menu-types" open="open">\n            <summary class="menu-title">\n                {{ translation.left_panel.menu_types.title[lang] }}\n                <span id="types-counter" class="badge">{{ types | length }}</span>\n            </summary>\n\n            <form id="types-form" class="menu-types-container">\n                {% for filterName, filterMetas in filters %}\n                <label class="filter">\n                    <input type="checkbox" name="{{ filterName }}">\n                    <span class="label" style="color: var(--n_{{ filterName | slugify }});">{{ filterName }}</span>\n                    <span class="badge">{{ filterMetas.nodes | length }}</span>\n                </label>\n                {% endfor %}\n            </form>\n        </details>\n\n        {% if tags.length !== 0 %}\n        <details class="menu-tags" data-sort="tag">\n            <summary class="menu-title">\n                {{ translation.left_panel.menu_keywords.title[lang] }}\n                <span id="tag-counter" class="badge">{{ tags | length }}</span>\n            </summary>\n\n            <select class="sorting-select" name="tag_sorting">\n                <option value="alphabetical">A-Z</option>\n                <option value="alphabetical:reverse">Z-A</option>\n                <option value="digital">{{ translation.left_panel.menu_keywords.sort.digital[lang] }}</option>\n                <option value="digital:reverse">{{ translation.left_panel.menu_keywords.sort.digital_reverse[lang] }}</option>\n            </select>\n\n            <form id="tags-form" class="menu-tags-container menu-tags-container-prim sort-box active">\n                {% for tag in tags %}\n                <label class="btn" style="order: {{ loop.index }}">\n                    <input type="checkbox" name="{{ tag.name }}">\n                    <span class="label">{{ tag.name }}</span>\n                    <span class="badge">{{ tag.nodes | length }}</span>\n                </label>\n                {% endfor %}\n            </form>\n        </details>\n        {% endif %}\n\n        <details class="menu-index" id="index">\n            <summary class="menu-title">\n                {{ translation.left_panel.menu_index.title[lang] }}\n                <span id="index-counter" class="badge">{{ records | length }}</span>\n            </summary>\n\n            <select class="sorting-select" name="index_sorting">\n                <option value="alphabetical">A-Z</option>\n                <option value="alphabetical:reverse">Z-A</option>\n                <option value="chronological">{{ translation.left_panel.menu_index.sort.chronological[lang] }}</option>\n                <option value="chronological:reverse">{{ translation.left_panel.menu_index.sort.chronological_reverse[lang] }}</option>\n            </select>\n\n            <ul class="menu-index-list">\n                {% for record in records %}\n                <li data-index="{{ record.id }}" style="order: {{ loop.index }}">\n                    <a href="#{{ record.id }}">\n                        <span class="record-type-points">\n                            {% for type in record.types %}\n                            <span style="color: var(--n_{{ type | slugify }});">â¬¤</span>\n                            {% endfor %}\n                        </span>\n                        <span>{{ record.title }}</span>\n                    </a>\n                </li>\n                {% endfor %}\n            </ul>\n        </details>\n\n        <details class="menu-view" open="open">\n            <summary class="menu-title">\n                {{ translation.left_panel.menu_views.title[lang] }}\n            </summary>\n\n            <button onclick="window.location.replace(window.location.pathname)">\n                {{ translation.left_panel.menu_views.btn_reset[lang] }}\n            </button>\n\n            <button id="view-save">\n                {{ translation.left_panel.menu_views.btn_save[lang] }}\n            </button>\n\n            <span class="tooltip">?\n                <span class="tooltiptext">{{ translation.left_panel.menu_views.tooltip[lang] }}</span>\n            </span>\n\n            <div class="menu-view-container" id="views-container">\n            {% if views.length !== 0 %}\n                {% for viewName, viewString in views %}\n                <button class="btn" onclick="window.location.replace(\'{{viewString}}\')">\n                    {{ viewName }}\n                </button>\n                {% endfor %}\n            {% endif %}\n            </div>\n        </details>\n\n        <details class="menu-controls">\n            <summary class="menu-title">\n                {{ translation.left_panel.menu_controls.title[lang] }}\n            </summary>\n\n            <ul class="menu-controls-list">\n                <li>\n                    <label>\n                        <input type="checkbox" checked onchange="linksDisplayToggle(this.checked)">\n                        {{ translation.left_panel.menu_controls.input_links_show[lang] }}\n                        <span class="badge">{{ nblinks }}</span>\n                    </label>\n                </li>\n                <li>\n                    <label>\n                        <input type="checkbox" checked onchange="labelDisplayToggle(this.checked)">\n                        {{ translation.left_panel.menu_controls.input_labels_show[lang] }}\n                    </label>\n                </li>\n                <li>\n                    <label>\n                        <input type="checkbox" {{ "checked" if graph.config.graph_highlight_on_hover }}\n                            onchange="graphProperties.graph_highlight_on_hover = this.checked">\n                        {{ translation.left_panel.menu_controls.input_highlight_hover_node[lang] }}\n                    </label>\n                </li>\n            </ul>\n\n            {% macro inputRange(name, graphParameter, fx, defaultValue, min, max, step) %}\n            <form oninput="graphProperties.{{ graphParameter }} = range.value; {{ fx }}">\n                <label>{{ name }}</label>\n                <input type="number" value="{{ defaultValue }}" name="number" min="{{ min }}" max="{{ max }}" oninput="range.value = number.value"/>\n                <input type="range" min="{{ min }}" max="{{ max }}" value="{{ defaultValue }}" name="range" step="{{ step }}" oninput="number.value = range.value"/>\n            </form>\n            {% endmacro %}\n\n            <article class="menu-controls-container">\n                <p class="menu-controls-title">\n                    {{ translation.left_panel.menu_controls.form_attraction.title[lang] }}\n                    <span class="tooltip">?\n                        <span class="tooltiptext">{{ translation.left_panel.form_attraction.help[lang] }}</span>\n                    </span>\n                </p>\n                {{ inputRange(translation.left_panel.menu_controls.form_attraction.input_force[lang], \'attraction_force\', \'updateForces()\', graph.config.attraction_force, graph.minValues.attraction_force, 600, 0.1) }}\n                {{ inputRange(translation.left_panel.menu_controls.form_attraction.input_distance_max[lang], \'attraction_distance_max\', \'updateForces()\', graph.config.attraction_distance_max, graph.minValues.attraction_distance_max, 800, 0.1) }}\n                {{ inputRange(translation.left_panel.menu_controls.form_attraction.input_vertical[lang], \'attraction_vertical\', \'updateForces()\', graph.config.attraction_vertical, graph.minValues.attraction_vertical, 1, 0.01) }}\n                {{ inputRange(translation.left_panel.menu_controls.form_attraction.input_horizontal[lang], \'attraction_horizontal\', \'updateForces()\', graph.config.attraction_horizontal, graph.minValues.attraction_horizontal, 1, 0.01) }}\n            </article>\n\n            <article class="menu-controls-container">\n                <p class="menu-controls-title">\n                    {{ translation.left_panel.menu_controls.form_text.title[lang] }}\n                </p>\n                {{ inputRange(translation.left_panel.menu_controls.form_text.input_size[lang], \'text_size\', \'updateFontsize()\', graph.config.graph_text_size, graph.minValues.graph_text_size, 15, 0.5) }}\n            </article>\n\n            {% if focusIsActive %}\n            <article class="menu-controls-container">\n                <p class="menu-controls-title">{{ translation.left_panel.menu_controls.focus_type.title[lang] }}</p>\n                <select name="focus_mode" id="focus-mode-select">\n                    <option value="directed">{{ translation.left_panel.menu_controls.focus_type.focus_type_select.directed[lang] }}</option>\n                    <option value="inbound">{{ translation.left_panel.menu_controls.focus_type.focus_type_select.inbound[lang] }}</option>\n                    <option value="outbound">{{ translation.left_panel.menu_controls.focus_type.focus_type_select.outbound[lang] }}</option>\n                </select>\n            </article>\n            {% endif %}\n        </details>\n\n        <footer class="menu-footer">\n            {% if references.length > 0 %}\n            <a href="#citation-references">\n                {{ translation.left_panel.footer.btn_data[lang] }}\n            </a>\n            {% endif %}\n\n            <a href="#help">\n                {{ translation.left_panel.footer.btn_help[lang] }}\n            </a>\n\n            <a href="#credits">\n                {{ translation.left_panel.footer.publish_mark[lang] + " " + translation.left_panel.footer.btn_about[lang] }}\n            </a>\n        </footer>\n    </aside>\n\n    {# ========================================\n    Graph\n    ========================================= #}\n\n    <div class="graph-wrapper" style="background-color: {{ graph.config.graph_background_color }}">\n        <svg id="graph-canvas">\n            <defs>\n                <marker id="arrow" viewBox="0 0 10 10" refX="22" refY="5" markerUnits="strokeWidth" markerWidth="5" markerHeight="5" orient="auto">\n                    <path d="M 0 0 L 10 5 L 0 10 z"></path>\n                </marker>\n                <filter id="double">\n                    <feMorphology in="SourceGraphic" result="a" operator="dilate" radius="0.2"></feMorphology>\n                    <feComposite in="SourceGraphic" in2="a" result="xx" operator="xor"></feComposite>\n                </filter>\n                {% for thumbnail in nodeThumbnails %}\n                <pattern id="{{ thumbnail.name }}" class="thumnail-pattern" x="0" y="0" height="100%" width="100%" viewBox="0 0 1 1">\n                    <image x="0" y="0" width="1" height="1" href="{{ thumbnail.path | imgPathToBase64 }}" preserveAspectRatio="xMinYMid slice"></image>\n                </pattern>\n                {% endfor %}\n            </defs>\n        </svg>\n    </div>\n\n    {# ========================================\n    Graph controls\n    ========================================= #}\n\n    <div class="graph-controls" id="graph-controls">\n        <div class="graph-controls-section graph-controls-zoom">\n            <button onclick="zoomLess()">-</button>\n            <button onclick="zoomReset()">{{ translation.graph.btn_zoom_reset[lang] }} (R)</button>\n            <button onclick="zoomMore()">+</button>\n        </div>\n\n        {% if focusIsActive %}\n        <div class="graph-controls-section graph-controls-focus">\n            <span class="graph-control-label">\n                <input id="focus-check" type="checkbox" name="checkbox">\n                <label for="focus-check">{{ translation.graph.btn_focus[lang] }} (F)</label>\n            </span>\n\n            <input id="focus-input" type="range" min="1" max="{{ graph.config.focus_max }}" value="1" name="focus_range" step="1" />\n        </div>\n        {% endif %}\n\n        {% if timeline.begin or timeline.end %}\n        <div class="graph-controls-section graph-timeline">\n            <span class="graph-control-label">\n                <input id="timeline-checkbox" type="checkbox" name="checkbox">\n                <label for="timeline-checkbox">{{ translation.graph.btn_chrono[lang] }}</label>\n            </span>\n\n            <form id="timeline-form">\n                <output name="timeline_output">{{ timeline.begin | timestampToLocal }}</output>\n                <input\n                    type="range"\n                    name="timeline_range"\n                    min="{{ timeline.begin }}"\n                    max="{{ timeline.end }}"\n                    value="{{ timeline.begin }}"\n                    list="timeline-ticks"\n                >\n                <datalist id="timeline-ticks"></datalist>\n            </form>\n        </div>\n        {% endif %}\n    </div>\n\n    {# ========================================\n    right side records container\n    ========================================= #}\n\n    <main id="record-container" class="record-container">\n        <article class="record active empty-record">\n            <p>{{ translation.right_panel.record.empty[lang] }}</p>\n        </article>\n    \n        {% for record in records %}\n        <article id="{{ record.id }}" class="record">\n            <header>\n                <h1 class="record-title">{{ record.title }}</h1>\n\n                {% if record.thumbnail %}\n                <img class="record-img" src="{{ record.thumbnail | imgPathToBase64 }}" />\n                {% endif %}\n\n                {% if hideIdFromRecordHeader === false %}\n                <div class="record-id">\n                    <span>{{ translation.right_panel.record.metadata.id[lang] }} :</span>\n                    <span>{{ record.id }}</span>\n                </div>\n                {% endif %}\n\n                <div class="record-type">\n                    <span>{{ translation.right_panel.record.metadata.type[lang] }} :</span>\n                    <span>{{ record.types | join(", ") }}</span>\n                </div>\n\n                {% if record.tags.length > 0 %}\n                <div class="record-tags">\n                    <span>{{ translation.right_panel.record.metadata.keywords[lang] }} :</span>\n                    {% for tag in record.tags %}\n                    <button class="btn" onclick="activeTag(\'{{tag}}\');">{{ tag }}</button>\n                    {% endfor %}\n                </div>\n                {% endif %}\n\n                {% if record.begin %}\n                <div class="record-begin">\n                    <span>{{ translation.right_panel.record.metadata.begin[lang] }} :</span>\n                    <span>{{ record.begin | timestampToLocal }}</span>\n                </div>\n                {% endif %}\n\n                {% if record.end %}\n                <div class="record-end">\n                    <span>{{ translation.right_panel.record.metadata.end[lang] }} :</span>\n                    <span>{{ record.end | timestampToLocal }}</span>\n                </div>\n                {% endif %}\n\n                {% for meta, value in record.metas %}\n                <div class="record-{{meta}}">\n                    <span>{{ meta }} :</span>\n                    <span>{{ value }}</span>\n                </div>\n                {% endfor %}\n            </header>\n\n            <main class="record-content">\n                {% if record.types[0] === graph.config.references_type_label %}\n                <div class="csl-entry">{{ record.content | urlize | safe }}</div>\n                {% else %}\n                {{ record.content | convertLinks(graph.config) | markdown | safe }}\n                {% endif %}\n\n                {% if record.bibliography.length > 0 %}\n                <section class="bibliography">\n                    <h1>{{ translation.right_panel.record.bibliography[lang] }}</h1>\n\n                    {% for entry in record.bibliography %}\n                        <div class="csl-entry">{{ entry | urlize | safe }}</div>\n                    {% endfor %}\n                </section>\n                {% endif %}\n            </main>\n\n            <footer class="list-content-container">\n                {% if record.links.length !== 0 %}\n                <details class="record-links" open="open">\n                    <summary class="menu-title">\n                        {{ translation.right_panel.record.footer.list_links[lang] }}\n                        <span class="badge">{{ record.links | length }}</span>\n                    </summary>\n\n                    <ul class="record-links-list">\n                        {% for link in record.links %}\n                        <li data-target-id="{{ link.target.id }}">\n                            <a href="#{{ link.target.id }}">\n                                <span class="record-type-points">\n                                    {% for type in link.target.types %}\n                                    <span style="color: var(--n_{{ type | slugify }});">â¬¤</span>\n                                    {% endfor %}\n                                </span>\n                                {% if link.type !== \'undefined\' %}\n                                <span class="link-type">({{ link.type }})</span>\n                                {% endif %}\n                                <span>{{ link.target.title }}</span>\n                                {% if link.context !== \'\' %}\n                                <div class="record-links-context {{ "hover" if graph.config.link_context === \'tooltip\' }}">\n                                    {{ link.context | convertLinks(graph.config, link.target.id) | markdown | safe }}\n                                </div>\n                                {% endif %}\n                            </a>\n                        </li>\n                        {% endfor %}\n                    </ul>\n                </details>\n                {% endif %}\n\n                {% if record.backlinks.length !== 0 %}\n                <details class="record-backlinks" open="open">\n                    <summary class="menu-title">\n                        {{ translation.right_panel.record.footer.list_backlinks[lang] }}\n                        <span class="badge">{{ record.backlinks | length }}</span>\n                    </summary>\n\n                    <ul class="record-backlinks-list">\n                        {% for backlink in record.backlinks %}\n                        <li data-target-id="{{ backlink.source.id }}">\n                            <a href="#{{ backlink.source.id }}">\n                                <span class="record-type-points">\n                                    {% for type in backlink.source.types %}\n                                    <span style="color: var(--n_{{ type | slugify }});">â¬¤</span>\n                                    {% endfor %}\n                                </span>\n                                {% if backlink.type !== \'undefined\' %}\n                                <span class="link-type">({{ backlink.type }})</span>\n                                {% endif %}\n                                <span>{{ backlink.source.title }}</span>\n                                {% if backlink.context !== \'\' %}\n                                <div class="record-links-context {{ "hover" if graph.config.link_context === \'tooltip\' }}">\n                                    {{ backlink.context | convertLinks(graph.config, record.id) | markdown | safe }}\n                                </div>\n                                {% endif %}\n                            </a>\n                        </li>\n                        {% endfor %}\n                    </ul>\n                </details>\n                {% endif %}\n            </footer>\n        </article>\n        {% endfor %}\n        \n        {# Help #}\n        \n        <article id="help" class="record">\n            <main>\n                <h1>{{ translation.right_panel.help.title[lang] }}</h1>\n                \n                <p>\n                    <a href="{{ translation.right_panel.help.documentation_link_href[lang] }}" target="_blank" class="link-documentation">\n                        {{ translation.right_panel.help.documentation_link_placeholder[lang] }}\n                    </a>\n                </p>\n                \n                <h2>{{ translation.right_panel.help.shortcuts.title[lang] }}</h2>\n                \n                    <table>\n                        <tbody>\n                            <tr>\n                                <td>{{ translation.right_panel.help.shortcuts.space.key[lang] }}</td>\n                                <td>{{ translation.right_panel.help.shortcuts.space.effect[lang] }}</td>\n                            </tr>\n                            <tr>\n                                <td>{{ translation.right_panel.help.shortcuts.s.key[lang] }}</td>\n                                <td>{{ translation.right_panel.help.shortcuts.s.effect[lang] }}</td>\n                            </tr>\n                            <tr>\n                                <td>{{ translation.right_panel.help.shortcuts.alt_click.key[lang] }}</td>\n                                <td>{{ translation.right_panel.help.shortcuts.alt_click.effect[lang] }}</td>\n                            </tr>\n                            <tr>\n                                <td>{{ translation.right_panel.help.shortcuts.r.key[lang] }}</td>\n                                <td>{{ translation.right_panel.help.shortcuts.r.effect[lang] }}</td>\n                            </tr>\n                            <tr>\n                                <td>{{ translation.right_panel.help.shortcuts.alt_r.key[lang] }}</td>\n                                <td>{{ translation.right_panel.help.shortcuts.alt_r.effect[lang] }}</td>\n                            </tr>\n                            <tr>\n                                <td>{{ translation.right_panel.help.shortcuts.c.key[lang] }}</td>\n                                <td>{{ translation.right_panel.help.shortcuts.c.effect[lang] }}</td>\n                            </tr>\n                            <tr>\n                                <td>{{ translation.right_panel.help.shortcuts.f.key[lang] }}</td>\n                                <td>{{ translation.right_panel.help.shortcuts.f.effect[lang] }}</td>\n                            </tr>\n                            <tr>\n                                <td>{{ translation.right_panel.help.shortcuts.escap.key[lang] }}</td>\n                                <td>{{ translation.right_panel.help.shortcuts.escap.effect[lang] }}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n            </main>\n        </article>\n\n        {# Cosma\'s authors & contributors credits #}\n\n        <article id="credits" class="record">\n            <main>\n                {% if metadata.title %}\n                <h1 class="metas-title">{{ metadata.title }}</h1>\n                {% endif %}\n\n                {% if metadata.author %}\n                <p class="metas-author">{{ metadata.author }}</p>\n                {% endif %}\n\n                {% if metadata.description %}\n                <p class="metas-description">{{ metadata.description }}</p>\n                {% endif %}\n                \n                <hr>\n\n                <div class="logo">{{ logo | safe }}</div>\n\n                <p>\n                    {{ translation.right_panel.credits.version[lang] }} {{ app.version }}\n                    â¢\n                    {{ translation.right_panel.credits.license[lang] }} {{ app.license }}\n                </p>\n\n                <ul>\n                    {% for person in app.contributors %}\n                    <li>{{ person }}</li>\n                    {% endfor %}\n\n                    <li>{{ translation.right_panel.credits.ANR_program[lang] }} <a href="https://hyperotlet.hypotheses.org/">HyperOtlet</a></li>\n                </ul>\n\n                <dl>\n                    <dt><a href="https://d3js.org/" target="_blank">D3 <span class="badge">v4.13.0</span></a></dt>\n                    <dd>Mike Bostock (BSD 3-Clause)</dd>\n                    <dt><a href="https://mozilla.github.io/nunjucks/" target="_blank">Nunjucks <span class="badge">v3.2.3</span></a></dt>\n                    <dd>James Long (BSD 2-Clause)</dd>\n                    <dt><a href="https://github.com/nodeca/js-yaml" target="_blank">Js-yaml <span class="badge">v4.1.0</span></a></dt>\n                    <dd>Vitaly Puzrin (MIT License)</dd>\n                    <dt><a href="https://github.com/markdown-it/markdown-it" target="_blank">Markdown-it <span class="badge">v12.3.0</span></a></dt>\n                    <dd>Vitaly Puzrin, Alex Kocharin (MIT License)</dd>\n                    <dt><a href="https://github.com/juris-m/citeproc-js" target="_blank">Citeproc <span class="badge">v2.4.62</span></a></dt>\n                    <dd>Frank Bennett (CPAL, AGPL)</dd>\n                    <dt><a href="https://fusejs.io/" target="_blank">Fuse-js <span class="badge">v6.4.6</span></a></dt>\n                    <dd>Kiro Risk (Apache License 2.0)</dd>\n                </dl>\n            </main>\n        </article>\n\n        {% if references.length > 0 %}\n        <article id="citation-references" class="record">\n            <main>\n                <h1>{{ translation.right_panel.bibliography_data.title[lang] }}</h1>\n    \n                <p>{{ translation.right_panel.bibliography_data.description[lang] }}</p>\n    \n                <button>{{ translation.right_panel.bibliography_data.btn_download[lang] }}</button>\n    \n                <code>{{ references | dump | escape }}</code>\n            </main>\n        </article>\n        {% endif %}\n    </main>\n\n    {# Cosma data #}\n\n    <script>\n        const data = {{ graph.data | dump | safe }};\n        const graphProperties = {{ graph.config | dump | safe }};\n        const tagList = {{ tags | dump | safe }};\n        const typeList = {{ filters | dump | safe }};\n        const timeline = {{ timeline | dump | safe }};\n        const sorting = {{ sorting | dump | safe }};\n\n        const focusIsActive = {{ focusIsActive }};\n\n        {{ script | safe }}\n    <\/script>\n\n</body>\n\n</html>',{hideIdFromRecordHeader:d,records:t.records.map((({thumbnail:t,...e})=>({...e,thumbnail:t?w().join(i,t):void 0}))),graph:{config:this.config.opts,data:t.data,minValues:H.minValues},timeline:t.getTimelineFromRecords(),translation:O.i,lang:r,customCss:this.custom_css,views:o||[],filters:y,tags:b,references:m,metadata:{title:l,author:c,description:u,keywords:h},nodeThumbnails:[...E,...A].filter((({path:t})=>Z(t))),focusIsActive:!(p<=0),nblinks:t.data.links.length,date:(new Date).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}),sorting:{records:t.records.map((({title:t})=>({alphabetical:x.indexOf(t),chronological:k.indexOf(t)}))),tags:b.map((({name:t})=>({alphabetical:_.indexOf(t),digital:v.indexOf(t)})))},app:U,script:'/*! For license information please see front.raw.js.LICENSE.txt */\n(()=>{var t={942:()=>{window.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("citation-references"),e=null==t?void 0:t.querySelector("button"),n=null==t?void 0:t.querySelector("code");e&&e.addEventListener("click",(function(){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n.textContent)),t.setAttribute("download","bibliography.json"),t.style.display="none",document.body.appendChild(t),t.click(),t.remove()}))}))},861:()=>{window.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("close-left-side"),e=document.getElementById("menu-container"),n=document.getElementById("graph-controls");t.addEventListener("click",(function(){t.classList.toggle("active"),e.classList.toggle("active"),n.classList.toggle("move")}))}))},380:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([t.id,"@media print {\\n  /* ---\\n\\t- Global\\n\\t--- */\\n\\n  :root {\\n    font-size: 52.5%;\\n  }\\n\\n  @page {\\n    margin: 10mm 20mm;\\n  }\\n\\n  body {\\n    overflow: unset;\\n  }\\n\\n  /* ---\\n\\t- Elements\\n\\t--- */\\n\\n  p,\\n  tr,\\n  li {\\n    orphans: 3;\\n  }\\n\\n  a[href]:not([onclick]):after {\\n    content: \' (\' attr(href) \')\';\\n  }\\n\\n  /* ---\\n\\t- Page containers\\n\\t--- */\\n\\n  aside,\\n  .graph-wrapper {\\n    display: none;\\n  }\\n\\n  /* ---\\n\\t- Record header\\n\\t--- */\\n\\n  .record header {\\n    margin-bottom: 10mm;\\n  }\\n\\n  .record-focus-container,\\n  .record-btn-close {\\n    display: none;\\n  }\\n\\n  /* ---\\n\\t- Record main\\n\\t--- */\\n\\n  main.record-container {\\n    position: unset;\\n    width: 100%;\\n    overflow: unset;\\n    box-shadow: unset;\\n  }\\n\\n  /* ---\\n\\t- Record footer\\n\\t--- */\\n\\n  main.record-container footer {\\n    break-before: page;\\n  }\\n\\n  main.record-container footer .record-links-context {\\n    display: block;\\n    position: unset;\\n    box-shadow: unset;\\n  }\\n\\n  main.record-container footer li {\\n    display: block;\\n    margin-top: 2mm;\\n  }\\n\\n  .id-context {\\n    font-style: normal;\\n    text-decoration: underline;\\n  }\\n}\\n",""]);const s=a},927:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([t.id,"/** Global\\n------------------------------------------------------------*/\\n\\n:root {\\n  /* colors */\\n  --cosma-blue: #147899;\\n  --cosma-blue-dark: #02385c;\\n  --border-color: #d8d8d8;\\n  --border-light-color: #f3f3f3;\\n  --indicator-background-color: #fafafa;\\n  --lateral-background-color: white;\\n  /* typography */\\n  --sans: system-ui, -apple-system, \'San Francisco\', \'Helvetica Neue\', \'Segoe UI\', \'Arial\',\\n    sans-serif;\\n  --serif: \'Georgia\', \'Garamond\', \'Time New Roman\', \'Times\', serif;\\n  --mono: \'Consolas\', \'Courrier New\', \'Courrier\', monospace;\\n  --condensed: \'Avenir Next Condensed\', \'Arial Condensed\', sans-serif;\\n  /* global size */\\n  font-size: 62.5%;\\n  /* others */\\n  --shadow: 0 1px 3px rgba(3, 2, 2, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\n  --offblack: rgb(51, 51, 51);\\n  --offwhite: rgb(253, 252, 251);\\n  --gray: #d6d6d6;\\n  --background-gray: rgb(246, 246, 246);\\n}\\n\\n* {\\n  box-sizing: border-box;\\n}\\n\\n/** Page\\n------------------------------------------------------------*/\\n\\nbody {\\n  display: flex;\\n  overflow: hidden;\\n  width: 100%;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--sans);\\n  font-size: 1.4rem;\\n}\\n\\n/* ---\\n- Containers\\n--- */\\n\\narticle {\\n  padding: 0.8rem 0;\\n}\\n\\narticle + article:not(.record) {\\n  border-top: 1px solid var(--border-light-color);\\n}\\n\\n/** Elements\\n------------------------------------------------------------*/\\n\\na {\\n  text-decoration: none;\\n}\\n\\n/* ---\\n- Buttons\\n--- */\\n\\nbutton {\\n  cursor: pointer;\\n  margin: 0.5rem 0.2rem;\\n  font-size: 1.3rem;\\n}\\n\\n.btn {\\n  background-color: white;\\n  border: 1px solid var(--border-color);\\n  border-radius: 2px;\\n}\\n\\n.btn.active,\\n.btn[data-active=\'true\'] {\\n  border: 1px solid black;\\n}\\n\\n[onclick] {\\n  cursor: pointer;\\n}\\n\\n/* ---\\n- Inputs\\n--- */\\n\\n.outline {\\n  outline: var(--cosma-blue) solid 1px;\\n}\\n\\nlabel {\\n  cursor: pointer;\\n}\\n\\ninput {\\n  font-size: 1.3rem;\\n}\\n\\ninput[type=\'checkbox\'] {\\n  cursor: pointer;\\n  width: 1.2rem;\\n  height: 1.2rem;\\n  margin: 0 0.8rem 0 0;\\n}\\n\\ninput[type=\'range\'] {\\n  cursor: pointer;\\n  width: 100%;\\n  margin-top: 0.3rem;\\n}\\n\\n/* ---\\n- Lists\\n--- */\\n\\ndetails {\\n  padding: 0.5rem 0 1rem 0;\\n}\\n\\ndetails[data-sort] .sort-box:not(.active) {\\n  display: none;\\n}\\n\\ndetails > summary {\\n  cursor: pointer;\\n  text-transform: uppercase;\\n  font-size: 1.3rem;\\n  margin: 1rem 0 0.5rem 0;\\n  font-weight: bold;\\n  outline: none;\\n}\\n\\nsummary + button {\\n  margin: 1rem 0;\\n}\\n\\n.list-content-container ul {\\n  list-style: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.list-content-container ul li {\\n  padding: 0.3rem 0 0.3rem 1rem;\\n}\\n\\n.list-content-container .menu-controls-list {\\n  margin-top: 1.3rem;\\n}\\n\\n.list-content-container ul li span:last-of-type:not(.badge) {\\n  line-height: 1.5;\\n}\\n\\n.record-type-points {\\n  /* colored dot before links */\\n  font-size: 0.8em;\\n  padding-right: 0.8em;\\n}\\n\\n.menu-controls-container p:first-child {\\n  font-weight: bold;\\n}\\n\\n.menu-types-container {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.filter {\\n  margin: 0.1em 0;\\n}\\n\\n.menu-tags-container {\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin-top: 1em;\\n}\\n\\n.menu-tags-container label {\\n  display: flex;\\n  align-items: center;\\n  margin: 0.15em 0.15em 0.15em 0;\\n}\\n\\n.menu-tags-container .label {\\n  margin: 0 0.2em;\\n}\\n\\n.menu-tags-container .badge {\\n  margin: 0.15em 0.15em 0.15em 0;\\n}\\n\\n.menu-tags-container input[type=\'checkbox\'] {\\n  margin: 0.2em;\\n}\\n\\n.menu-index-list {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.menu-index-list.reverse {\\n  flex-direction: column-reverse;\\n}\\n\\n/* ---\\n- Texts\\n--- */\\n\\na {\\n  color: inherit;\\n}\\n\\ncode {\\n  font-family: var(--mono);\\n}\\n\\n/* ---\\n- Tips\\n--- */\\n\\n.badge {\\n  display: inline-block;\\n  background-color: var(--indicator-background-color);\\n  border: 1px solid var(--gray);\\n  border-radius: 1px;\\n  padding: 0 0.3rem;\\n  font-size: 1rem;\\n  margin-left: 0.2rem;\\n  text-align: center;\\n  line-height: 1.5rem;\\n  white-space: nowrap;\\n  font-family: var(--mono);\\n  color: black;\\n}\\n\\n.tooltip {\\n  cursor: pointer;\\n  position: relative;\\n  display: inline-block;\\n  background-color: var(--cosma-blue);\\n  border-radius: 50%;\\n  color: white;\\n  width: 16px;\\n  text-align: center;\\n  height: 16px;\\n  font-weight: normal;\\n}\\n\\n.tooltip .tooltiptext {\\n  visibility: hidden;\\n  width: 120px;\\n  line-height: 130%;\\n  background-color: var(--cosma-blue-dark);\\n  box-shadow: var(--shadow);\\n  text-align: center;\\n  padding: 5px;\\n  border-radius: 2px;\\n  position: absolute;\\n  z-index: 1;\\n  width: 160px;\\n  bottom: 130%;\\n  left: 50%;\\n  margin-left: -80px;\\n}\\n\\n.tooltip:hover .tooltiptext {\\n  visibility: visible;\\n}\\n\\n/** Menu (left side board)\\n------------------------------------------------------------*/\\n\\naside.menu {\\n  box-shadow: var(--shadow);\\n  z-index: 100;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  height: 100vh;\\n  flex: 0 0 30rem;\\n  margin: 0;\\n  padding: 30px 20px;\\n  background-color: var(--background-gray);\\n  color: var(--offblack);\\n}\\n\\naside.menu:not(.active) {\\n  display: none;\\n}\\n\\n/* ---\\n- User title\\n--- */\\n\\n.title {\\n  text-transform: uppercase;\\n  font-size: 1.8rem;\\n  color: var(--cosma-blue-dark);\\n  text-align: center;\\n}\\n\\n/* ---\\n- Toolbar\\n--- */\\n\\n#menu-electron {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-evenly;\\n  align-items: center;\\n  margin-top: 1.5rem;\\n}\\n\\n#menu-electron button {\\n  padding: 0;\\n  margin: 0;\\n  background-color: transparent;\\n  border: none;\\n}\\n\\n#menu-electron button + button {\\n  margin-left: 7px;\\n}\\n\\n#menu-electron button svg {\\n  height: 25px;\\n  width: auto;\\n}\\n\\n#menu-electron button.icon-chevron svg {\\n  height: 18px;\\n}\\n\\n/* ---\\n- Spatialization load bar\\n--- */\\n\\n.load-bar {\\n  height: 0.3em;\\n  padding: 0.1rem;\\n  display: flex;\\n  margin: 1rem 0;\\n  background-color: var(--indicator-background-color);\\n}\\n\\n.load-bar #load-bar-value {\\n  background-color: var(--cosma-blue);\\n  flex-basis: 100%;\\n}\\n\\n/* ---\\n- Search input & list\\n--- */\\n\\n.search-bar {\\n  width: 100%;\\n  margin: 0.8rem 0;\\n}\\n\\n#search-result-list {\\n  margin-bottom: 0.8rem;\\n}\\n\\n#search-result-list li {\\n  cursor: pointer;\\n}\\n\\n/* ---\\n- Controls from graph params\\n--- */\\n\\n.menu-controls input[type=\'number\'] {\\n  width: 7rem;\\n  margin-left: 1rem;\\n}\\n\\n.menu-controls-title {\\n  font-weight: bold;\\n}\\n\\n/* ---\\n- Footer\\n--- */\\n\\naside.menu footer {\\n  display: flex;\\n  justify-content: space-evenly;\\n  position: fixed;\\n  bottom: 0px;\\n  left: 0px;\\n  width: 30rem;\\n  margin-top: 1.8rem;\\n  background-color: inherit;\\n  padding: 0.8rem 0 0.8rem 0.8rem;\\n  text-transform: uppercase;\\n  border-top: solid 1px var(--border-color);\\n  font-size: 1.1rem;\\n  text-align: center;\\n}\\n\\naside.menu footer span:not(:first-of-type)::before {\\n  content: \'â\';\\n}\\n\\n/** Record container (right side board)\\n------------------------------------------------------------*/\\n\\nmain.record-container {\\n  z-index: 100;\\n  top: 0;\\n  right: 0;\\n  padding: 1rem 2rem;\\n  flex: 0 0 50rem;\\n  height: 100vh;\\n  overflow: auto;\\n  background-color: var(--offwhite);\\n  color: var(--offblack);\\n  box-shadow: var(--shadow);\\n}\\n\\nmain.record-container:not(.active) {\\n  display: none;\\n}\\n\\n.empty-record {\\n  margin-top: 4rem;\\n}\\n\\n.empty-record p {\\n  font-size: 1.8rem;\\n}\\n\\n.record:not(.active) {\\n  display: none;\\n}\\n\\n/* ---\\n- Record header\\n--- */\\n\\n.record header {\\n  padding-bottom: 1.5rem;\\n  margin-bottom: 3rem;\\n  border-bottom: 1px solid var(--gray);\\n}\\n\\n.record header div + div,\\n.record-focus-container {\\n  margin-top: 0.8rem;\\n}\\n\\n.record header div span:first-of-type,\\n.record-focus-container > span {\\n  font-size: 1.3rem;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  margin-right: 0.8rem;\\n}\\n\\n.record-last-edit {\\n  display: none;\\n}\\n\\n.record-focus-lever {\\n  display: none;\\n}\\n\\n.record-focus-lever input {\\n  width: 80%;\\n}\\n\\n/* ---\\n- Record content\\n--- */\\n\\n.record-content a {\\n  text-decoration: underline;\\n}\\n\\n.record img {\\n  height: auto;\\n  max-width: 100%;\\n}\\n\\n.record header img {\\n  height: auto;\\n  max-width: 100%;\\n  margin: 1rem 0;\\n}\\n\\n/* From Typesafe.css, by Bradley Taunt */\\n\\n.record main {\\n  font-size: 1.6rem;\\n  line-height: 1.5;\\n  font-family: var(--serif);\\n}\\n\\n.record main h1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6 {\\n  font-family: var(--sans);\\n  margin: 3rem 0 0 0;\\n}\\n\\n.record main h1 {\\n  font-size: 1.8rem;\\n}\\n\\n.record main h2 {\\n  font-size: 1.6rem;\\n}\\n\\n.record main h3 {\\n  font-size: 1.4rem;\\n}\\n\\n.record main a {\\n  word-wrap: break-word;\\n}\\n\\n.record main a.record-link {\\n  color: #337ab7;\\n}\\n\\na.record-link.highlight {\\n  font-style: normal;\\n  background-color: rgba(255, 255, 182, 1);\\n}\\n\\n.record main ul,\\n.record main ol {\\n  padding-left: 2rem;\\n}\\n\\n.record main ul li,\\n.record ol li {\\n  margin: 0.5rem 0 0 0;\\n}\\n\\n.record main pre {\\n  overflow: auto;\\n  font-size: 90%;\\n}\\n\\n.record main blockquote {\\n  border-left: 5px solid var(--border-color);\\n  margin: 0;\\n  padding-left: 1rem;\\n}\\n\\n.record main table {\\n  border-collapse: collapse;\\n  margin: 2rem 0;\\n  text-align: left;\\n  width: 100%;\\n}\\n\\n.record main tr {\\n  border-bottom: 1px solid var(--border-color);\\n}\\n\\n.record main th,\\n.record main td {\\n  padding: 0.5rem;\\n}\\n\\n.record main hr {\\n  background: var(--border-color);\\n  border: 0;\\n  height: 1px;\\n  margin: 2rem 0;\\n}\\n\\n/* ---\\n- Record bibliography\\n--- */\\n\\n.record .bibliography div + div {\\n  margin-top: 1rem;\\n}\\n\\n.record div.csl-entry {\\n  width: inherit;\\n  text-indent: -2rem;\\n  padding-left: 2rem;\\n  margin: 0.75rem 0 0 0;\\n  line-height: 1.3;\\n  overflow-wrap: break-word;\\n  word-wrap: break-word;\\n  -ms-word-break: break-all;\\n  word-break: break-word;\\n}\\n\\n/* ---\\n- Record footer\\n--- */\\n\\n.record footer {\\n  margin-top: 3rem;\\n  border-top: 1px solid var(--gray);\\n}\\n\\n.record footer li {\\n  /* links & backlinks */\\n  position: relative;\\n}\\n\\n.record footer li .record-links-context {\\n  background: white;\\n  padding: 0.8rem;\\n  border-radius: 2px;\\n  margin-top: 0.8rem;\\n  bottom: calc(100% + 10px);\\n  box-shadow: var(--shadow);\\n  text-indent: 0;\\n}\\n\\n.record footer li .record-links-context.hover {\\n  position: absolute;\\n  display: none;\\n}\\n\\n.record footer li:hover .record-links-context.hover {\\n  display: block;\\n}\\n\\n.record footer li .record-links-context li::before {\\n  content: \'-\';\\n  position: relative;\\n  left: -5px;\\n}\\n\\n.record footer li .record-links-context p,\\n.record footer li .record-links-context blockquote {\\n  margin: 0px;\\n}\\n\\n.record footer li .record-links-context p + p {\\n  margin-top: 0.8rem;\\n}\\n\\n/** Graph\\n------------------------------------------------------------*/\\n\\n.graph-wrapper {\\n  top: 0;\\n  right: 0;\\n  height: 100vh;\\n  flex: 1;\\n}\\n\\n#graph-canvas {\\n  cursor: move;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n/* ---\\n- Graph elements\\n--- */\\n\\n[data-node].highlight .border {\\n  fill: var(--highlight);\\n}\\n\\n[data-link].highlight {\\n  stroke: var(--highlight);\\n}\\n\\n[data-node].translucent,\\n[data-link].translucent {\\n  opacity: 0.5;\\n}\\n\\n[data-node].hide,\\n[data-link].hide,\\n[data-node] .label.hide {\\n  visibility: hidden;\\n}\\n\\n/* nodes */\\n[data-node] {\\n  cursor: pointer;\\n}\\n\\ng.focus circle {\\n  stroke: var(--highlight);\\n}\\n\\n/* labels */\\ntext {\\n  font-family: var(--condensed);\\n  fill: gray;\\n}\\n\\n/* arrows */\\nmarker {\\n  /* set into config.yml file by \'undefined\' link type */\\n  stroke: var(--l_undefined);\\n  fill: var(--l_undefined);\\n}\\n\\n/* ---\\n- Buttons\\n--- */\\n\\n.graph-controls-section + .graph-controls-section {\\n  margin-top: 10px;\\n}\\n\\n.graph-control-label {\\n  margin-bottom: 5px;\\n}\\n\\n.graph-controls {\\n  position: fixed;\\n  left: 34rem;\\n  display: flex;\\n  align-items: flex-start;\\n  flex-direction: column;\\n  bottom: 55px;\\n}\\n\\n.graph-controls.move {\\n  left: 4rem;\\n}\\n\\n.graph-timeline {\\n  position: absolute;\\n  display: flex;\\n  align-items: flex-start;\\n  flex-direction: column;\\n}\\n\\n.graph-controls div {\\n  position: relative;\\n}\\n\\n.graph-controls div.graph-controls-zoom {\\n  display: flex;\\n  justify-content: space-between;\\n  position: relative;\\n}\\n\\n.graph-controls-focus {\\n  display: flex;\\n  justify-content: flex-start;\\n  flex-flow: row wrap;\\n}\\n\\n.graph-controls-focus input[type=\'range\']:not(.active) {\\n  display: none;\\n}\\n\\n.graph-controls #reset-isolate {\\n  display: none;\\n}\\n\\n.graph-controls #reset-highlight {\\n  display: none;\\n}\\n\\n#timeline-form {\\n  width: calc(100vw - 850px);\\n  backdrop-filter: blur(7px);\\n}\\n\\n#timeline-form:not(.active) {\\n  display: none;\\n}\\n\\n#timeline-form input[type=\'range\'] {\\n  width: 100%;\\n}\\n\\n#timeline-range output[name=\'timeline_output\'] {\\n  color: gray;\\n  position: relative;\\n  text-align: center;\\n}\\n\\n#chonos-list {\\n  display: flex;\\n  color: gray;\\n  justify-content: space-between;\\n}\\n\\n/* thanks to https://stackoverflow.com/a/62983699/13491646 */\\n\\ninput[type=\'range\'] + datalist {\\n  display: block;\\n  margin-top: -4px;\\n}\\n\\ninput[type=\'range\'] + datalist option {\\n  cursor: pointer;\\n  display: inline-block;\\n  width: calc((100% - 12px) / (var(--list-length) - 1));\\n  text-align: center;\\n  font-size: 11px;\\n  color: gray;\\n}\\n\\ninput[type=\'range\'] + datalist option:first-child {\\n  width: calc((100% - 12px) / ((var(--list-length) - 1) * 2) + 6px);\\n  text-align: left;\\n}\\n\\ninput[type=\'range\'] + datalist option:last-child {\\n  width: calc((100% - 12px) / ((var(--list-length) - 1) * 2) + 6px);\\n  text-align: right;\\n}\\n\\n/** Credits\\n------------------------------------------------------------*/\\n\\narticle#credits {\\n  text-align: center;\\n}\\n\\narticle#credits ul {\\n  list-style-type: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\narticle#credits dt {\\n  font-weight: bold;\\n}\\n\\narticle#credits dd,\\narticle#credits li {\\n  margin: 0;\\n  padding: 0 0 0.5rem 0;\\n}\\n\\narticle#credits h1.metas-title {\\n  font-size: 2rem;\\n}\\n\\n/* ---\\n- Logo\\n--- */\\n\\n.logo {\\n  cursor: pointer;\\n}\\n\\n.logo svg {\\n  display: block;\\n  margin: 0 auto;\\n  max-width: 300px;\\n}\\n\\n@keyframes rotate-center {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n\\n  50% {\\n    transform: rotate(270deg);\\n  }\\n\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n#cosma-roll {\\n  transform-origin: 96px 42px;\\n}\\n\\n#cosma-roll.anim {\\n  animation: 3s cubic-bezier(0.2, -0.2, 0.8, 1) 1 rotate-center;\\n}\\n\\n/** Help\\n------------------------------------------------------------*/\\n\\n#help td:first-child {\\n  font-weight: bold;\\n  text-align: right;\\n}\\n\\n#help td {\\n  vertical-align: top;\\n}\\n\\n#help tr {\\n  border-top: 1px solid var(--border-color);\\n  border-bottom: 1px solid var(--border-color);\\n}\\n\\n/** Bibliography references\\n------------------------------------------------------------*/\\n\\n#citation-references button {\\n  margin-bottom: 2rem;\\n}\\n\\n#citation-references code {\\n  display: block;\\n  word-wrap: break-word;\\n  font-size: 1.2rem;\\n  max-height: 75vh;\\n  overflow: scroll;\\n  border-top: 1px solid var(--border-color);\\n  border-bottom: 1px solid var(--border-color);\\n}\\n\\n.close-button {\\n  position: absolute;\\n  top: 5px;\\n  z-index: 200;\\n  padding: 1px 5px 4px 4px;\\n}\\n\\n.close-button.active {\\n  transform: scaleX(-1);\\n}\\n\\n.close-button.right {\\n  right: 10px;\\n  text-orientation: upright;\\n}\\n\\n.close-button.left {\\n  left: 10px;\\n}\\n",""]);const s=a},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<t.length;u++){var h=[].concat(t[u]);r&&a[h[0]]||(void 0!==o&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),e.push(h))}},e}},601:t=>{"use strict";t.exports=function(t){return t[1]}},30:(t,e,n)=>{var r=n(208);function i(t){this.graph=t,this.queue=new r(Array,t.order),this.seen=new Set,this.size=0}i.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order},i.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size},i.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,n=this.graph;n.someNode((function(r,i){return e.size===n.order||!e.has(r)&&!!t(r,i)}))},i.prototype.has=function(t){return this.seen.has(t)},i.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e!==this.seen.size&&(this.queue.push(t),this.size++,!0)},i.prototype.pushWith=function(t,e){var n=this.seen.size;return this.seen.add(t),n!==this.seen.size&&(this.queue.push(e),this.size++,!0)},i.prototype.shift=function(){var t=this.queue.shift();return this.size=this.queue.size,t},t.exports=i},563:(t,e,n)=>{var r=n(736),i=n(30),o=n(331),a=o.TraversalRecord,s=o.capitalize;e.g=function(t,e,n,o){if(o=o||{},!r(t))throw new Error("graphology-traversal/bfs: expecting a graphology instance.");if("function"!=typeof n)throw new Error("graphology-traversal/bfs: given callback is not a function.");if(0!==t.order){var c,u=new i(t),h=t["forEach"+s(o.mode||"outbound")+"Neighbor"].bind(t);(null===e?u.forEachNodeYetUnseen.bind(u):function(n){n(e=""+e,t.getNodeAttributes(e))})((function(t,e){for(u.pushWith(t,new a(t,e,0));0!==u.size;)c=u.shift(),!0!==n(c.node,c.attributes,c.depth)&&h(c.node,l)}))}function l(t,e){u.pushWith(t,new a(t,e,c.depth+1))}}},331:(t,e)=>{e.TraversalRecord=function(t,e,n){this.node=t,this.attributes=e,this.depth=n},e.capitalize=function(t){return t[0].toUpperCase()+t.slice(1)}},736:t=>{t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi}},934:function(t){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function i(t,e,n){return i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},i.apply(null,arguments)}function o(t){var e="function"==typeof Map?new Map:void 0;return o=function(t){if(null===t||(o=t,-1===Function.toString.call(o).indexOf("[native code]")))return t;var o;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return i(t,arguments,n(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,t)},o(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}var s=function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t};function c(t,e,n,r){var i=t._nodes.get(e),o=null;return i?o="mixed"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:"directed"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function u(e){return"object"===t(e)&&null!==e}function h(t){var e;for(e in t)return!1;return!0}function l(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function d(t,e,n){var r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function f(t){return!(!u(t)||t.attributes&&!Array.isArray(t.attributes))}"function"==typeof Object.assign&&(s=Object.assign);var p,g={exports:{}},y="object"==typeof Reflect?Reflect:null,m=y&&"function"==typeof y.apply?y.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};p=y&&"function"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var v=Number.isNaN||function(t){return t!=t};function w(){w.init.call(this)}g.exports=w,g.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}G(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&G(t,"error",e,{once:!0})}(t,i)}))},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var b=10;function x(t){if("function"!=typeof t)throw new TypeError(\'The "listener" argument must be of type Function. Received type \'+typeof t)}function _(t){return void 0===t._maxListeners?w.defaultMaxListeners:t._maxListeners}function k(t,e,n,r){var i,o,a,s;if(x(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=_(t))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return t}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=E.bind(r);return i.listener=n,r.wrapFn=i,i}function S(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):M(i,i.length)}function L(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function M(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function G(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError(\'The "emitter" argument must be of type EventEmitter. Received type \'+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}function N(t){if("function"!=typeof t)throw new Error("obliterator/iterator: expecting a function!");this.next=t}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(t){if("number"!=typeof t||t<0||v(t))throw new RangeError(\'The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received \'+t+".");b=t}}),w.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||v(t))throw new RangeError(\'The value of "n" is out of range. It must be a non-negative number. Received \'+t+".");return this._maxListeners=t,this},w.prototype.getMaxListeners=function(){return _(this)},w.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[t];if(void 0===s)return!1;if("function"==typeof s)m(s,this,e);else{var c=s.length,u=M(s,c);for(n=0;n<c;++n)m(u[n],this,e)}return!0},w.prototype.addListener=function(t,e){return k(this,t,e,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(t,e){return k(this,t,e,!0)},w.prototype.once=function(t,e){return x(e),this.on(t,A(this,t,e)),this},w.prototype.prependOnceListener=function(t,e){return x(e),this.prependListener(t,A(this,t,e)),this},w.prototype.removeListener=function(t,e){var n,r,i,o,a;if(x(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},w.prototype.listeners=function(t){return S(this,t,!0)},w.prototype.rawListeners=function(t){return S(this,t,!1)},w.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):L.call(t,e)},w.prototype.listenerCount=L,w.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]},"undefined"!=typeof Symbol&&(N.prototype[Symbol.iterator]=function(){return this}),N.of=function(){var t=arguments,e=t.length,n=0;return new N((function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}}))},N.empty=function(){return new N((function(){return{done:!0}}))},N.fromSequence=function(t){var e=0,n=t.length;return new N((function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}}))},N.is=function(t){return t instanceof N||"object"==typeof t&&null!==t&&"function"==typeof t.next};var z=N,C={};C.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,C.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var O=z,j=C,D=j.ARRAY_BUFFER_SUPPORT,I=j.SYMBOL_SUPPORT,U=function(t){var e=function(t){return"string"==typeof t||Array.isArray(t)||D&&ArrayBuffer.isView(t)?O.fromSequence(t):"object"!=typeof t||null===t?null:I&&"function"==typeof t[Symbol.iterator]?t[Symbol.iterator]():"function"==typeof t.next?t:null}(t);if(!e)throw new Error("obliterator: target is not iterable nor a valid iterator.");return e},T=U,P=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0,a=T(t);;){if(o===r)return i;if((n=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=n.value}},R=function(t){function n(e){var n;return(n=t.call(this)||this).name="GraphError",n.message=e,n}return e(n,t),n}(o(Error)),$=function(t){function n(e){var r;return(r=t.call(this,e)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a(r),n.prototype.constructor),r}return e(n,t),n}(R),q=function(t){function n(e){var r;return(r=t.call(this,e)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a(r),n.prototype.constructor),r}return e(n,t),n}(R),B=function(t){function n(e){var r;return(r=t.call(this,e)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a(r),n.prototype.constructor),r}return e(n,t),n}(R);function F(t,e){this.key=t,this.attributes=e,this.clear()}function K(t,e){this.key=t,this.attributes=e,this.clear()}function W(t,e){this.key=t,this.attributes=e,this.clear()}function Y(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}function X(t,e,n,r,i,o,a){var s,c,u,h;if(r=""+r,0===n){if(!(s=t._nodes.get(r)))throw new q("Graph.".concat(e,\': could not find the "\').concat(r,\'" node in the graph.\'));u=i,h=o}else if(3===n){if(i=""+i,!(c=t._edges.get(i)))throw new q("Graph.".concat(e,\': could not find the "\').concat(i,\'" edge in the graph.\'));var l=c.source.key,d=c.target.key;if(r===l)s=c.target;else{if(r!==d)throw new q("Graph.".concat(e,\': the "\').concat(r,\'" node is not attached to the "\').concat(i,\'" edge (\').concat(l,", ").concat(d,")."));s=c.source}u=o,h=a}else{if(!(c=t._edges.get(r)))throw new q("Graph.".concat(e,\': could not find the "\').concat(r,\'" edge in the graph.\'));s=1===n?c.source:c.target,u=i,h=o}return[s,u,h]}F.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},K.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},W.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},Y.prototype.attach=function(){var t="out",e="in";this.undirected&&(t=e="undirected");var n=this.source.key,r=this.target.key;this.source[t][r]=this,this.undirected&&n===r||(this.target[e][n]=this)},Y.prototype.attachMulti=function(){var t="out",e="in",n=this.source.key,r=this.target.key;this.undirected&&(t=e="undirected");var i=this.source[t],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[e][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[e][n]=this},Y.prototype.detach=function(){var t=this.source.key,e=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][e],delete this.target[r][t]},Y.prototype.detachMulti=function(){var t=this.source.key,e=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var H=[{name:function(t){return"get".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=X(this,e,n,t,r,i),a=o[0],s=o[1];return a.attributes[s]}}},{name:function(t){return"get".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r){return X(this,e,n,t,r)[0].attributes}}},{name:function(t){return"has".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=X(this,e,n,t,r,i),a=o[0],s=o[1];return a.attributes.hasOwnProperty(s)}}},{name:function(t){return"set".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=X(this,e,n,t,r,i,o),s=a[0],c=a[1],u=a[2];return s.attributes[c]=u,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:c}),this}}},{name:function(t){return"update".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=X(this,e,n,t,r,i,o),s=a[0],c=a[1],u=a[2];if("function"!=typeof u)throw new $("Graph.".concat(e,": updater should be a function."));var h=s.attributes,l=u(h[c]);return h[c]=l,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:c}),this}}},{name:function(t){return"remove".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=X(this,e,n,t,r,i),a=o[0],s=o[1];return delete a.attributes[s],this.emit("nodeAttributesUpdated",{key:a.key,type:"remove",attributes:a.attributes,name:s}),this}}},{name:function(t){return"replace".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=X(this,e,n,t,r,i),a=o[0],s=o[1];if(!u(s))throw new $("Graph.".concat(e,": provided attributes are not a plain object."));return a.attributes=s,this.emit("nodeAttributesUpdated",{key:a.key,type:"replace",attributes:a.attributes}),this}}},{name:function(t){return"merge".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=X(this,e,n,t,r,i),a=o[0],c=o[1];if(!u(c))throw new $("Graph.".concat(e,": provided attributes are not a plain object."));return s(a.attributes,c),this.emit("nodeAttributesUpdated",{key:a.key,type:"merge",attributes:a.attributes,data:c}),this}}},{name:function(t){return"update".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=X(this,e,n,t,r,i),a=o[0],s=o[1];if("function"!=typeof s)throw new $("Graph.".concat(e,": provided updater is not a function."));return a.attributes=s(a.attributes),this.emit("nodeAttributesUpdated",{key:a.key,type:"update",attributes:a.attributes}),this}}}],V=[{name:function(t){return"get".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new B("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new B("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge\'s attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new q("Graph.".concat(e,\': could not find an edge for the given path ("\').concat(o,\'" - "\').concat(a,\'").\'))}else{if("mixed"!==n)throw new B("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new q("Graph.".concat(e,\': could not find the "\').concat(t,\'" edge in the graph.\'))}return i.attributes[r]}}},{name:function(t){return"get".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t){var r;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new B("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new B("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge\'s attributes in a MultiGraph since we cannot infer the one you want information about."));var i=""+t,o=""+arguments[1];if(!(r=c(this,i,o,n)))throw new q("Graph.".concat(e,\': could not find an edge for the given path ("\').concat(i,\'" - "\').concat(o,\'").\'))}else{if("mixed"!==n)throw new B("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(r=this._edges.get(t)))throw new q("Graph.".concat(e,\': could not find the "\').concat(t,\'" edge in the graph.\'))}return r.attributes}}},{name:function(t){return"has".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new B("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new B("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge\'s attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new q("Graph.".concat(e,\': could not find an edge for the given path ("\').concat(o,\'" - "\').concat(a,\'").\'))}else{if("mixed"!==n)throw new B("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new q("Graph.".concat(e,\': could not find the "\').concat(t,\'" edge in the graph.\'))}return i.attributes.hasOwnProperty(r)}}},{name:function(t){return"set".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new B("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new B("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge\'s attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+t,s=""+r;if(r=arguments[2],i=arguments[3],!(o=c(this,a,s,n)))throw new q("Graph.".concat(e,\': could not find an edge for the given path ("\').concat(a,\'" - "\').concat(s,\'").\'))}else{if("mixed"!==n)throw new B("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(o=this._edges.get(t)))throw new q("Graph.".concat(e,\': could not find the "\').concat(t,\'" edge in the graph.\'))}return o.attributes[r]=i,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(t){return"update".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new B("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new B("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge\'s attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+t,s=""+r;if(r=arguments[2],i=arguments[3],!(o=c(this,a,s,n)))throw new q("Graph.".concat(e,\': could not find an edge for the given path ("\').concat(a,\'" - "\').concat(s,\'").\'))}else{if("mixed"!==n)throw new B("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(o=this._edges.get(t)))throw new q("Graph.".concat(e,\': could not find the "\').concat(t,\'" edge in the graph.\'))}if("function"!=typeof i)throw new $("Graph.".concat(e,": updater should be a function."));return o.attributes[r]=i(o.attributes[r]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(t){return"remove".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new B("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new B("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge\'s attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new q("Graph.".concat(e,\': could not find an edge for the given path ("\').concat(o,\'" - "\').concat(a,\'").\'))}else{if("mixed"!==n)throw new B("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new q("Graph.".concat(e,\': could not find the "\').concat(t,\'" edge in the graph.\'))}return delete i.attributes[r],this.emit("edgeAttributesUpdated",{key:i.key,type:"remove",attributes:i.attributes,name:r}),this}}},{name:function(t){return"replace".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new B("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new B("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge\'s attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new q("Graph.".concat(e,\': could not find an edge for the given path ("\').concat(o,\'" - "\').concat(a,\'").\'))}else{if("mixed"!==n)throw new B("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new q("Graph.".concat(e,\': could not find the "\').concat(t,\'" edge in the graph.\'))}if(!u(r))throw new $("Graph.".concat(e,": provided attributes are not a plain object."));return i.attributes=r,this.emit("edgeAttributesUpdated",{key:i.key,type:"replace",attributes:i.attributes}),this}}},{name:function(t){return"merge".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new B("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new B("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge\'s attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new q("Graph.".concat(e,\': could not find an edge for the given path ("\').concat(o,\'" - "\').concat(a,\'").\'))}else{if("mixed"!==n)throw new B("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new q("Graph.".concat(e,\': could not find the "\').concat(t,\'" edge in the graph.\'))}if(!u(r))throw new $("Graph.".concat(e,": provided attributes are not a plain object."));return s(i.attributes,r),this.emit("edgeAttributesUpdated",{key:i.key,type:"merge",attributes:i.attributes,data:r}),this}}},{name:function(t){return"update".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new B("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new B("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge\'s attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new q("Graph.".concat(e,\': could not find an edge for the given path ("\').concat(o,\'" - "\').concat(a,\'").\'))}else{if("mixed"!==n)throw new B("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new q("Graph.".concat(e,\': could not find the "\').concat(t,\'" edge in the graph.\'))}if("function"!=typeof r)throw new $("Graph.".concat(e,": provided updater is not a function."));return i.attributes=r(i.attributes),this.emit("edgeAttributesUpdated",{key:i.key,type:"update",attributes:i.attributes}),this}}}],J=z,Q=U,Z=function(){var t=arguments,e=null,n=-1;return new J((function(){for(var r=null;;){if(null===e){if(++n>=t.length)return{done:!0};e=Q(t[n])}if(!0!==(r=e.next()).done)break;e=null}return r}))},tt=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function et(t,e,n,r){var i=!1;for(var o in e)if(o!==r){var a=e[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),t&&i)return a.key}}function nt(t,e,n,r){var i,o,a,s=!1;for(var c in e)if(c!==r){i=e[c];do{if(o=i.source,a=i.target,s=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),t&&s)return i.key;i=i.next}while(void 0!==i)}}function rt(t,e){var n,r=Object.keys(t),i=r.length,o=0;return new z((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===e){n=void 0;continue}n=t[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function it(t,e,n,r){var i=e[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&t?i.key:void 0}}function ot(t,e,n,r){var i=e[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&o)return i.key;i=i.next}while(void 0!==i)}}function at(t,e){var n=t[e];return void 0!==n.next?new z((function(){if(!n)return{done:!0};var t={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:t}})):z.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function st(t,e,n,r){if(0!==e.size)for(var i,o,a="mixed"!==n&&n!==e.type,s="undirected"===n,c=!1,u=e._edges.values();!0!==(i=u.next()).done;)if(o=i.value,!a||o.undirected===s){var h=o,l=h.key,d=h.attributes,f=h.source,p=h.target;if(c=r(l,d,f.key,p.key,f.attributes,p.attributes,o.undirected),t&&c)return l}}function ct(t,e,n,r,i,o){var a,s=e?nt:et;if("undirected"!==n){if("out"!==r&&(a=s(t,i.in,o),t&&a))return a;if("in"!==r&&(a=s(t,i.out,o,r?void 0:i.key),t&&a))return a}if("directed"!==n&&(a=s(t,i.undirected,o),t&&a))return a}function ut(t,e,n,r,i,o,a){var s,c=n?ot:it;if("undirected"!==e){if(void 0!==i.in&&"out"!==r&&(s=c(t,i.in,o,a),t&&s))return s;if(void 0!==i.out&&"in"!==r&&(r||i.key!==o)&&(s=c(t,i.out,o,a),t&&s))return s}if("directed"!==e&&void 0!==i.undirected&&(s=c(t,i.undirected,o,a),t&&s))return s}var ht=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function lt(){this.A=null,this.B=null}function dt(t,e,n,r,i){for(var o in r){var a=r[o],s=a.source,c=a.target,u=s===n?c:s;if(!e||!e.has(u.key)){var h=i(u.key,u.attributes);if(t&&h)return u.key}}}function ft(t,e,n,r,i){if("mixed"!==e){if("undirected"===e)return dt(t,null,r,r.undirected,i);if("string"==typeof n)return dt(t,null,r,r[n],i)}var o,a=new lt;if("undirected"!==e){if("out"!==n){if(o=dt(t,null,r,r.in,i),t&&o)return o;a.wrap(r.in)}if("in"!==n){if(o=dt(t,a,r,r.out,i),t&&o)return o;a.wrap(r.out)}}if("directed"!==e&&(o=dt(t,a,r,r.undirected,i),t&&o))return o}function pt(t,e,n){var r=Object.keys(n),i=r.length,o=0;return new z((function(){var a=null;do{if(o>=i)return t&&t.wrap(n),{done:!0};var s=n[r[o++]],c=s.source,u=s.target;a=c===e?u:c,t&&t.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function gt(t,e,n,r,i){for(var o,a,s,c,u,h,l,d=r._nodes.values(),f=r.type;!0!==(o=d.next()).done;){var p=!1;if(a=o.value,"undirected"!==f)for(s in c=a.out){u=c[s];do{if(h=u.target,p=!0,l=i(a.key,h.key,a.attributes,h.attributes,u.key,u.attributes,u.undirected),t&&l)return u;u=u.next}while(u)}if("directed"!==f)for(s in c=a.undirected)if(!(e&&a.key>s)){u=c[s];do{if((h=u.target).key!==s&&(h=u.source),p=!0,l=i(a.key,h.key,a.attributes,h.attributes,u.key,u.attributes,u.undirected),t&&l)return u;u=u.next}while(u)}if(n&&!p&&(l=i(a.key,null,a.attributes,null,null,null,null),t&&l))return null}}function yt(t){if(!u(t))throw new $(\'Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.\');if(!("key"in t))throw new $("Graph.import: serialized node is missing its key.");if("attributes"in t&&(!u(t.attributes)||null===t.attributes))throw new $("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function mt(t){if(!u(t))throw new $(\'Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.\');if(!("source"in t))throw new $("Graph.import: serialized edge is missing its source.");if(!("target"in t))throw new $("Graph.import: serialized edge is missing its target.");if("attributes"in t&&(!u(t.attributes)||null===t.attributes))throw new $("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in t&&"boolean"!=typeof t.undirected)throw new $("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}lt.prototype.wrap=function(t){null===this.A?this.A=t:null===this.B&&(this.B=t)},lt.prototype.has=function(t){return null!==this.A&&t in this.A||null!==this.B&&t in this.B};var vt,wt=(vt=255&Math.floor(256*Math.random()),function(){return vt++}),bt=new Set(["directed","undirected","mixed"]),xt=new Set(["domain","_events","_eventsCount","_maxListeners"]),_t={allowSelfLoops:!0,multi:!1,type:"mixed"};function kt(t,e,n){var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function Et(t,e,n,r,i,o,a,s){if(!r&&"undirected"===t.type)throw new B("Graph.".concat(e,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===t.type)throw new B("Graph.".concat(e,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s&&!u(s))throw new $("Graph.".concat(e,\': invalid attributes. Expecting an object but got "\').concat(s,\'"\'));if(o=""+o,a=""+a,s=s||{},!t.allowSelfLoops&&o===a)throw new B("Graph.".concat(e,\': source & target are the same ("\').concat(o,"\\"), thus creating a loop explicitly forbidden by this graph \'allowSelfLoops\' option set to false."));var c=t._nodes.get(o),h=t._nodes.get(a);if(!c)throw new q("Graph.".concat(e,\': source node "\').concat(o,\'" not found.\'));if(!h)throw new q("Graph.".concat(e,\': target node "\').concat(a,\'" not found.\'));var l={key:null,undirected:r,source:o,target:a,attributes:s};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new B("Graph.".concat(e,\': the "\').concat(i,\'" edge already exists in the graph.\'));if(!t.multi&&(r?void 0!==c.undirected[a]:void 0!==c.out[a]))throw new B("Graph.".concat(e,\': an edge linking "\').concat(o,\'" to "\').concat(a,"\\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the \'multi\' option."));var d=new Y(r,i,c,h,s);t._edges.set(i,d);var f=o===a;return r?(c.undirectedDegree++,h.undirectedDegree++,f&&(c.undirectedLoops++,t._undirectedSelfLoopCount++)):(c.outDegree++,h.inDegree++,f&&(c.directedLoops++,t._directedSelfLoopCount++)),t.multi?d.attachMulti():d.attach(),r?t._undirectedSize++:t._directedSize++,l.key=i,t.emit("edgeAdded",l),i}function At(t,e,n,r,i,o,a,c,h){if(!r&&"undirected"===t.type)throw new B("Graph.".concat(e,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(r&&"directed"===t.type)throw new B("Graph.".concat(e,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(c)if(h){if("function"!=typeof c)throw new $("Graph.".concat(e,\': invalid updater function. Expecting a function but got "\').concat(c,\'"\'))}else if(!u(c))throw new $("Graph.".concat(e,\': invalid attributes. Expecting an object but got "\').concat(c,\'"\'));var l;if(o=""+o,a=""+a,h&&(l=c,c=void 0),!t.allowSelfLoops&&o===a)throw new B("Graph.".concat(e,\': source & target are the same ("\').concat(o,"\\"), thus creating a loop explicitly forbidden by this graph \'allowSelfLoops\' option set to false."));var d,f,p=t._nodes.get(o),g=t._nodes.get(a);if(!n&&(d=t._edges.get(i))){if(!(d.source.key===o&&d.target.key===a||r&&d.source.key===a&&d.target.key===o))throw new B("Graph.".concat(e,\': inconsistency detected when attempting to merge the "\').concat(i,\'" edge with "\').concat(o,\'" source & "\').concat(a,\'" target vs. ("\').concat(d.source.key,\'", "\').concat(d.target.key,\'").\'));f=d}if(f||t.multi||!p||(f=r?p.undirected[a]:p.out[a]),f){var y=[f.key,!1,!1,!1];if(h?!l:!c)return y;if(h){var m=f.attributes;f.attributes=l(m),t.emit("edgeAttributesUpdated",{type:"replace",key:f.key,attributes:f.attributes})}else s(f.attributes,c),t.emit("edgeAttributesUpdated",{type:"merge",key:f.key,attributes:f.attributes,data:c});return y}c=c||{},h&&l&&(c=l(c));var v={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new B("Graph.".concat(e,\': the "\').concat(i,\'" edge already exists in the graph.\'));var w=!1,b=!1;p||(p=kt(t,o,{}),w=!0,o===a&&(g=p,b=!0)),g||(g=kt(t,a,{}),b=!0),d=new Y(r,i,p,g,c),t._edges.set(i,d);var x=o===a;return r?(p.undirectedDegree++,g.undirectedDegree++,x&&(p.undirectedLoops++,t._undirectedSelfLoopCount++)):(p.outDegree++,g.inDegree++,x&&(p.directedLoops++,t._directedSelfLoopCount++)),t.multi?d.attachMulti():d.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit("edgeAdded",v),[i,!0,w,b]}function St(t,e){t._edges.delete(e.key);var n=e.source,r=e.target,i=e.attributes,o=e.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,a&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),o?t._undirectedSize--:t._directedSize--,t.emit("edgeDropped",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:o})}var Lt=function(n){function r(t){var e;if(e=n.call(this)||this,"boolean"!=typeof(t=s({},_t,t)).multi)throw new $("Graph.constructor: invalid \'multi\' option. Expecting a boolean but got \\"".concat(t.multi,\'".\'));if(!bt.has(t.type))throw new $(\'Graph.constructor: invalid \\\'type\\\' option. Should be one of "mixed", "directed" or "undirected" but got "\'.concat(t.type,\'".\'));if("boolean"!=typeof t.allowSelfLoops)throw new $("Graph.constructor: invalid \'allowSelfLoops\' option. Expecting a boolean but got \\"".concat(t.allowSelfLoops,\'".\'));var r="mixed"===t.type?F:"directed"===t.type?K:W;l(a(e),"NodeDataClass",r);var i="geid_"+wt()+"_",o=0;return l(a(e),"_attributes",{}),l(a(e),"_nodes",new Map),l(a(e),"_edges",new Map),l(a(e),"_directedSize",0),l(a(e),"_undirectedSize",0),l(a(e),"_directedSelfLoopCount",0),l(a(e),"_undirectedSelfLoopCount",0),l(a(e),"_edgeKeyGenerator",(function(){var t;do{t=i+o++}while(e._edges.has(t));return t})),l(a(e),"_options",t),xt.forEach((function(t){return l(a(e),t,e[t])})),d(a(e),"order",(function(){return e._nodes.size})),d(a(e),"size",(function(){return e._edges.size})),d(a(e),"directedSize",(function(){return e._directedSize})),d(a(e),"undirectedSize",(function(){return e._undirectedSize})),d(a(e),"selfLoopCount",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),d(a(e),"directedSelfLoopCount",(function(){return e._directedSelfLoopCount})),d(a(e),"undirectedSelfLoopCount",(function(){return e._undirectedSelfLoopCount})),d(a(e),"multi",e._options.multi),d(a(e),"type",e._options.type),d(a(e),"allowSelfLoops",e._options.allowSelfLoops),d(a(e),"implementation",(function(){return"graphology"})),e}e(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(""+t)},i.hasDirectedEdge=function(t,e){if("undirected"===this.type)return!1;if(1===arguments.length){var n=""+t,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){t=""+t,e=""+e;var i=this._nodes.get(t);return!!i&&i.out.hasOwnProperty(e)}throw new $("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasUndirectedEdge=function(t,e){if("directed"===this.type)return!1;if(1===arguments.length){var n=""+t,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){t=""+t,e=""+e;var i=this._nodes.get(t);return!!i&&i.undirected.hasOwnProperty(e)}throw new $("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasEdge=function(t,e){if(1===arguments.length){var n=""+t;return this._edges.has(n)}if(2===arguments.length){t=""+t,e=""+e;var r=this._nodes.get(t);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(e)||void 0!==r.undirected&&r.undirected.hasOwnProperty(e))}throw new $("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.directedEdge=function(t,e){if("undirected"!==this.type){if(t=""+t,e=""+e,this.multi)throw new B("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var n=this._nodes.get(t);if(!n)throw new q(\'Graph.directedEdge: could not find the "\'.concat(t,\'" source node in the graph.\'));if(!this._nodes.has(e))throw new q(\'Graph.directedEdge: could not find the "\'.concat(e,\'" target node in the graph.\'));var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(t,e){if("directed"!==this.type){if(t=""+t,e=""+e,this.multi)throw new B("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var n=this._nodes.get(t);if(!n)throw new q(\'Graph.undirectedEdge: could not find the "\'.concat(t,\'" source node in the graph.\'));if(!this._nodes.has(e))throw new q(\'Graph.undirectedEdge: could not find the "\'.concat(e,\'" target node in the graph.\'));var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},i.edge=function(t,e){if(this.multi)throw new B("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new q(\'Graph.edge: could not find the "\'.concat(t,\'" source node in the graph.\'));if(!this._nodes.has(e))throw new q(\'Graph.edge: could not find the "\'.concat(e,\'" target node in the graph.\'));var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new q(\'Graph.areDirectedNeighbors: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"!==this.type&&(e in n.in||e in n.out)},i.areOutNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new q(\'Graph.areOutNeighbors: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"!==this.type&&e in n.out},i.areInNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new q(\'Graph.areInNeighbors: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"!==this.type&&e in n.in},i.areUndirectedNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new q(\'Graph.areUndirectedNeighbors: could not find the "\'.concat(t,\'" node in the graph.\'));return"directed"!==this.type&&e in n.undirected},i.areNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new q(\'Graph.areNeighbors: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"!==this.type&&(e in n.in||e in n.out)||"directed"!==this.type&&e in n.undirected},i.areInboundNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new q(\'Graph.areInboundNeighbors: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"!==this.type&&e in n.in||"directed"!==this.type&&e in n.undirected},i.areOutboundNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new q(\'Graph.areOutboundNeighbors: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"!==this.type&&e in n.out||"directed"!==this.type&&e in n.undirected},i.inDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.inDegree: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"===this.type?0:e.inDegree},i.outDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.outDegree: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"===this.type?0:e.outDegree},i.directedDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.directedDegree: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.undirectedDegree: could not find the "\'.concat(t,\'" node in the graph.\'));return"directed"===this.type?0:e.undirectedDegree},i.inboundDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.inboundDegree: could not find the "\'.concat(t,\'" node in the graph.\'));var n=0;return"directed"!==this.type&&(n+=e.undirectedDegree),"undirected"!==this.type&&(n+=e.inDegree),n},i.outboundDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.outboundDegree: could not find the "\'.concat(t,\'" node in the graph.\'));var n=0;return"directed"!==this.type&&(n+=e.undirectedDegree),"undirected"!==this.type&&(n+=e.outDegree),n},i.degree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.degree: could not find the "\'.concat(t,\'" node in the graph.\'));var n=0;return"directed"!==this.type&&(n+=e.undirectedDegree),"undirected"!==this.type&&(n+=e.inDegree+e.outDegree),n},i.inDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.inDegreeWithoutSelfLoops: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"===this.type?0:e.inDegree-e.directedLoops},i.outDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.outDegreeWithoutSelfLoops: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"===this.type?0:e.outDegree-e.directedLoops},i.directedDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.directedDegreeWithoutSelfLoops: could not find the "\'.concat(t,\'" node in the graph.\'));return"undirected"===this.type?0:e.inDegree+e.outDegree-2*e.directedLoops},i.undirectedDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.undirectedDegreeWithoutSelfLoops: could not find the "\'.concat(t,\'" node in the graph.\'));return"directed"===this.type?0:e.undirectedDegree-2*e.undirectedLoops},i.inboundDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.inboundDegreeWithoutSelfLoops: could not find the "\'.concat(t,\'" node in the graph.\'));var n=0,r=0;return"directed"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),"undirected"!==this.type&&(n+=e.inDegree,r+=e.directedLoops),n-r},i.outboundDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.outboundDegreeWithoutSelfLoops: could not find the "\'.concat(t,\'" node in the graph.\'));var n=0,r=0;return"directed"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),"undirected"!==this.type&&(n+=e.outDegree,r+=e.directedLoops),n-r},i.degreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new q(\'Graph.degreeWithoutSelfLoops: could not find the "\'.concat(t,\'" node in the graph.\'));var n=0,r=0;return"directed"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),"undirected"!==this.type&&(n+=e.inDegree+e.outDegree,r+=2*e.directedLoops),n-r},i.source=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new q(\'Graph.source: could not find the "\'.concat(t,\'" edge in the graph.\'));return e.source.key},i.target=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new q(\'Graph.target: could not find the "\'.concat(t,\'" edge in the graph.\'));return e.target.key},i.extremities=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new q(\'Graph.extremities: could not find the "\'.concat(t,\'" edge in the graph.\'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=""+t,e=""+e;var n=this._edges.get(e);if(!n)throw new q(\'Graph.opposite: could not find the "\'.concat(e,\'" edge in the graph.\'));var r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new q(\'Graph.opposite: the "\'.concat(t,\'" node is not attached to the "\').concat(e,\'" edge (\').concat(r,", ").concat(i,")."))},i.hasExtremity=function(t,e){t=""+t,e=""+e;var n=this._edges.get(t);if(!n)throw new q(\'Graph.hasExtremity: could not find the "\'.concat(t,\'" edge in the graph.\'));return n.source.key===e||n.target.key===e},i.isUndirected=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new q(\'Graph.isUndirected: could not find the "\'.concat(t,\'" edge in the graph.\'));return e.undirected},i.isDirected=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new q(\'Graph.isDirected: could not find the "\'.concat(t,\'" edge in the graph.\'));return!e.undirected},i.isSelfLoop=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new q(\'Graph.isSelfLoop: could not find the "\'.concat(t,\'" edge in the graph.\'));return e.source===e.target},i.addNode=function(t,e){var n=function(t,e,n){if(n&&!u(n))throw new $(\'Graph.addNode: invalid attributes. Expecting an object but got "\'.concat(n,\'"\'));if(e=""+e,n=n||{},t._nodes.has(e))throw new B(\'Graph.addNode: the "\'.concat(e,\'" node already exist in the graph.\'));var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}(this,t,e);return n.key},i.mergeNode=function(t,e){if(e&&!u(e))throw new $(\'Graph.mergeNode: invalid attributes. Expecting an object but got "\'.concat(e,\'"\'));t=""+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(s(n.attributes,e),this.emit("nodeAttributesUpdated",{type:"merge",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&"function"!=typeof e)throw new $(\'Graph.updateNode: invalid updater function. Expecting a function but got "\'.concat(e,\'"\'));t=""+t;var n=this._nodes.get(t);if(n){if(e){var r=n.attributes;n.attributes=e(r),this.emit("nodeAttributesUpdated",{type:"replace",key:t,attributes:n.attributes})}return[t,!1]}var i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){t=""+t;var e,n=this._nodes.get(t);if(!n)throw new q(\'Graph.dropNode: could not find the "\'.concat(t,\'" node in the graph.\'));if("undirected"!==this.type){for(var r in n.out){e=n.out[r];do{St(this,e),e=e.next}while(e)}for(var i in n.in){e=n.in[i];do{St(this,e),e=e.next}while(e)}}if("directed"!==this.type)for(var o in n.undirected){e=n.undirected[o];do{St(this,e),e=e.next}while(e)}this._nodes.delete(t),this.emit("nodeDropped",{key:t,attributes:n.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var n=""+arguments[0],r=""+arguments[1];if(!(e=c(this,n,r,this.type)))throw new q(\'Graph.dropEdge: could not find the "\'.concat(n,\'" -> "\').concat(r,\'" edge in the graph.\'))}else if(t=""+t,!(e=this._edges.get(t)))throw new q(\'Graph.dropEdge: could not find the "\'.concat(t,\'" edge in the graph.\'));return St(this,e),this},i.dropDirectedEdge=function(t,e){if(arguments.length<2)throw new B("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new B("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=c(this,t=""+t,e=""+e,"directed");if(!n)throw new q(\'Graph.dropDirectedEdge: could not find a "\'.concat(t,\'" -> "\').concat(e,\'" edge in the graph.\'));return St(this,n),this},i.dropUndirectedEdge=function(t,e){if(arguments.length<2)throw new B("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new B("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=c(this,t,e,"undirected");if(!n)throw new q(\'Graph.dropUndirectedEdge: could not find a "\'.concat(t,\'" -> "\').concat(e,\'" edge in the graph.\'));return St(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},i.clearEdges=function(){for(var t,e=this._nodes.values();!0!==(t=e.next()).done;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if("function"!=typeof e)throw new $("Graph.updateAttribute: updater should be a function.");var n=this._attributes[t];return this._attributes[t]=e(n),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!u(t))throw new $("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=t,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!u(t))throw new $("Graph.mergeAttributes: provided attributes are not a plain object.");return s(this._attributes,t),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if("function"!=typeof t)throw new $("Graph.updateAttributes: provided updater is not a function.");return this._attributes=t(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if("function"!=typeof t)throw new $("Graph.updateEachNodeAttributes: expecting an updater function.");if(e&&!f(e))throw new $("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=t(r.key,r.attributes);this.emit("eachNodeAttributesUpdated",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if("function"!=typeof t)throw new $("Graph.updateEachEdgeAttributes: expecting an updater function.");if(e&&!f(e))throw new $("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=t(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit("eachEdgeAttributesUpdated",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if("function"!=typeof t)throw new $("Graph.forEachAdjacencyEntry: expecting a callback.");gt(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if("function"!=typeof t)throw new $("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");gt(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if("function"!=typeof t)throw new $("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");gt(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if("function"!=typeof t)throw new $("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");gt(!1,!0,!0,this,t)},i.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):P(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if("function"!=typeof t)throw new $("Graph.forEachNode: expecting a callback.");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)},i.findNode=function(t){if("function"!=typeof t)throw new $("Graph.findNode: expecting a callback.");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return n.key},i.mapNodes=function(t){if("function"!=typeof t)throw new $("Graph.mapNode: expecting a callback.");for(var e,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=r.next()).done;)n=e.value,i[o++]=t(n.key,n.attributes);return i},i.someNode=function(t){if("function"!=typeof t)throw new $("Graph.someNode: expecting a callback.");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return!0;return!1},i.everyNode=function(t){if("function"!=typeof t)throw new $("Graph.everyNode: expecting a callback.");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(!t((n=e.value).key,n.attributes))return!1;return!0},i.filterNodes=function(t){if("function"!=typeof t)throw new $("Graph.filterNodes: expecting a callback.");for(var e,n,r=this._nodes.values(),i=[];!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(t,e){if("function"!=typeof t)throw new $("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new $("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var n,r,i=e,o=this._nodes.values();!0!==(n=o.next()).done;)i=t(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new z((function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var t=this,e=new Array(this._nodes.size),n=0;this._nodes.forEach((function(t,r){e[n++]=function(t,e){var n={key:t};return h(e.attributes)||(n.attributes=s({},e.attributes)),n}(r,t)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(e,i){r[n++]=function(t,e,n){var r={key:e,source:n.source.key,target:n.target.key};return h(n.attributes)||(r.attributes=s({},n.attributes)),"mixed"===t&&n.undirected&&(r.undirected=!0),r}(t.type,i,e)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}},i.import=function(t){var e,n,i,o,a,s=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t instanceof r)return t.forEachNode((function(t,e){c?s.mergeNode(t,e):s.addNode(t,e)})),t.forEachEdge((function(t,e,n,r,i,o,a){c?a?s.mergeUndirectedEdgeWithKey(t,n,r,e):s.mergeDirectedEdgeWithKey(t,n,r,e):a?s.addUndirectedEdgeWithKey(t,n,r,e):s.addDirectedEdgeWithKey(t,n,r,e)})),this;if(!u(t))throw new $("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(t.attributes){if(!u(t.attributes))throw new $("Graph.import: invalid attributes. Expecting a plain object.");c?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(i=t.nodes,!Array.isArray(i))throw new $("Graph.import: invalid nodes. Expecting an array.");for(e=0,n=i.length;e<n;e++){yt(o=i[e]);var h=o,l=h.key,d=h.attributes;c?this.mergeNode(l,d):this.addNode(l,d)}}if(t.edges){var f=!1;if("undirected"===this.type&&(f=!0),i=t.edges,!Array.isArray(i))throw new $("Graph.import: invalid edges. Expecting an array.");for(e=0,n=i.length;e<n;e++){mt(a=i[e]);var p=a,g=p.source,y=p.target,m=p.attributes,v=p.undirected,w=void 0===v?f:v;"key"in a?(c?w?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:w?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,a.key,g,y,m):(c?w?this.mergeUndirectedEdge:this.mergeDirectedEdge:w?this.addUndirectedEdge:this.addDirectedEdge).call(this,g,y,m)}}return this},i.nullCopy=function(t){var e=new r(s({},this._options,t));return e.replaceAttributes(s({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,n){var r=s({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e},i.copy=function(t){if("string"==typeof(t=t||{}).type&&t.type!==this.type&&"mixed"!==t.type)throw new B(\'Graph.copy: cannot create an incompatible copy from "\'.concat(this.type,\'" type to "\').concat(t.type,\'" because this would mean losing information about the current graph.\'));if("boolean"==typeof t.multi&&t.multi!==this.multi&&!0!==t.multi)throw new B("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof t.allowSelfLoops&&t.allowSelfLoops!==this.allowSelfLoops&&!0!==t.allowSelfLoops)throw new B("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var e,n,r=this.emptyCopy(t),i=this._edges.values();!0!==(e=i.next()).done;)Et(r,"copy",!1,(n=e.value).undirected,n.key,n.source.key,n.target.key,s({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return"[object Graph]"},i.inspect=function(){var e=this,n={};this._nodes.forEach((function(t,e){n[e]=t.attributes}));var r={},i={};this._edges.forEach((function(t,n){var o,a=t.undirected?"--":"->",s="",c=t.source.key,u=t.target.key;t.undirected&&c>u&&(o=c,c=u,u=o);var h="(".concat(c,")").concat(a,"(").concat(u,")");n.startsWith("geid_")?e.multi&&(void 0===i[h]?i[h]=0:i[h]++,s+="".concat(i[h],". ")):s+="[".concat(n,"]: "),r[s+=h]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!xt.has(a)&&"function"!=typeof this[a]&&"symbol"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,l(o,"constructor",this.constructor),o},r}(g.exports.EventEmitter);"undefined"!=typeof Symbol&&(Lt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Lt.prototype.inspect),[{name:function(t){return"".concat(t,"Edge")},generateKey:!0},{name:function(t){return"".concat(t,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(t){return"".concat(t,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(t){return"".concat(t,"EdgeWithKey")}},{name:function(t){return"".concat(t,"DirectedEdgeWithKey")},type:"directed"},{name:function(t){return"".concat(t,"UndirectedEdgeWithKey")},type:"undirected"}].forEach((function(t){["add","merge","update"].forEach((function(e){var n=t.name(e),r="add"===e?Et:At;t.generateKey?Lt.prototype[n]=function(i,o,a){return r(this,n,!0,"undirected"===(t.type||this.type),null,i,o,a,"update"===e)}:Lt.prototype[n]=function(i,o,a,s){return r(this,n,!1,"undirected"===(t.type||this.type),i,o,a,s,"update"===e)}}))})),function(t){H.forEach((function(e){var n=e.name,r=e.attacher;r(t,n("Node"),0),r(t,n("Source"),1),r(t,n("Target"),2),r(t,n("Opposite"),3)}))}(Lt),function(t){V.forEach((function(e){var n=e.name,r=e.attacher;r(t,n("Edge"),"mixed"),r(t,n("DirectedEdge"),"directed"),r(t,n("UndirectedEdge"),"undirected")}))}(Lt),function(t){tt.forEach((function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return function(t,e){if(0===t.size)return[];if("mixed"===e||e===t.type)return"function"==typeof Array.from?Array.from(t._edges.keys()):P(t._edges.keys(),t._edges.size);for(var n,r,i="undirected"===e?t.undirectedSize:t.directedSize,o=new Array(i),a="undirected"===e,s=t._edges.values(),c=0;!0!==(n=s.next()).done;)(r=n.value).undirected===a&&(o[c++]=r.key);return o}(this,r);if(1===arguments.length){t=""+t;var o=this._nodes.get(t);if(void 0===o)throw new q("Graph.".concat(n,\': could not find the "\').concat(t,\'" node in the graph.\'));return function(t,e,n,r){var i=[];return ct(!1,t,e,n,r,(function(t){i.push(t)})),i}(this.multi,"mixed"===r?this.type:r,i,o)}if(2===arguments.length){t=""+t,e=""+e;var a=this._nodes.get(t);if(!a)throw new q("Graph.".concat(n,\':  could not find the "\').concat(t,\'" source node in the graph.\'));if(!this._nodes.has(e))throw new q("Graph.".concat(n,\':  could not find the "\').concat(e,\'" target node in the graph.\'));return function(t,e,n,r,i){var o=[];return ut(!1,t,e,n,r,i,(function(t){o.push(t)})),o}(r,this.multi,i,a,e)}throw new $("Graph.".concat(n,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return st(!1,this,r,n=t);if(2===arguments.length){t=""+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new q("Graph.".concat(o,\': could not find the "\').concat(t,\'" node in the graph.\'));return ct(!1,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){t=""+t,e=""+e;var s=this._nodes.get(t);if(!s)throw new q("Graph.".concat(o,\':  could not find the "\').concat(t,\'" source node in the graph.\'));if(!this._nodes.has(e))throw new q("Graph.".concat(o,\':  could not find the "\').concat(e,\'" target node in the graph.\'));return ut(!1,r,this.multi,i,s,e,n)}throw new $("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var a="map"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),n=e.pop();if(0===e.length){var i=0;"directed"!==r&&(i+=this.undirectedSize),"undirected"!==r&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,r,i,o,s,c,u){t[a++]=n(e,r,i,o,s,c,u)}))}else t=[],e.push((function(e,r,i,o,a,s,c){t.push(n(e,r,i,o,a,s,c))}));return this[o].apply(this,e),t};var s="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[s]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push((function(t,r,i,o,a,s,c){e(t,r,i,o,a,s,c)&&n.push(t)})),this[o].apply(this,t),n};var c="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){var t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new $("Graph.".concat(c,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(n.length,")."));if("function"==typeof n[n.length-1]&&"function"!=typeof n[n.length-2])throw new $("Graph.".concat(c,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);var r=e;return n.push((function(e,n,i,o,a,s,c){r=t(r,e,n,i,o,a,s,c)})),this[o].apply(this,n),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o="find"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return st(!0,this,r,n=t);if(2===arguments.length){t=""+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new q("Graph.".concat(o,\': could not find the "\').concat(t,\'" node in the graph.\'));return ct(!0,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){t=""+t,e=""+e;var s=this._nodes.get(t);if(!s)throw new q("Graph.".concat(o,\':  could not find the "\').concat(t,\'" source node in the graph.\'));if(!this._nodes.has(e))throw new q("Graph.".concat(o,\':  could not find the "\').concat(e,\'" target node in the graph.\'));return ut(!0,r,this.multi,i,s,e,n)}throw new $("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var a="some"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,s){return e(t,n,r,i,o,a,s)})),!!this[o].apply(this,t)};var s="every"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[s]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,s){return!e(t,n,r,i,o,a,s)})),!this[o].apply(this,t)}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+"Entries";t.prototype[o]=function(t,e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return z.empty();if(!arguments.length)return function(t,e){if(0===t.size)return z.empty();var n="mixed"!==e&&e!==t.type,r="undirected"===e,i=t._edges.values();return new z((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}(this,r);if(1===arguments.length){t=""+t;var n=this._nodes.get(t);if(!n)throw new q("Graph.".concat(o,\': could not find the "\').concat(t,\'" node in the graph.\'));return function(t,e,n){var r=z.empty();return"undirected"!==t&&("out"!==e&&void 0!==n.in&&(r=Z(r,rt(n.in))),"in"!==e&&void 0!==n.out&&(r=Z(r,rt(n.out,e?void 0:n.key)))),"directed"!==t&&void 0!==n.undirected&&(r=Z(r,rt(n.undirected))),r}(r,i,n)}if(2===arguments.length){t=""+t,e=""+e;var a=this._nodes.get(t);if(!a)throw new q("Graph.".concat(o,\':  could not find the "\').concat(t,\'" source node in the graph.\'));if(!this._nodes.has(e))throw new q("Graph.".concat(o,\':  could not find the "\').concat(e,\'" target node in the graph.\'));return function(t,e,n,r){var i=z.empty();return"undirected"!==t&&(void 0!==n.in&&"out"!==e&&r in n.in&&(i=Z(i,at(n.in,r))),void 0!==n.out&&"in"!==e&&r in n.out&&(e||n.key!==r)&&(i=Z(i,at(n.out,r)))),"directed"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=Z(i,at(n.undirected,r))),i}(r,i,a,e)}throw new $("Graph.".concat(o,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(t,e)}))}(Lt),function(t){ht.forEach((function(e){(function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];t=""+t;var e=this._nodes.get(t);if(void 0===e)throw new q("Graph.".concat(n,\': could not find the "\').concat(t,\'" node in the graph.\'));return function(t,e,n){if("mixed"!==t){if("undirected"===t)return Object.keys(n.undirected);if("string"==typeof e)return Object.keys(n[e])}var r=[];return ft(!1,t,e,n,(function(t){r.push(t)})),r}("mixed"===r?this.type:r,i,e)}})(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if("mixed"===r||"mixed"===this.type||r===this.type){t=""+t;var n=this._nodes.get(t);if(void 0===n)throw new q("Graph.".concat(o,\': could not find the "\').concat(t,\'" node in the graph.\'));ft(!1,"mixed"===r?this.type:r,i,n,e)}};var a="map"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){var n=[];return this[o](t,(function(t,r){n.push(e(t,r))})),n};var s="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[s]=function(t,e){var n=[];return this[o](t,(function(t,r){e(t,r)&&n.push(t)})),n};var c="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(t,e,n){if(arguments.length<3)throw new $("Graph.".concat(c,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var r=n;return this[o](t,(function(t,n){r=e(r,t,n)})),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n[0].toUpperCase()+n.slice(1,-1),a="find"+o;t.prototype[a]=function(t,e){if("mixed"===r||"mixed"===this.type||r===this.type){t=""+t;var n=this._nodes.get(t);if(void 0===n)throw new q("Graph.".concat(a,\': could not find the "\').concat(t,\'" node in the graph.\'));return ft(!0,"mixed"===r?this.type:r,i,n,e)}};var s="some"+o;t.prototype[s]=function(t,e){return!!this[a](t,e)};var c="every"+o;t.prototype[c]=function(t,e){return!this[a](t,(function(t,n){return!e(t,n)}))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+"Entries";t.prototype[o]=function(t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return z.empty();t=""+t;var e=this._nodes.get(t);if(void 0===e)throw new q("Graph.".concat(o,\': could not find the "\').concat(t,\'" node in the graph.\'));return function(t,e,n){if("mixed"!==t){if("undirected"===t)return pt(null,n,n.undirected);if("string"==typeof e)return pt(null,n,n[e])}var r=z.empty(),i=new lt;return"undirected"!==t&&("out"!==e&&(r=Z(r,pt(i,n,n.in))),"in"!==e&&(r=Z(r,pt(i,n,n.out)))),"directed"!==t&&(r=Z(r,pt(i,n,n.undirected))),r}("mixed"===r?this.type:r,i,e)}}(t,e)}))}(Lt);var Mt=function(t){function n(e){var n=s({type:"directed"},e);if("multi"in n&&!1!==n.multi)throw new $("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==n.type)throw new $(\'DirectedGraph.from: inconsistent "\'+n.type+\'" type in given options!\');return t.call(this,n)||this}return e(n,t),n}(Lt),Gt=function(t){function n(e){var n=s({type:"undirected"},e);if("multi"in n&&!1!==n.multi)throw new $("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==n.type)throw new $(\'UndirectedGraph.from: inconsistent "\'+n.type+\'" type in given options!\');return t.call(this,n)||this}return e(n,t),n}(Lt),Nt=function(t){function n(e){var n=s({multi:!0},e);if("multi"in n&&!0!==n.multi)throw new $("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return t.call(this,n)||this}return e(n,t),n}(Lt),zt=function(t){function n(e){var n=s({type:"directed",multi:!0},e);if("multi"in n&&!0!==n.multi)throw new $("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==n.type)throw new $(\'MultiDirectedGraph.from: inconsistent "\'+n.type+\'" type in given options!\');return t.call(this,n)||this}return e(n,t),n}(Lt),Ct=function(t){function n(e){var n=s({type:"undirected",multi:!0},e);if("multi"in n&&!0!==n.multi)throw new $("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==n.type)throw new $(\'MultiUndirectedGraph.from: inconsistent "\'+n.type+\'" type in given options!\');return t.call(this,n)||this}return e(n,t),n}(Lt);function Ot(t){t.from=function(e,n){var r=s({},e.options,n),i=new t(r);return i.import(e),i}}return Ot(Lt),Ot(Mt),Ot(Gt),Ot(Nt),Ot(zt),Ot(Ct),Lt.Graph=Lt,Lt.DirectedGraph=Mt,Lt.UndirectedGraph=Gt,Lt.MultiGraph=Nt,Lt.MultiDirectedGraph=zt,Lt.MultiUndirectedGraph=Ct,Lt.InvalidArgumentsGraphError=$,Lt.NotFoundGraphError=q,Lt.UsageGraphError=B,Lt}()},208:(t,e,n)=>{var r=n(938),i=n(766);function o(t,e){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if("number"!=typeof e||e<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=t,this.capacity=e,this.items=new t(this.capacity),this.clear()}o.prototype.clear=function(){this.start=0,this.size=0},o.prototype.push=function(t){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");var e=this.start+this.size;return e>=this.capacity&&(e-=this.capacity),this.items[e]=t,++this.size},o.prototype.unshift=function(t){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var e=this.start-1;return 0===this.start&&(e=this.capacity-1),this.items[e]=t,this.start=e,++this.size},o.prototype.pop=function(){if(0!==this.size){this.size--;var t=this.start+this.size;return t>=this.capacity&&(t-=this.capacity),this.items[t]}},o.prototype.shift=function(){if(0!==this.size){var t=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[t]}},o.prototype.peekFirst=function(){if(0!==this.size)return this.items[this.start]},o.prototype.peekLast=function(){if(0!==this.size){var t=this.start+this.size-1;return t>=this.capacity&&(t-=this.capacity),this.items[t]}},o.prototype.get=function(t){if(!(0===this.size||t>=this.capacity))return(t=this.start+t)>=this.capacity&&(t-=this.capacity),this.items[t]},o.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var n=this.capacity,r=this.size,i=this.start,o=0;o<r;)t.call(e,this.items[i],o,this),o++,++i===n&&(i=0)},o.prototype.toArray=function(){var t=this.start+this.size;if(t<this.capacity)return this.items.slice(this.start,t);for(var e=new this.ArrayClass(this.size),n=this.capacity,r=this.size,i=this.start,o=0;o<r;)e[o]=this.items[i],o++,++i===n&&(i=0);return e},o.prototype.values=function(){var t=this.items,e=this.capacity,n=this.size,r=this.start,o=0;return new i((function(){if(o>=n)return{done:!0};var i=t[r];return r++,o++,r===e&&(r=0),{value:i,done:!1}}))},o.prototype.entries=function(){var t=this.items,e=this.capacity,n=this.size,r=this.start,o=0;return new i((function(){if(o>=n)return{done:!0};var i=t[r];return++r===e&&(r=0),{value:[o++,i],done:!1}}))},"undefined"!=typeof Symbol&&(o.prototype[Symbol.iterator]=o.prototype.values),o.prototype.inspect=function(){var t=this.toArray();return t.type=this.ArrayClass.name,t.capacity=this.capacity,Object.defineProperty(t,"constructor",{value:o,enumerable:!1}),t},"undefined"!=typeof Symbol&&(o.prototype[Symbol.for("nodejs.util.inspect.custom")]=o.prototype.inspect),o.from=function(t,e,n){if(arguments.length<3&&"number"!=typeof(n=r.guessLength(t)))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var i=new o(e,n);if(r.isArrayLike(t)){var a,s;for(a=0,s=t.length;a<s;a++)i.items[a]=t[a];return i.size=s,i}return r.forEach(t,(function(t){i.push(t)})),i},t.exports=o},938:(t,e,n)=>{var r=n(156),i=n(384);function o(t){return"number"==typeof t.length?t.length:"number"==typeof t.size?t.size:void 0}e.isArrayLike=function(t){return Array.isArray(t)||i.isTypedArray(t)},e.guessLength=o,e.toArray=function(t){var e=o(t),n="number"==typeof e?new Array(e):[],i=0;return r(t,(function(t){n[i++]=t})),n},e.toArrayWithIndices=function(t){var e=o(t),n="number"==typeof e?i.getPointerArray(e):Array,a="number"==typeof e?new Array(e):[],s="number"==typeof e?new n(e):[],c=0;return r(t,(function(t){a[c]=t,s[c]=c++})),[a,s]}},384:(t,e)=>{var n=Math.pow(2,8)-1,r=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,a=Math.pow(2,15)-1,s=Math.pow(2,31)-1;e.getPointerArray=function(t){var e=t-1;if(e<=n)return Uint8Array;if(e<=r)return Uint16Array;if(e<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(t){var e=t-1;return e<=o?Int8Array:e<=a?Int16Array:e<=s?Int32Array:Float64Array},e.getNumberType=function(t){return t===(0|t)?-1===Math.sign(t)?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var c={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(t,n){var r,i,o,a,s,u=null,h=0;for(a=0,s=t.length;a<s;a++)o=n?n(t[a]):t[a],i=e.getNumberType(o),(r=c[i.name])>h&&(h=r,u=i);return u},e.isTypedArray=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t)},e.concat=function(){var t,e,n,r=0;for(t=0,n=arguments.length;t<n;t++)r+=arguments[t].length;var i=new arguments[0].constructor(r);for(t=0,e=0;t<n;t++)i.set(arguments[t],e),e+=arguments[t].length;return i},e.indices=function(t){for(var n=new(e.getPointerArray(t))(t),r=0;r<t;r++)n[r]=r;return n}},156:(t,e,n)=>{var r=n(109),i=r.ARRAY_BUFFER_SUPPORT,o=r.SYMBOL_SUPPORT;t.exports=function(t,e){var n,r,a,s,c;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof e)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||i&&ArrayBuffer.isView(t)||"string"==typeof t||"[object Arguments]"===t.toString())for(a=0,s=t.length;a<s;a++)e(t[a],a);else if("function"!=typeof t.forEach)if(o&&Symbol.iterator in t&&"function"!=typeof t.next&&(t=t[Symbol.iterator]()),"function"!=typeof t.next)for(r in t)t.hasOwnProperty(r)&&e(t[r],r);else for(n=t,a=0;!0!==(c=n.next()).done;)e(c.value,a),a++;else t.forEach(e)}},766:t=>{function e(t){if("function"!=typeof t)throw new Error("obliterator/iterator: expecting a function!");this.next=t}"undefined"!=typeof Symbol&&(e.prototype[Symbol.iterator]=function(){return this}),e.of=function(){var t=arguments,n=t.length,r=0;return new e((function(){return r>=n?{done:!0}:{done:!1,value:t[r++]}}))},e.empty=function(){return new e((function(){return{done:!0}}))},e.fromSequence=function(t){var n=0,r=t.length;return new e((function(){return n>=r?{done:!0}:{done:!1,value:t[n++]}}))},e.is=function(t){return t instanceof e||"object"==typeof t&&null!==t&&"function"==typeof t.next},t.exports=e},109:(t,e)=>{e.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,e.SYMBOL_SUPPORT="undefined"!=typeof Symbol},72:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var c=t[s],u=r.base?c[0]+r.base:c[0],h=o[u]||0,l="".concat(u," ").concat(h);o[u]=h+1;var d=n(l),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var p=i(f,r);r.byIndex=s,e.splice(s,0,{identifier:l,updater:p,references:1})}a.push(l)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var c=r(t,i),u=0;u<o.length;u++){var h=n(o[u]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}o=c}}},659:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn\'t find a style target. This probably means that the value for the \'insert\' parameter is invalid.");r.appendChild(n)}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";var t=n(72),e=n.n(t),r=n(825),i=n.n(r),o=n(659),a=n.n(o),s=n(56),c=n.n(s),u=n(540),h=n.n(u),l=n(113),d=n.n(l),f=n(927),p={};p.styleTagTransform=d(),p.setAttributes=c(),p.insert=a().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=h(),e()(f.A,p),f.A&&f.A.locals&&f.A.locals;var g=n(380),y={};function m(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function v(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function w(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function b(){}function x(t){return null==t?b:function(){return this.querySelector(t)}}function _(){return[]}function k(t){return null==t?_:function(){return this.querySelectorAll(t)}}function E(t){return function(){return this.matches(t)}}function A(t){return function(e){return e.matches(t)}}y.styleTagTransform=d(),y.setAttributes=c(),y.insert=a().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=h(),e()(g.A,y),g.A&&g.A.locals&&g.A.locals;var S=Array.prototype.find;function L(){return this.firstElementChild}var M=Array.prototype.filter;function G(){return Array.from(this.children)}function N(t){return new Array(t.length)}function z(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function C(t,e,n,r,i,o){for(var a,s=0,c=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new z(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function O(t,e,n,r,i,o,a){var s,c,u,h=new Map,l=e.length,d=o.length,f=new Array(l);for(s=0;s<l;++s)(c=e[s])&&(f[s]=u=a.call(c,c.__data__,s,e)+"",h.has(u)?i[s]=c:h.set(u,c));for(s=0;s<d;++s)u=a.call(t,o[s],s,o)+"",(c=h.get(u))?(r[s]=c,c.__data__=o[s],h.delete(u)):n[s]=new z(t,o[s]);for(s=0;s<l;++s)(c=e[s])&&h.get(f[s])===c&&(i[s]=c)}function j(t){return t.__data__}function D(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function I(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}z.prototype={constructor:z,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var U="http://www.w3.org/1999/xhtml";const T={svg:"http://www.w3.org/2000/svg",xhtml:U,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function P(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),T.hasOwnProperty(e)?{space:T[e],local:t}:t}function R(t){return function(){this.removeAttribute(t)}}function $(t){return function(){this.removeAttributeNS(t.space,t.local)}}function q(t,e){return function(){this.setAttribute(t,e)}}function B(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function F(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function K(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function W(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Y(t){return function(){this.style.removeProperty(t)}}function X(t,e,n){return function(){this.style.setProperty(t,e,n)}}function H(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function V(t,e){return t.style.getPropertyValue(e)||W(t).getComputedStyle(t,null).getPropertyValue(e)}function J(t){return function(){delete this[t]}}function Q(t,e){return function(){this[t]=e}}function Z(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function tt(t){return t.trim().split(/^|\\s+/)}function et(t){return t.classList||new nt(t)}function nt(t){this._node=t,this._names=tt(t.getAttribute("class")||"")}function rt(t,e){for(var n=et(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function it(t,e){for(var n=et(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ot(t){return function(){rt(this,t)}}function at(t){return function(){it(this,t)}}function st(t,e){return function(){(e.apply(this,arguments)?rt:it)(this,t)}}function ct(){this.textContent=""}function ut(t){return function(){this.textContent=t}}function ht(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function lt(){this.innerHTML=""}function dt(t){return function(){this.innerHTML=t}}function ft(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function pt(){this.nextSibling&&this.parentNode.appendChild(this)}function gt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===U&&e.documentElement.namespaceURI===U?e.createElement(t):e.createElementNS(n,t)}}function mt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function vt(t){var e=P(t);return(e.local?mt:yt)(e)}function wt(){return null}function bt(){var t=this.parentNode;t&&t.removeChild(this)}function xt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _t(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function kt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Et(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function At(t,e,n){var r=W(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function St(t,e){return function(){return At(this,t,e)}}function Lt(t,e){return function(){return At(this,t,e.apply(this,arguments))}}nt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Mt=[null];function Gt(t,e){this._groups=t,this._parents=e}function Nt(){return new Gt([[document.documentElement]],Mt)}Gt.prototype=Nt.prototype={constructor:Gt,select:function(t){"function"!=typeof t&&(t=x(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,u=r[i]=new Array(c),h=0;h<c;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),u[h]=a);return new Gt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}(t):k(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],c=s.length,u=0;u<c;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),i.push(a));return new Gt(r,i)},selectChild:function(t){return this.select(null==t?L:function(t){return function(){return S.call(this.children,t)}}("function"==typeof t?t:A(t)))},selectChildren:function(t){return this.selectAll(null==t?G:function(t){return function(){return M.call(this.children,t)}}("function"==typeof t?t:A(t)))},filter:function(t){"function"!=typeof t&&(t=E(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new Gt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,j);var n,r=e?O:C,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),c=new Array(a),u=new Array(a),h=0;h<a;++h){var l=i[h],d=o[h],f=d.length,p=D(t.call(l,l&&l.__data__,h,i)),g=p.length,y=c[h]=new Array(g),m=s[h]=new Array(g);r(l,d,y,m,u[h]=new Array(f),p,e);for(var v,w,b=0,x=0;b<g;++b)if(v=y[b]){for(b>=x&&(x=b+1);!(w=m[x])&&++x<g;);v._next=w||null}}return(s=new Gt(s,i))._enter=c,s._exit=u,s},enter:function(){return new Gt(this._enter||this._groups.map(N),this._parents)},exit:function(){return new Gt(this._exit||this._groups.map(N),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var u,h=n[c],l=r[c],d=h.length,f=s[c]=new Array(d),p=0;p<d;++p)(u=h[p]||l[p])&&(f[p]=u);for(;c<i;++c)s[c]=n[c];return new Gt(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=I);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,u=i[o]=new Array(c),h=0;h<c;++h)(a=s[h])&&(u[h]=a);u.sort(e)}return new Gt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=P(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?$:R:"function"==typeof e?n.local?K:F:n.local?B:q)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Y:"function"==typeof e?H:X)(t,e,null==n?"":n)):V(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?J:"function"==typeof e?Z:Q)(t,e)):this.node()[t]},classed:function(t,e){var n=tt(t+"");if(arguments.length<2){for(var r=et(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?st:e?ot:at)(n,e))},text:function(t){return arguments.length?this.each(null==t?ct:("function"==typeof t?ht:ut)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?lt:("function"==typeof t?ft:dt)(t)):this.node().innerHTML},raise:function(){return this.each(pt)},lower:function(){return this.each(gt)},append:function(t){var e="function"==typeof t?t:vt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:vt(t),r=null==e?wt:"function"==typeof e?e:x(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(bt)},clone:function(t){return this.select(t?_t:xt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Et:kt,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var c,u=0,h=s.length;u<h;++u)for(r=0,c=s[u];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Lt:St)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const zt=Nt;var Ct={value:()=>{}};function Ot(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new jt(r)}function jt(t){this._=t}function Dt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function It(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ct,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}jt.prototype=Ot.prototype={constructor:jt,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=It(i[n],t.name,e);else if(null==e)for(n in i)i[n]=It(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=Dt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new jt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const Ut=Ot;var Tt,Pt,Rt=0,$t=0,qt=0,Bt=1e3,Ft=0,Kt=0,Wt=0,Yt="object"==typeof performance&&performance.now?performance:Date,Xt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ht(){return Kt||(Xt(Vt),Kt=Yt.now()+Wt)}function Vt(){Kt=0}function Jt(){this._call=this._time=this._next=null}function Qt(t,e,n){var r=new Jt;return r.restart(t,e,n),r}function Zt(){Kt=(Ft=Yt.now())+Wt,Rt=$t=0;try{!function(){Ht(),++Rt;for(var t,e=Tt;e;)(t=Kt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Rt}()}finally{Rt=0,function(){for(var t,e,n=Tt,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Tt=e);Pt=t,ee(r)}(),Kt=0}}function te(){var t=Yt.now(),e=t-Ft;e>Bt&&(Wt-=e,Ft=t)}function ee(t){Rt||($t&&($t=clearTimeout($t)),t-Kt>24?(t<1/0&&($t=setTimeout(Zt,t-Yt.now()-Wt)),qt&&(qt=clearInterval(qt))):(qt||(Ft=Yt.now(),qt=setInterval(te,Bt)),Rt=1,Xt(Zt)))}function ne(t,e,n){var r=new Jt;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Jt.prototype=Qt.prototype={constructor:Jt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ht():+n)+(null==e?0:+e),this._next||Pt===this||(Pt?Pt._next=this:Tt=this,Pt=this),this._call=t,this._time=n,ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,ee())}};var re=Ut("start","end","cancel","interrupt"),ie=[],oe=0,ae=3;function se(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(c){var u,h,l,d;if(1!==n.state)return s();for(u in i)if((d=i[u]).name===n.name){if(d.state===ae)return ne(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[u]):+u<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[u])}if(ne((function(){n.state===ae&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=ae,r=new Array(l=n.tween.length),u=0,h=-1;u<l;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=d);r.length=h+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Qt((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:re,tween:ie,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:oe})}function ce(t,e){var n=he(t,e);if(n.state>oe)throw new Error("too late; already scheduled");return n}function ue(t,e){var n=he(t,e);if(n.state>ae)throw new Error("too late; already running");return n}function he(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function le(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function de(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var fe,pe=180/Math.PI,ge={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ye(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*pe,skewX:Math.atan(c)*pe,scaleX:a,scaleY:s}}function me(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:de(t,i)},{i:c-2,x:de(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:de(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,c),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:de(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,c),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:de(t,n)},{i:s-2,x:de(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var ve=me((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ge:ye(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),we=me((function(t){return null==t?ge:(fe||(fe=document.createElementNS("http://www.w3.org/2000/svg","g")),fe.setAttribute("transform",t),(t=fe.transform.baseVal.consolidate())?ye((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ge)}),", ",")",")");function be(t,e){var n,r;return function(){var i=ue(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function xe(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=ue(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function _e(t,e,n){var r=t._id;return t.each((function(){var t=ue(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return he(t,r).value[e]}}function ke(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ee(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ae(){}var Se=.7,Le=1/Se,Me="\\\\s*([+-]?\\\\d+)\\\\s*",Ge="\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*",Ne="\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*",ze=/^#([0-9a-f]{3,8})$/,Ce=new RegExp(`^rgb\\\\(${Me},${Me},${Me}\\\\)$`),Oe=new RegExp(`^rgb\\\\(${Ne},${Ne},${Ne}\\\\)$`),je=new RegExp(`^rgba\\\\(${Me},${Me},${Me},${Ge}\\\\)$`),De=new RegExp(`^rgba\\\\(${Ne},${Ne},${Ne},${Ge}\\\\)$`),Ie=new RegExp(`^hsl\\\\(${Ge},${Ne},${Ne}\\\\)$`),Ue=new RegExp(`^hsla\\\\(${Ge},${Ne},${Ne},${Ge}\\\\)$`),Te={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pe(){return this.rgb().formatHex()}function Re(){return this.rgb().formatRgb()}function $e(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ze.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?qe(e):3===n?new Ke(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Be(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Be(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ce.exec(t))?new Ke(e[1],e[2],e[3],1):(e=Oe.exec(t))?new Ke(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=je.exec(t))?Be(e[1],e[2],e[3],e[4]):(e=De.exec(t))?Be(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ie.exec(t))?Je(e[1],e[2]/100,e[3]/100,1):(e=Ue.exec(t))?Je(e[1],e[2]/100,e[3]/100,e[4]):Te.hasOwnProperty(t)?qe(Te[t]):"transparent"===t?new Ke(NaN,NaN,NaN,0):null}function qe(t){return new Ke(t>>16&255,t>>8&255,255&t,1)}function Be(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ke(t,e,n,r)}function Fe(t,e,n,r){return 1===arguments.length?((i=t)instanceof Ae||(i=$e(i)),i?new Ke((i=i.rgb()).r,i.g,i.b,i.opacity):new Ke):new Ke(t,e,n,null==r?1:r);var i}function Ke(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function We(){return`#${Ve(this.r)}${Ve(this.g)}${Ve(this.b)}`}function Ye(){const t=Xe(this.opacity);return`${1===t?"rgb(":"rgba("}${He(this.r)}, ${He(this.g)}, ${He(this.b)}${1===t?")":`, ${t})`}`}function Xe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function He(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ve(t){return((t=He(t))<16?"0":"")+t.toString(16)}function Je(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ze(t,e,n,r)}function Qe(t){if(t instanceof Ze)return new Ze(t.h,t.s,t.l,t.opacity);if(t instanceof Ae||(t=$e(t)),!t)return new Ze;if(t instanceof Ze)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Ze(a,s,c,t.opacity)}function Ze(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function tn(t){return(t=(t||0)%360)<0?t+360:t}function en(t){return Math.max(0,Math.min(1,t||0))}function nn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function rn(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}ke(Ae,$e,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pe,formatHex:Pe,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Qe(this).formatHsl()},formatRgb:Re,toString:Re}),ke(Ke,Fe,Ee(Ae,{brighter(t){return t=null==t?Le:Math.pow(Le,t),new Ke(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Se:Math.pow(Se,t),new Ke(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ke(He(this.r),He(this.g),He(this.b),Xe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:We,formatHex:We,formatHex8:function(){return`#${Ve(this.r)}${Ve(this.g)}${Ve(this.b)}${Ve(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ye,toString:Ye})),ke(Ze,(function(t,e,n,r){return 1===arguments.length?Qe(t):new Ze(t,e,n,null==r?1:r)}),Ee(Ae,{brighter(t){return t=null==t?Le:Math.pow(Le,t),new Ze(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Se:Math.pow(Se,t),new Ze(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ke(nn(t>=240?t-240:t+120,i,r),nn(t,i,r),nn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ze(tn(this.h),en(this.s),en(this.l),Xe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xe(this.opacity);return`${1===t?"hsl(":"hsla("}${tn(this.h)}, ${100*en(this.s)}%, ${100*en(this.l)}%${1===t?")":`, ${t})`}`}}));const on=t=>()=>t;function an(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):on(isNaN(t)?e:t)}const sn=function t(e){var n=function(t){return 1==(t=+t)?an:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):on(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Fe(t)).r,(e=Fe(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=an(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function cn(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Fe(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}cn((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return rn((n-r/e)*e,a,i,o,s)}})),cn((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return rn((n-r/e)*e,i,o,a,s)}}));var un=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,hn=new RegExp(un.source,"g");function ln(t,e){var n,r,i,o=un.lastIndex=hn.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=un.exec(t))&&(r=hn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:de(n,r)})),o=hn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function dn(t,e){var n;return("number"==typeof e?de:e instanceof $e?sn:(n=$e(e))?(e=n,sn):ln)(t,e)}function fn(t){return function(){this.removeAttribute(t)}}function pn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function yn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function mn(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttribute(t)}}function vn(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function wn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function bn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function xn(t,e){return function(){ce(this,t).delay=+e.apply(this,arguments)}}function _n(t,e){return e=+e,function(){ce(this,t).delay=e}}function kn(t,e){return function(){ue(this,t).duration=+e.apply(this,arguments)}}function En(t,e){return e=+e,function(){ue(this,t).duration=e}}var An=zt.prototype.constructor;function Sn(t){return function(){this.style.removeProperty(t)}}var Ln=0;function Mn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Gn(){return++Ln}var Nn=zt.prototype;Mn.prototype=function(t){return zt().transition(t)}.prototype={constructor:Mn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=x(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,u=r[a],h=u.length,l=o[a]=new Array(h),d=0;d<h;++d)(s=u[d])&&(c=t.call(s,s.__data__,d,u))&&("__data__"in s&&(c.__data__=s.__data__),l[d]=c,se(l[d],e,n,d,l,he(s,n)));return new Mn(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=k(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,u=r[s],h=u.length,l=0;l<h;++l)if(c=u[l]){for(var d,f=t.call(c,c.__data__,l,u),p=he(c,n),g=0,y=f.length;g<y;++g)(d=f[g])&&se(d,e,n,g,f,p);o.push(f),a.push(c)}return new Mn(o,a,e,n)},selectChild:Nn.selectChild,selectChildren:Nn.selectChildren,filter:function(t){"function"!=typeof t&&(t=E(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new Mn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,u=e[s],h=n[s],l=u.length,d=a[s]=new Array(l),f=0;f<l;++f)(c=u[f]||h[f])&&(d[f]=c);for(;s<r;++s)a[s]=e[s];return new Mn(a,this._parents,this._name,this._id)},selection:function(){return new An(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Gn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,u=0;u<c;++u)if(a=s[u]){var h=he(a,e);se(a,t,n,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Mn(r,this._parents,t,n)},call:Nn.call,nodes:Nn.nodes,node:Nn.node,size:Nn.size,empty:Nn.empty,each:Nn.each,on:function(t,e){var n=this._id;return arguments.length<2?he(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ce:ue;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=P(t),r="transform"===n?we:dn;return this.attrTween(t,"function"==typeof e?(n.local?vn:mn)(n,r,_e(this,"attr."+t,e)):null==e?(n.local?pn:fn)(n):(n.local?yn:gn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=P(t);return this.tween(n,(r.local?wn:bn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?ve:dn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=V(this,t),a=(this.style.removeProperty(t),V(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Sn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=V(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=V(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}(t,r,_e(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var c=ue(this,t),u=c.on,h=null==c.value[a]?o||(o=Sn(e)):void 0;u===n&&i===h||(r=(n=u).copy()).on(s,i=h),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=V(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(_e(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=he(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?be:xe)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?xn:_n)(e,t)):he(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?kn:En)(e,t)):he(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){ue(this,t).ease=e}}(e,t)):he(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;ue(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=ue(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Nn[Symbol.iterator]};var zn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Cn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}zt.prototype.interrupt=function(t){return this.each((function(){le(this,t)}))},zt.prototype.transition=function(t){var e,n;t instanceof Mn?(e=t._id,t=t._name):(e=Gn(),(n=zn).time=Ht(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,u=0;u<c;++u)(a=s[u])&&se(a,t,e,u,s,n||Cn(a,e));return new Mn(r,this._parents,t,e)};const{abs:On,max:jn,min:Dn}=Math;function In(t){return{type:t}}function Un(t){return"string"==typeof t?new Gt([[document.querySelector(t)]],[document.documentElement]):new Gt([[t]],Mt)}function Tn(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}["w","e"].map(In),["n","s"].map(In),["n","w","e","s","nw","ne","sw","se"].map(In);const Pn={passive:!1},Rn={capture:!0,passive:!1};function $n(t){t.stopImmediatePropagation()}function qn(t){t.preventDefault(),t.stopImmediatePropagation()}function Bn(t){var e=t.document.documentElement,n=Un(t).on("dragstart.drag",qn,Rn);"onselectstart"in e?n.on("selectstart.drag",qn,Rn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Fn(t,e){var n=t.document.documentElement,r=Un(t).on("dragstart.drag",null);e&&(r.on("click.drag",qn,Rn),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Kn=t=>()=>t;function Wn(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:c,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}function Yn(t){return!t.ctrlKey&&!t.button}function Xn(){return this.parentNode}function Hn(t,e){return null==e?{x:t.x,y:t.y}:e}function Vn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jn(t){return function(){return t}}function Qn(t){return 1e-6*(t()-.5)}function Zn(t){return t.index}function tr(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function er(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,c,u,h,l,d,f=t._root,p={data:r},g=t._x0,y=t._y0,m=t._x1,v=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((u=e>=(o=(g+m)/2))?g=o:m=o,(h=n>=(a=(y+v)/2))?y=a:v=a,i=f,!(f=f[l=h<<1|u]))return i[l]=p,t;if(s=+t._x.call(null,f.data),c=+t._y.call(null,f.data),e===s&&n===c)return p.next=f,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(u=e>=(o=(g+m)/2))?g=o:m=o,(h=n>=(a=(y+v)/2))?y=a:v=a}while((l=h<<1|u)==(d=(c>=a)<<1|s>=o));return i[d]=f,i[l]=p,t}function nr(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function rr(t){return t[0]}function ir(t){return t[1]}function or(t,e,n){var r=new ar(null==e?rr:e,null==n?ir:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ar(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function sr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}Wn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var cr=or.prototype=ar.prototype;cr.copy=function(){var t,e,n=new ar(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=sr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=sr(e));return n},cr.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return er(this.cover(e,n),e,n,t)},cr.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),c=1/0,u=1/0,h=-1/0,l=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<c&&(c=r),r>h&&(h=r),i<u&&(u=i),i>l&&(l=i));if(c>h||u>l)return this;for(this.cover(c,u).cover(h,l),n=0;n<o;++n)er(this,a[n],s[n],t[n]);return this},cr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,c=i-n||1,u=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=u,u=a,c*=2,s){case 0:i=n+c,o=r+c;break;case 1:n=i-c,o=r+c;break;case 2:i=n+c,r=o-c;break;case 3:n=i-c,r=o-c}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},cr.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},cr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},cr.find=function(t,e,n){var r,i,o,a,s,c,u,h=this._x0,l=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new nr(g,h,l,d,f)),null==n?n=1/0:(h=t-n,l=e-n,d=t+n,f=e+n,n*=n);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>d||(o=c.y0)>f||(a=c.x1)<h||(s=c.y1)<l))if(g.length){var y=(i+a)/2,m=(o+s)/2;p.push(new nr(g[3],y,m,a,s),new nr(g[2],i,m,y,s),new nr(g[1],y,o,a,m),new nr(g[0],i,o,y,m)),(u=(e>=m)<<1|t>=y)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=c)}else{var v=t-+this._x.call(null,g.data),w=e-+this._y.call(null,g.data),b=v*v+w*w;if(b<n){var x=Math.sqrt(n=b);h=t-x,l=e-x,d=t+x,f=e+x,r=g.data}}return r},cr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,c,u,h,l,d,f=this._root,p=this._x0,g=this._y0,y=this._x1,m=this._y1;if(!f)return this;if(f.length)for(;;){if((u=o>=(s=(p+y)/2))?p=s:y=s,(h=a>=(c=(g+m)/2))?g=c:m=c,e=f,!(f=f[l=h<<1|u]))return this;if(!f.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,d=l)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[l]=i:delete e[l],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},cr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},cr.root=function(){return this._root},cr.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},cr.visit=function(t){var e,n,r,i,o,a,s=[],c=this._root;for(c&&s.push(new nr(c,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(c=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&c.length){var u=(r+o)/2,h=(i+a)/2;(n=c[3])&&s.push(new nr(n,u,h,o,a)),(n=c[2])&&s.push(new nr(n,r,h,u,a)),(n=c[1])&&s.push(new nr(n,u,i,o,h)),(n=c[0])&&s.push(new nr(n,r,i,u,h))}return this},cr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new nr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,c=e.x1,u=e.y1,h=(a+c)/2,l=(s+u)/2;(o=i[0])&&n.push(new nr(o,a,s,h,l)),(o=i[1])&&n.push(new nr(o,h,s,c,l)),(o=i[2])&&n.push(new nr(o,a,l,h,u)),(o=i[3])&&n.push(new nr(o,h,l,c,u))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},cr.x=function(t){return arguments.length?(this._x=t,this):this._x},cr.y=function(t){return arguments.length?(this._y=t,this):this._y};const ur=4294967296;function hr(t){return t.x}function lr(t){return t.y}var dr=Math.PI*(3-Math.sqrt(5));function fr(t){return((t=Math.exp(t))+1/t)/2}const pr=function t(e,n,r){function i(t,i){var o,a,s=t[0],c=t[1],u=t[2],h=i[0],l=i[1],d=i[2],f=h-s,p=l-c,g=f*f+p*p;if(g<1e-12)a=Math.log(d/u)/e,o=function(t){return[s+t*f,c+t*p,u*Math.exp(e*t*a)]};else{var y=Math.sqrt(g),m=(d*d-u*u+r*g)/(2*u*n*y),v=(d*d-u*u-r*g)/(2*d*n*y),w=Math.log(Math.sqrt(m*m+1)-m),b=Math.log(Math.sqrt(v*v+1)-v);a=(b-w)/e,o=function(t){var r,i=t*a,o=fr(w),h=u/(n*y)*(o*(r=e*i+w,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[s+h*f,c+h*p,u*o/fr(e*i+w)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4),gr=t=>()=>t;function yr(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function mr(t,e,n){this.k=t,this.x=e,this.y=n}mr.prototype={constructor:mr,scale:function(t){return 1===t?this:new mr(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new mr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vr=new mr(1,0,0);function wr(t){t.stopImmediatePropagation()}function br(t){t.preventDefault(),t.stopImmediatePropagation()}function xr(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function _r(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function kr(){return this.__zoom||vr}function Er(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ar(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sr(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Lr(t){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(t)}function Mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zr(r.key),r)}}function Gr(t,e,n){return e&&Mr(t.prototype,e),n&&Mr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nr(t,e,n){return(e=zr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zr(t){var e=function(t,e){if("object"!=Lr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Lr(e)?e:e+""}mr.prototype;var Cr=Gr((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));Nr(Cr,"highlightedNodes",[]),Nr(Cr,"focusMode",!1),Nr(Cr,"position",{x:0,y:0,zoom:1}),window.addEventListener("DOMContentLoaded",(function(){document.getElementById("view-save").addEventListener("click",(function(){var t=new URL(window.location),e=Array.from(document.querySelectorAll("#types-form input:checked")).map((function(t){return t.name})),n=Array.from(document.querySelectorAll("#tags-form input:checked")).map((function(t){return t.name})),r=document.getElementById("focus-input").value;e.length>0&&t.searchParams.set("filters",e.join("-")),n.length>0&&t.searchParams.set("tags",n.join("-")),document.querySelector("#focus-check:checked")&&t.searchParams.set("focus",r),window.location.replace(t)}))}));const Or="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function jr(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on".concat(e),n)}function Dr(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on".concat(e),n)}function Ir(t,e){const n=e.slice(0,e.length-1);for(let e=0;e<n.length;e++)n[e]=t[n[e].toLowerCase()];return n}function Ur(t){"string"!=typeof t&&(t="");const e=(t=t.replace(/\\s/g,"")).split(",");let n=e.lastIndexOf("");for(;n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}const Tr={backspace:8,"â«":8,tab:9,clear:12,enter:13,"â©":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"âª":20,",":188,".":190,"/":191,"`":192,"-":Or?173:189,"=":Or?61:187,";":Or?59:186,"\'":222,"[":219,"]":221,"\\\\":220},Pr={"â§":16,shift:16,"â¥":18,alt:18,option:18,"â":17,ctrl:17,control:17,"â":91,cmd:91,command:91},Rr={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},$r={16:!1,18:!1,17:!1,91:!1},qr={};for(let t=1;t<20;t++)Tr["f".concat(t)]=111+t;let Br=[],Fr=null,Kr="all";const Wr=new Map,Yr=t=>Tr[t.toLowerCase()]||Pr[t.toLowerCase()]||t.toUpperCase().charCodeAt(0);function Xr(t){Kr=t||"all"}function Hr(){return Kr||"all"}function Vr(t){if(void 0===t)Object.keys(qr).forEach((t=>{Array.isArray(qr[t])&&qr[t].forEach((t=>Jr(t))),delete qr[t]})),ei(null);else if(Array.isArray(t))t.forEach((t=>{t.key&&Jr(t)}));else if("object"==typeof t)t.key&&Jr(t);else if("string"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let[i,o]=n;"function"==typeof i&&(o=i,i=""),Jr({key:t,scope:i,method:o,splitKey:"+"})}}const Jr=t=>{let{key:e,scope:n,method:r,splitKey:i="+"}=t;Ur(e).forEach((t=>{const e=t.split(i),o=e.length,a=e[o-1],s="*"===a?"*":Yr(a);if(!qr[s])return;n||(n=Hr());const c=o>1?Ir(Pr,e):[],u=[];qr[s]=qr[s].filter((t=>{const e=(!r||t.method===r)&&t.scope===n&&function(t,e){const n=t.length>=e.length?t:e,r=t.length>=e.length?e:t;let i=!0;for(let t=0;t<n.length;t++)-1===r.indexOf(n[t])&&(i=!1);return i}(t.mods,c);return e&&u.push(t.element),!e})),u.forEach((t=>ei(t)))}))};function Qr(t,e,n,r){if(e.element!==r)return;let i;if(e.scope===n||"all"===e.scope){i=e.mods.length>0;for(const t in $r)Object.prototype.hasOwnProperty.call($r,t)&&(!$r[t]&&e.mods.indexOf(+t)>-1||$r[t]&&-1===e.mods.indexOf(+t))&&(i=!1);(0!==e.mods.length||$r[16]||$r[18]||$r[17]||$r[91])&&!i&&"*"!==e.shortcut||(e.keys=[],e.keys=e.keys.concat(Br),!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function Zr(t,e){const n=qr["*"];let r=t.keyCode||t.which||t.charCode;if(!ti.filter.call(this,t))return;if(93!==r&&224!==r||(r=91),-1===Br.indexOf(r)&&229!==r&&Br.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((e=>{const n=Rr[e];t[e]&&-1===Br.indexOf(n)?Br.push(n):!t[e]&&Br.indexOf(n)>-1?Br.splice(Br.indexOf(n),1):"metaKey"===e&&t[e]&&3===Br.length&&(t.ctrlKey||t.shiftKey||t.altKey||(Br=Br.slice(Br.indexOf(n))))})),r in $r){$r[r]=!0;for(const t in Pr)Pr[t]===r&&(ti[t]=!0);if(!n)return}for(const e in $r)Object.prototype.hasOwnProperty.call($r,e)&&($r[e]=t[Rr[e]]);t.getModifierState&&(!t.altKey||t.ctrlKey)&&t.getModifierState("AltGraph")&&(-1===Br.indexOf(17)&&Br.push(17),-1===Br.indexOf(18)&&Br.push(18),$r[17]=!0,$r[18]=!0);const i=Hr();if(n)for(let r=0;r<n.length;r++)n[r].scope===i&&("keydown"===t.type&&n[r].keydown||"keyup"===t.type&&n[r].keyup)&&Qr(t,n[r],i,e);if(!(r in qr))return;const o=qr[r],a=o.length;for(let n=0;n<a;n++)if(("keydown"===t.type&&o[n].keydown||"keyup"===t.type&&o[n].keyup)&&o[n].key){const r=o[n],{splitKey:a}=r,s=r.key.split(a),c=[];for(let t=0;t<s.length;t++)c.push(Yr(s[t]));c.sort().join("")===Br.sort().join("")&&Qr(t,r,i,e)}}function ti(t,e,n){Br=[];const r=Ur(t);let i=[],o="all",a=document,s=0,c=!1,u=!0,h="+",l=!1,d=!1;for(void 0===n&&"function"==typeof e&&(n=e),"[object Object]"===Object.prototype.toString.call(e)&&(e.scope&&(o=e.scope),e.element&&(a=e.element),e.keyup&&(c=e.keyup),void 0!==e.keydown&&(u=e.keydown),void 0!==e.capture&&(l=e.capture),"string"==typeof e.splitKey&&(h=e.splitKey),!0===e.single&&(d=!0)),"string"==typeof e&&(o=e),d&&Vr(t,o);s<r.length;s++)i=[],(t=r[s].split(h)).length>1&&(i=Ir(Pr,t)),(t="*"===(t=t[t.length-1])?"*":Yr(t))in qr||(qr[t]=[]),qr[t].push({keyup:c,keydown:u,scope:o,mods:i,shortcut:r[s],method:n,key:r[s],splitKey:h,element:a});if(void 0!==a&&window){if(!Wr.has(a)){const t=function(){return Zr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,a)},e=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;Zr(t,a),function(t){let e=t.keyCode||t.which||t.charCode;const n=Br.indexOf(e);if(n>=0&&Br.splice(n,1),t.key&&"meta"===t.key.toLowerCase()&&Br.splice(0,Br.length),93!==e&&224!==e||(e=91),e in $r){$r[e]=!1;for(const t in Pr)Pr[t]===e&&(ti[t]=!1)}}(t)};Wr.set(a,{keydownListener:t,keyupListenr:e,capture:l}),jr(a,"keydown",t,l),jr(a,"keyup",e,l)}if(!Fr){const t=()=>{Br=[]};Fr={listener:t,capture:l},jr(window,"focus",t,l)}}}function ei(t){const e=Object.values(qr).flat();if(e.findIndex((e=>{let{element:n}=e;return n===t}))<0){const{keydownListener:e,keyupListenr:n,capture:r}=Wr.get(t)||{};e&&n&&(Dr(t,"keyup",n,r),Dr(t,"keydown",e,r),Wr.delete(t))}if((e.length<=0||Wr.size<=0)&&(Object.keys(Wr).forEach((t=>{const{keydownListener:e,keyupListenr:n,capture:r}=Wr.get(t)||{};e&&n&&(Dr(t,"keyup",n,r),Dr(t,"keydown",e,r),Wr.delete(t))})),Wr.clear(),Object.keys(qr).forEach((t=>delete qr[t])),Fr)){const{listener:t,capture:e}=Fr;Dr(window,"focus",t,e),Fr=null}}const ni={getPressedKeyString:function(){return Br.map((t=>{return e=t,Object.keys(Tr).find((t=>Tr[t]===e))||(t=>Object.keys(Pr).find((e=>Pr[e]===t)))(t)||String.fromCharCode(t);var e}))},setScope:Xr,getScope:Hr,deleteScope:function(t,e){let n,r;t||(t=Hr());for(const e in qr)if(Object.prototype.hasOwnProperty.call(qr,e))for(n=qr[e],r=0;r<n.length;)n[r].scope===t?n.splice(r,1).forEach((t=>{let{element:e}=t;return ei(e)})):r++;Hr()===t&&Xr(e||"all")},getPressedKeyCodes:function(){return Br.slice(0)},getAllKeyCodes:function(){const t=[];return Object.keys(qr).forEach((e=>{qr[e].forEach((e=>{let{key:n,scope:r,mods:i,shortcut:o}=e;t.push({scope:r,shortcut:o,mods:i,keys:n.split("+").map((t=>Yr(t)))})}))})),t},isPressed:function(t){return"string"==typeof t&&(t=Yr(t)),-1!==Br.indexOf(t)},filter:function(t){const e=t.target||t.srcElement,{tagName:n}=e;let r=!0;const i="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(i||"TEXTAREA"===n||"SELECT"===n)&&!e.readOnly)&&(r=!1),r},trigger:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(qr).forEach((n=>{qr[n].filter((n=>n.scope===e&&n.shortcut===t)).forEach((t=>{t&&t.method&&t.method()}))}))},unbind:Vr,keyMap:Tr,modifier:Pr,modifierMap:Rr};for(const t in ni)Object.prototype.hasOwnProperty.call(ni,t)&&(ti[t]=ni[t]);if("undefined"!=typeof window){const t=window.hotkeys;ti.noConflict=e=>(e&&window.hotkeys===ti&&(window.hotkeys=t),ti),window.hotkeys=ti}const ri={notFiltered:0,filteredByTimeline:1,filteredByFocus:2,filteredByTag:3,filteredByType:4};var ii=[];data.nodes=data.nodes.map((function(t){return ii.push(t.id),t.hidden=ri.notFiltered,t.isolated=!1,t.highlighted=!1,t}));var oi=Un("#graph-canvas"),ai=oi.append("svg"),si=oi.node().getBoundingClientRect(),ci=si.width,ui=si.height;ai.attr("viewBox",[0,0,ci,ui]);var hi=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,c=Qt(l),u=Ut("tick","end"),h=function(){let t=1;return()=>(t=(1664525*t+1013904223)%ur)/ur}();function l(){d(),u.call("tick",e),n<r&&(c.stop(),u.call("end",e))}function d(r){var c,u,h=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),c=0;c<h;++c)null==(u=t[c]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*dr;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,h),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return c.restart(l),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(h=t,s.forEach(p),e):h},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,c,u=0,h=t.length;for(null==r?r=1/0:r*=r,u=0;u<h;++u)(a=(i=e-(s=t[u]).x)*i+(o=n-s.y)*o)<r&&(c=s,r=a);return c},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}(data.nodes).force("link",function(t){var e,n,r,i,o,a,s=Zn,c=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=Jn(30),h=1;function l(r){for(var i=0,s=t.length;i<h;++i)for(var c,u,l,d,f,p,g,y=0;y<s;++y)u=(c=t[y]).source,d=(l=c.target).x+l.vx-u.x-u.vx||Qn(a),f=l.y+l.vy-u.y-u.vy||Qn(a),d*=p=((p=Math.sqrt(d*d+f*f))-n[y])/p*r*e[y],f*=p,l.vx-=d*(g=o[y]),l.vy-=f*g,u.vx+=d*(g=1-g),u.vy+=f*g}function d(){if(r){var a,c,u=r.length,h=t.length,l=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(a=0,i=new Array(u);a<h;++a)(c=t[a]).index=a,"object"!=typeof c.source&&(c.source=tr(l,c.source)),"object"!=typeof c.target&&(c.target=tr(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(a=0,o=new Array(h);a<h;++a)c=t[a],o[a]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);e=new Array(h),f(),n=new Array(h),p()}}function f(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),l.initialize=function(t,e){r=t,a=e,d()},l.links=function(e){return arguments.length?(t=e,d(),l):t},l.id=function(t){return arguments.length?(s=t,l):s},l.iterations=function(t){return arguments.length?(h=+t,l):h},l.strength=function(t){return arguments.length?(c="function"==typeof t?t:Jn(+t),f(),l):c},l.distance=function(t){return arguments.length?(u="function"==typeof t?t:Jn(+t),p(),l):u},l}(data.links).id((function(t){return t.id}))).force("charge",function(){var t,e,n,r,i,o=Jn(-30),a=1,s=1/0,c=.81;function u(n){var i,o=t.length,a=or(t,hr,lr).visitAfter(l);for(r=n,i=0;i<o;++i)e=t[i],a.visit(d)}function h(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function l(t){var e,n,r,o,a,s=0,c=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,c+=n,r+=n*e.x,o+=n*e.y);t.x=r/c,t.y=o/c}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function d(t,o,u,h){if(!t.value)return!0;var l=t.x-e.x,d=t.y-e.y,f=h-o,p=l*l+d*d;if(f*f/c<p)return p<s&&(0===l&&(p+=(l=Qn(n))*l),0===d&&(p+=(d=Qn(n))*d),p<a&&(p=Math.sqrt(a*p)),e.vx+=l*t.value*r/p,e.vy+=d*t.value*r/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===l&&(p+=(l=Qn(n))*l),0===d&&(p+=(d=Qn(n))*d),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(f=i[t.data.index]*r/p,e.vx+=l*f,e.vy+=d*f)}while(t=t.next)}}return u.initialize=function(e,r){t=e,n=r,h()},u.strength=function(t){return arguments.length?(o="function"==typeof t?t:Jn(+t),h(),u):o},u.distanceMin=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.distanceMax=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u.theta=function(t){return arguments.length?(c=t*t,u):Math.sqrt(c)},u}()).force("center",function(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,c=0;for(i=0;i<a;++i)s+=(o=n[i]).x,c+=o.y;for(s=(s/a-t)*r,c=(c/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=c}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}()).force("forceX",function(t){var e,n,r,i=Jn(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Jn(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Jn(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:Jn(+e),a(),o):t},o}()).force("forceY",function(t){var e,n,r,i=Jn(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Jn(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Jn(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Jn(+e),a(),o):t},o}());hi.force("center").x(.5*ci).y(.5*ui),window.updateForces=function(){hi.force("charge").strength(-Math.abs(graphProperties.attraction_force)).distanceMax(graphProperties.attraction_distance_max),hi.force("forceX").strength(graphProperties.attraction_vertical),hi.force("forceY").strength(graphProperties.attraction_horizontal),hi.alpha(1).restart()},updateForces(),ti("space",(function(t){t.preventDefault(),updateForces()})),hi.on("tick",(function(){li.links.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),li.nodes.attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})),Un("#load-bar-value").style("flex-basis",100*hi.alpha()+"%"),wi()}));var li={},di=new Set(["jpg","jpeg","png"]);function fi(t,e,n){for(var r=[],i=2*Math.PI/t,o=0;o<t;o++){var a=o*i,s=(o+1)*i,c=0+e*Math.cos(a),u=0+e*Math.sin(a),h=0+e*Math.cos(s),l=0+e*Math.sin(s),d="M ".concat(c," ").concat(u," A ").concat(e," ").concat(e," 0 0 1 ").concat(h," ").concat(l," L ").concat(0," ").concat(0," Z"),f=0+(e+n)*Math.cos(a),p=0+(e+n)*Math.sin(a),g=0+(e+n)*Math.cos(s),y=0+(e+n)*Math.sin(s),m="M ".concat(f," ").concat(p," A ").concat(e+n," ").concat(e+n," 0 0 1 ").concat(g," ").concat(y," L ").concat(0," ").concat(0," Z");r.push({segment:d,border:m})}return r}function pi(t){var e=li.nodes.filter((function(t){return t.hidden===ri.notFiltered})).data().map((function(t){return t.id}));return{nodes:li.nodes.filter((function(e){return t.includes(e.id)})),links:li.links.filter((function(n){return!(!t.includes(n.source.id)&&!t.includes(n.target.id)||!e.includes(n.source.id)||!e.includes(n.target.id))}))}}function gi(t,e){var n=[],r=[];ii.forEach((function(e){t.includes(e)?r.push(e):n.push(e)})),function(t,e){if(hideNodeNetwork(t),function(t){var e,n=Si(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;zi.querySelectorAll(\'[data-index="\'+r+\'"]\').forEach((function(t){t.style.display="none"}))}}catch(t){n.e(t)}finally{n.f()}}(t),void 0===e)throw new Error("Need priority");li.nodes.data().map((function(n){var r=n.id,i=n.hidden;return t.includes(r)&&i<=e&&(n.hidden=e),n}))}(n,e),yi(r,e)}function yi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri.notFiltered,n=[];li.nodes.data().map((function(r){var i=r.id,o=r.hidden;return t.includes(i)&&o<=e&&(n.push(i),r.hidden=ri.notFiltered),r})),displayNodeNetwork(n),function(t){var e,n=Si(t=t.filter((function(t){if(bi.find((function(e){return e.id===t})).hidden===ri.notFiltered)return!0})));try{for(n.s();!(e=n.n()).done;){var r=e.value;zi.querySelectorAll(\'[data-index="\'+r+\'"]\').forEach((function(t){t.style.display=null}))}}catch(t){n.e(t)}finally{n.f()}}(n)}function mi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri.notFiltered;yi(ii,t)}function vi(){if(0!==Cr.highlightedNodes.length){var t=pi(Cr.highlightedNodes),e=t.nodes,n=t.links;e.nodes().forEach((function(t){return t.classList.remove("highlight")})),n.nodes().forEach((function(t){return t.classList.remove("highlight")})),Cr.highlightedNodes=[]}}function wi(){var t=w(data.nodes,(function(t){return t.x})),e=m(data.nodes,(function(t){return t.x})),n=w(data.nodes,(function(t){return t.y})),r=m(data.nodes,(function(t){return t.y})),i=window.innerWidth,o=window.innerHeight,a=Cr.position,s=a.x,c=a.y,u=a.zoom,h=w([o,i]),l=e-t;l<h&&(l=h);var d=r-n;if(d<h&&(d=h),0>t||0>n){var f=[(t-s)/u,(n-c)/u,l/u,d/u];ai.attr("viewBox",f).attr("preserveAspectRatio",null)}else{var p=[(0-s)/u,(0-c)/u,l/u,d/u];ai.attr("viewBox",p).attr("preserveAspectRatio","xMinYMin meet")}}li.links=ai.append("g").selectAll("line").data(data.links).enter().append("line").attr("stroke",(function(t){return t.color})).attr("title",(function(t){return t.title})).attr("data-link",(function(t){return t.id})).attr("data-source",(function(t){return t.source.id})).attr("data-target",(function(t){return t.target.id})).attr("stroke-dasharray",(function(t){return("dash"===t.shape.stroke||"dotted"===t.shape.stroke)&&t.shape.dashInterval})).attr("filter",(function(t){return"double"===t.shape.stroke&&"url(#double)"})),!0===graphProperties.graph_arrows&&li.links.attr("marker-end","url(#arrow)"),li.nodes=ai.append("g").selectAll("g").data(data.nodes).enter().append("g").attr("data-node",(function(t){return t.id})).call(function(){var t,e,n,r,i=Yn,o=Xn,a=Hn,s=Vn,c={},u=Ut("start","drag","end"),h=0,l=0;function d(t){t.on("mousedown.drag",f).filter(s).on("touchstart.drag",y).on("touchmove.drag",m,Pn).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,s){if(!r&&i.call(this,a,s)){var c=w(this,o.call(this,a,s),a,s,"mouse");c&&(Un(a.view).on("mousemove.drag",p,Rn).on("mouseup.drag",g,Rn),Bn(a.view),$n(a),n=!1,t=a.clientX,e=a.clientY,c("start",a))}}function p(r){if(qn(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>l}c.mouse("drag",r)}function g(t){Un(t.view).on("mousemove.drag mouseup.drag",null),Fn(t.view,n),qn(t),c.mouse("end",t)}function y(t,e){if(i.call(this,t,e)){var n,r,a=t.changedTouches,s=o.call(this,t,e),c=a.length;for(n=0;n<c;++n)(r=w(this,s,t,e,a[n].identifier,a[n]))&&($n(t),r("start",t,a[n]))}}function m(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=c[r[e].identifier])&&(qn(t),n("drag",t,r[e]))}function v(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=c[i[e].identifier])&&($n(t),n("end",t,i[e]))}function w(t,e,n,r,i,o){var s,l,f,p=u.copy(),g=Tn(o||n,e);if(null!=(f=a.call(t,new Wn("beforestart",{sourceEvent:n,target:d,identifier:i,active:h,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return s=f.x-g[0]||0,l=f.y-g[1]||0,function n(o,a,u){var y,m=g;switch(o){case"start":c[i]=n,y=h++;break;case"end":delete c[i],--h;case"drag":g=Tn(u||a,e),y=h}p.call(o,t,new Wn(o,{sourceEvent:a,subject:f,target:d,identifier:i,active:y,x:g[0]+s,y:g[1]+l,dx:g[0]-m[0],dy:g[1]-m[1],dispatch:p}),r)}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:Kn(!!t),d):i},d.container=function(t){return arguments.length?(o="function"==typeof t?t:Kn(t),d):o},d.subject=function(t){return arguments.length?(a="function"==typeof t?t:Kn(t),d):a},d.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Kn(!!t),d):s},d.on=function(){var t=u.on.apply(u,arguments);return t===u?d:t},d.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,d):Math.sqrt(l)},d}().on("start",(function(t,e){t.active||hi.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y})).on("drag",(function(t,e){e.fx=t.x,e.fy=t.y})).on("end",(function(t,e){t.active||hi.alphaTarget(1e-4),e.fx=null,e.fy=null}))).on("mouseover",(function(t,e){if(graphProperties.graph_highlight_on_hover){var n=[e.id],r=li.links.filter((function(t){return t.source.id!==e.id&&t.target.id!==e.id||(n.push(t.source.id,t.target.id),!1)})),i=li.nodes.filter((function(t){return!n.includes(t.id)})),o=li.links.filter((function(t){return t.source.id===e.id||t.target.id===e.id}));li.nodes.filter((function(t){return!!n.includes(t.id)})).nodes().forEach((function(t){return t.classList.add("highlight")})),o.nodes().forEach((function(t){return t.classList.add("highlight")})),i.nodes().forEach((function(t){return t.classList.add("translucent")})),r.nodes().forEach((function(t){return t.classList.add("translucent")}))}})).on("mouseout",(function(){if(graphProperties.graph_highlight_on_hover){var t=Ni();li.nodes.filter((function(e){var n=e.id;return!t||n!==t})).nodes().forEach((function(t){return t.classList.remove("highlight")})),li.links.filter((function(e){return!t||e.source.id!==t&&e.target.id!==t})).nodes().forEach((function(t){return t.classList.remove("highlight")})),li.nodes.nodes().forEach((function(t){return t.classList.remove("translucent")})),li.links.nodes().forEach((function(t){return t.classList.remove("translucent")}))}})),li.nodes.each((function(t){var e=Un(this).append("a").attr("href",(function(t){return"#"+t.id})),n=function(t){return di.has(t.split(".").at(-1))?"url(#".concat(t,")"):t},r=function(n,r){e.append("circle").attr("class","border").attr("r",t.size+2).attr("fill",n),e.append("circle").attr("r",t.size).attr("fill",r)};if(t.thumbnail)1===t.types.length?r(graphProperties.record_types[t.types[0]].stroke,"url(#".concat(t.thumbnail,")")):(fi(t.types.length,t.size,2).forEach((function(n,r){var i=n.border,o=graphProperties.record_types[t.types[r]];e.append("path").attr("d",i).attr("fill",o.stroke).attr("class","border")})),e.append("circle").attr("r",t.size).attr("fill","var(--background-gray)"),e.append("circle").attr("r",t.size).attr("fill","url(#".concat(t.thumbnail,")")));else if(1===t.types.length){var i=graphProperties.record_types[t.types[0]];r(i.stroke,n(i.fill))}else fi(t.types.length,t.size,2).forEach((function(r,i){var o=r.segment,a=r.border,s=graphProperties.record_types[t.types[i]];e.append("path").attr("d",a).attr("fill",s.stroke).attr("class","border"),e.append("path").attr("d",o).attr("fill","var(--background-gray)"),e.append("path").attr("d",o).attr("fill",n(s.fill))}))})),li.labels=li.nodes.select("a").append("text").attr("class","label").each((function(t){for(var e=t.label.split(" "),n=Un(this),r="",i=0;i<e.length;i++)(r+=e[i]+" ").length<25&&i!==e.length-1||(n.append("tspan").attr("x",0).attr("dy","1.2em").text(r.slice(0,-1)),r="")})).attr("font-size",graphProperties.graph_text_size).attr("x",0).attr("y",(function(t){return t.size})).attr("dominant-baseline","middle").attr("text-anchor","middle"),window.hideNodeNetwork=function(t){var e=pi(t),n=e.nodes,r=e.links;n.nodes().forEach((function(t){return t.classList.add("hide")})),r.nodes().forEach((function(t){return t.classList.add("hide")}))},window.displayNodeNetwork=function(t){var e=pi(t),n=e.nodes,r=e.links;n.nodes().forEach((function(t){return t.classList.remove("hide")})),r.nodes().forEach((function(t){return t.classList.remove("hide")}))},window.linksDisplayToggle=function(t){t?li.links.nodes().forEach((function(t){return t.classList.remove("hide")})):li.links.nodes().forEach((function(t){return t.classList.add("hide")}))},window.labelDisplayToggle=function(t){t?li.labels.nodes().forEach((function(t){return t.classList.remove("hide")})):li.labels.nodes().forEach((function(t){return t.classList.add("hide")}))},window.updateFontsize=function(){li.labels.attr("font-size",graphProperties.text_size)};var bi=li.nodes.data(),xi=(li.links.data(),.2),_i=bi.reduce((function(t,e){return t+e.size}),0);window.addEventListener("resize",(function(){var t=_i/(window.innerWidth*window.innerHeight);t*=1e3,xi=Math.log2(t)}));var ki=function(){var t,e,n,r=xr,i=_r,o=Sr,a=Er,s=Ar,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],h=250,l=pr,d=Ut("start","zoom","end"),f=500,p=150,g=0,y=10;function m(t){t.property("__zoom",kr).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",S).filter(s).on("touchstart.zoom",L).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(c[0],Math.min(c[1],e)))===t.k?t:new mr(e,t.x,t.y)}function w(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new mr(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=_(t,o).event(r),s=i.apply(t,o),c=null==n?b(s):"function"==typeof n?n.apply(t,o):n,u=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),h=t.__zoom,d="function"==typeof e?e.apply(t,o):e,f=l(h.invert(c).concat(u/h.k),d.invert(c).concat(u/d.k));return function(t){if(1===t)t=d;else{var e=f(t),n=u/e[2];t=new mr(n,c[0]-e[0]*n,c[1]-e[1]*n)}a.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new k(t,e)}function k(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function E(t,...e){if(r.apply(this,arguments)){var n=_(this,e).event(t),i=this.__zoom,s=Math.max(c[0],Math.min(c[1],i.k*Math.pow(2,a.apply(this,arguments)))),h=Tn(t);if(n.wheel)n.mouse[0][0]===h[0]&&n.mouse[0][1]===h[1]||(n.mouse[1]=i.invert(n.mouse[0]=h)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[h,i.invert(h)],le(this),n.start()}br(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),p),n.zoom("mouse",o(w(v(i,s),n.mouse[0],n.mouse[1]),n.extent,u))}}function A(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,a=_(this,e,!0).event(t),s=Un(t.view).on("mousemove.zoom",(function(t){if(br(t),!a.moved){var e=t.clientX-h,n=t.clientY-l;a.moved=e*e+n*n>g}a.event(t).zoom("mouse",o(w(a.that.__zoom,a.mouse[0]=Tn(t,i),a.mouse[1]),a.extent,u))}),!0).on("mouseup.zoom",(function(t){s.on("mousemove.zoom mouseup.zoom",null),Fn(t.view,a.moved),br(t),a.event(t).end()}),!0),c=Tn(t,i),h=t.clientX,l=t.clientY;Bn(t.view),wr(t),a.mouse=[c,this.__zoom.invert(c)],le(this),a.start()}}function S(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=Tn(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),c=n.k*(t.shiftKey?.5:2),l=o(w(v(n,c),a,s),i.apply(this,e),u);br(t),h>0?Un(this).transition().duration(h).call(x,l,a,t):Un(this).call(m.transform,l,a,t)}}function L(n,...i){if(r.apply(this,arguments)){var o,a,s,c,u=n.touches,h=u.length,l=_(this,i,n.changedTouches.length===h).event(n);for(wr(n),a=0;a<h;++a)c=[c=Tn(s=u[a],this),this.__zoom.invert(c),s.identifier],l.touch0?l.touch1||l.touch0[2]===c[2]||(l.touch1=c,l.taps=0):(l.touch0=c,o=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(l.taps<2&&(e=c[0],t=setTimeout((function(){t=null}),f)),le(this),l.start())}}function M(t,...e){if(this.__zooming){var n,r,i,a,s=_(this,e).event(t),c=t.changedTouches,h=c.length;for(br(t),n=0;n<h;++n)i=Tn(r=c[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var l=s.touch0[0],d=s.touch0[1],f=s.touch1[0],p=s.touch1[1],g=(g=f[0]-l[0])*g+(g=f[1]-l[1])*g,y=(y=p[0]-d[0])*y+(y=p[1]-d[1])*y;r=v(r,Math.sqrt(g/y)),i=[(l[0]+f[0])/2,(l[1]+f[1])/2],a=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(w(r,i,a),s.extent,u))}}function G(t,...r){if(this.__zooming){var i,o,a=_(this,r).event(t),s=t.changedTouches,c=s.length;for(wr(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),i=0;i<c;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Tn(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<y)){var u=Un(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return m.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",kr),t!==i?x(t,e,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e,n,r){m.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},m.scaleTo=function(t,e,n,r){m.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?b(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),c="function"==typeof e?e.apply(this,arguments):e;return o(w(v(r,c),a,s),t,u)}),n,r)},m.translateBy=function(t,e,n,r){m.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)}),null,r)},m.translateTo=function(t,e,n,r,a){m.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?b(t):"function"==typeof r?r.apply(this,arguments):r;return o(vr.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),r,a)},k.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Un(this.that).datum();d.call(t,this.that,new yr(t,{sourceEvent:this.sourceEvent,target:m,type:t,transform:this.that.__zoom,dispatch:d}),e)}},m.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:gr(+t),m):a},m.filter=function(t){return arguments.length?(r="function"==typeof t?t:gr(!!t),m):r},m.touchable=function(t){return arguments.length?(s="function"==typeof t?t:gr(!!t),m):s},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:gr([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],m):[c[0],c[1]]},m.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(t){return arguments.length?(o=t,m):o},m.duration=function(t){return arguments.length?(h=+t,m):h},m.interpolate=function(t){return arguments.length?(l=t,m):l},m.on=function(){var t=d.on.apply(d,arguments);return t===d?m:t},m.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,m):Math.sqrt(g)},m.tapDistance=function(t){return arguments.length?(y=+t,m):y},m}().scaleExtent([1,10]).on("zoom",(function(t){var e=t.transform,n=e.x,r=e.y,i=e.k;Cr.position.x=n||0,Cr.position.y=r||0,Cr.position.zoom=i||1,wi()}));function Ei(){Cr.position.zoom=1,Cr.position.x=0,Cr.position.y=0,oi.call(ki.transform,vr.translate(Cr.position.y,Cr.position.x).scale(Cr.position.zoom)),wi()}function Ai(t){var e=bi.find((function(e){return e.id===t}));if(e){var n=e.x,r=e.y,i=v(bi,(function(t){return t.x})),o=v(bi,(function(t){return t.y})),a=1===Cr.position.zoom?Cr.position.zoom+2*xi:Cr.position.zoom;oi.call(ki.transform,vr.translate(-(n*a-i),-(r*a-o)).scale(a)),wi()}}function Si(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Li(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Li(t,e){if(t){if("string"==typeof t)return Mi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(t,e):void 0}}function Mi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gi(){var t=document.querySelector(".record.active");t&&t.classList.remove("active")}function Ni(){var t=new URL(window.location).hash;if(t)return decodeURI(t.substring(1))}oi.call(ki),ti("e,alt+r",(function(t){t.preventDefault(),Ei()})),ti("c",(function(t){t.preventDefault(),Ai(Ni())})),window.zoomMore=function(){ki.scaleTo(oi,Cr.position.zoom+xi)},window.zoomLess=function(){ki.scaleTo(oi,Cr.position.zoom-xi)},window.zoomReset=Ei,window.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("record-container"),e=document.getElementById("close-right-side"),n=Ni();n&&i(n);var r=!1;function i(n){var i,o,a,s,c=document.getElementById(n);if(c){Gi(),r||(e.classList.add("active"),t.classList.add("active")),t.scrollTo({top:0}),Gi(),c.classList.add("active"),vi(),o=pi(i=[n]),a=o.nodes,s=o.links,a.nodes().forEach((function(t){return t.classList.add("highlight")})),s.nodes().forEach((function(t){return t.classList.add("highlight")})),Cr.highlightedNodes=Cr.highlightedNodes.concat(i);var u=c.querySelector("h1").textContent;document.title=u}}e.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("active"),r=!r})),ti("escape",(function(){e.classList.remove("active"),t.classList.remove("active"),history.pushState("",document.title,window.location.pathname),vi()})),window.addEventListener("hashchange",(function(){var e=Ni();e?(i(e),Ai(e)):(t.classList.remove("active"),vi())}))}));var zi=document.getElementById("index");function Ci(t){return Array.isArray?Array.isArray(t):"[object Array]"===Ti(t)}window.addEventListener("DOMContentLoaded",(function(){var t=zi.querySelector(".sorting-select"),e=sorting.records;function n(){for(var n=zi.querySelectorAll("li"),r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||Li(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.value.split(":"),2),i=r[0],o=r[1],a=0;a<n.length;a++){var s=e[a][i],c=n[a];"reverse"===o&&(s=n.length-1-s),c.style.order=s}}n(),t.addEventListener("change",n)}));function Oi(t){return"string"==typeof t}function ji(t){return"number"==typeof t}function Di(t){return"object"==typeof t}function Ii(t){return null!=t}function Ui(t){return!t.trim().length}function Ti(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Pi=t=>`Missing ${t} property in key`,Ri=t=>`Property \'weight\' in key \'${t}\' must be a positive integer`,$i=Object.prototype.hasOwnProperty;class qi{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let n=Bi(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Bi(t){let e=null,n=null,r=null,i=1,o=null;if(Oi(t)||Ci(t))r=t,e=Fi(t),n=Ki(t);else{if(!$i.call(t,"name"))throw new Error(Pi("name"));const a=t.name;if(r=a,$i.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(Ri(a));e=Fi(a),n=Ki(a),o=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:o}}function Fi(t){return Ci(t)?t:t.split(".")}function Ki(t){return Ci(t)?t.join("."):t}const Wi={useExtendedSearch:!1,getFn:function(t,e){let n=[],r=!1;const i=(t,e,o)=>{if(Ii(t))if(e[o]){const a=t[e[o]];if(!Ii(a))return;if(o===e.length-1&&(Oi(a)||ji(a)||function(t){return!0===t||!1===t||function(t){return Di(t)&&null!==t}(t)&&"[object Boolean]"==Ti(t)}(a)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(a));else if(Ci(a)){r=!0;for(let t=0,n=a.length;t<n;t+=1)i(a[t],e,o+1)}else e.length&&i(a,e,o+1)}else n.push(t)};return i(t,Oi(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Yi={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...Wi};const Xi=/[^ ]+/g;class Hi{constructor({getFn:t=Yi.getFn,fieldNormWeight:e=Yi.fieldNormWeight}={}){this.norm=function(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(e){const i=e.match(Xi).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*t),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Oi(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();Oi(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!Ii(t)||Ui(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach(((e,r)=>{let i=e.getFn?e.getFn(t):this.getFn(t,e.path);if(Ii(i))if(Ci(i)){let t=[];const e=[{nestedArrIndex:-1,value:i}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(Ii(r))if(Oi(r)&&!Ui(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else Ci(r)&&r.forEach(((t,n)=>{e.push({nestedArrIndex:n,value:t})}))}n.$[r]=t}else if(Oi(i)&&!Ui(i)){let t={v:i,n:this.norm.get(i)};n.$[r]=t}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Vi(t,e,{getFn:n=Yi.getFn,fieldNormWeight:r=Yi.fieldNormWeight}={}){const i=new Hi({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(Bi)),i.setSources(e),i.create(),i}function Ji(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Yi.distance,ignoreLocation:o=Yi.ignoreLocation}={}){const a=e/t.length;if(o)return a;const s=Math.abs(r-n);return i?a+s/i:s?1:a}const Qi=32;function Zi(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}class to{constructor(t,{location:e=Yi.location,threshold:n=Yi.threshold,distance:r=Yi.distance,includeMatches:i=Yi.includeMatches,findAllMatches:o=Yi.findAllMatches,minMatchCharLength:a=Yi.minMatchCharLength,isCaseSensitive:s=Yi.isCaseSensitive,ignoreLocation:c=Yi.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c},this.pattern=s?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(t,e)=>{this.chunks.push({pattern:t,alphabet:Zi(t),startIndex:e})},h=this.pattern.length;if(h>Qi){let t=0;const e=h%Qi,n=h-e;for(;t<n;)u(this.pattern.substr(t,Qi),t),t+=Qi;if(e){const t=h-Qi;u(this.pattern.substr(t),t)}}else u(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:r,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,ignoreLocation:c}=this.options;let u=[],h=0,l=!1;this.chunks.forEach((({pattern:e,alphabet:d,startIndex:f})=>{const{isMatch:p,score:g,indices:y}=function(t,e,n,{location:r=Yi.location,distance:i=Yi.distance,threshold:o=Yi.threshold,findAllMatches:a=Yi.findAllMatches,minMatchCharLength:s=Yi.minMatchCharLength,includeMatches:c=Yi.includeMatches,ignoreLocation:u=Yi.ignoreLocation}={}){if(e.length>Qi)throw new Error("Pattern length exceeds max of 32.");const h=e.length,l=t.length,d=Math.max(0,Math.min(r,l));let f=o,p=d;const g=s>1||c,y=g?Array(l):[];let m;for(;(m=t.indexOf(e,p))>-1;){let t=Ji(e,{currentLocation:m,expectedLocation:d,distance:i,ignoreLocation:u});if(f=Math.min(t,f),p=m+h,g){let t=0;for(;t<h;)y[m+t]=1,t+=1}}p=-1;let v=[],w=1,b=h+l;const x=1<<h-1;for(let r=0;r<h;r+=1){let o=0,s=b;for(;o<s;)Ji(e,{errors:r,currentLocation:d+s,expectedLocation:d,distance:i,ignoreLocation:u})<=f?o=s:b=s,s=Math.floor((b-o)/2+o);b=s;let c=Math.max(1,d-s+1),m=a?l:Math.min(d+s,l)+h,_=Array(m+2);_[m+1]=(1<<r)-1;for(let o=m;o>=c;o-=1){let a=o-1,s=n[t.charAt(a)];if(g&&(y[a]=+!!s),_[o]=(_[o+1]<<1|1)&s,r&&(_[o]|=(v[o+1]|v[o])<<1|1|v[o+1]),_[o]&x&&(w=Ji(e,{errors:r,currentLocation:a,expectedLocation:d,distance:i,ignoreLocation:u}),w<=f)){if(f=w,p=a,p<=d)break;c=Math.max(1,2*d-p)}}if(Ji(e,{errors:r+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>f)break;v=_}const _={isMatch:p>=0,score:Math.max(.001,w)};if(g){const t=function(t=[],e=Yi.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=t.length;o<a;o+=1){let a=t[o];a&&-1===r?r=o:a||-1===r||(i=o-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}(y,s);t.length?c&&(_.indices=t):_.isMatch=!1}return _}(t,e,d,{location:r+f,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:c});p&&(l=!0),h+=g,p&&y&&(u=[...u,...y])}));let d={isMatch:l,score:l?h/this.chunks.length:1};return l&&n&&(d.indices=u),d}}class eo{constructor(t){this.pattern=t}static isMultiMatch(t){return no(t,this.multiRegex)}static isSingleMatch(t){return no(t,this.singleRegex)}search(){}}function no(t,e){const n=t.match(e);return n?n[1]:null}class ro extends eo{constructor(t,{location:e=Yi.location,threshold:n=Yi.threshold,distance:r=Yi.distance,includeMatches:i=Yi.includeMatches,findAllMatches:o=Yi.findAllMatches,minMatchCharLength:a=Yi.minMatchCharLength,isCaseSensitive:s=Yi.isCaseSensitive,ignoreLocation:c=Yi.ignoreLocation}={}){super(t),this._bitapSearch=new to(t,{location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class io extends eo{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^\'"(.*)"$/}static get singleRegex(){return/^\'(.*)$/}search(t){let e,n=0;const r=[],i=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+i,r.push([e,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const oo=[class extends eo{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},io,class extends eo{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\\^"(.*)"$/}static get singleRegex(){return/^\\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends eo{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\\^"(.*)"$/}static get singleRegex(){return/^!\\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends eo{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\\$$/}static get singleRegex(){return/^!(.*)\\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends eo{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\\$$/}static get singleRegex(){return/^(.*)\\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends eo{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},ro],ao=oo.length,so=/ +(?=(?:[^\\"]*\\"[^\\"]*\\")*[^\\"]*$)/,co=new Set([ro.type,io.type]);const uo=[];function ho(t,e){for(let n=0,r=uo.length;n<r;n+=1){let r=uo[n];if(r.condition(t,e))return new r(t,e)}return new to(t,e)}const lo="$and",fo="$path",po=t=>!(!t[lo]&&!t.$or),go=t=>({[lo]:Object.keys(t).map((e=>({[e]:t[e]})))});function yo(t,e,{auto:n=!0}={}){const r=t=>{let i=Object.keys(t);const o=(t=>!!t[fo])(t);if(!o&&i.length>1&&!po(t))return r(go(t));if((t=>!Ci(t)&&Di(t)&&!po(t))(t)){const r=o?t[fo]:i[0],a=o?t.$val:t[r];if(!Oi(a))throw new Error((t=>`Invalid value for key ${t}`)(r));const s={keyId:Ki(r),pattern:a};return n&&(s.searcher=ho(a,e)),s}let a={children:[],operator:i[0]};return i.forEach((e=>{const n=t[e];Ci(n)&&n.forEach((t=>{a.children.push(r(t))}))})),a};return po(t)||(t=go(t)),r(t)}function mo(t,e){const n=t.matches;e.matches=[],Ii(n)&&n.forEach((t=>{if(!Ii(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let i={indices:n,value:r};t.key&&(i.key=t.key.src),t.idx>-1&&(i.refIndex=t.idx),e.matches.push(i)}))}function vo(t,e){e.score=t.score}class wo{constructor(t,e={},n){this.options={...Yi,...e},this.options.useExtendedSearch,this._keyStore=new qi(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Hi))throw new Error("Incorrect \'index\' type");this._myIndex=e||Vi(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Ii(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,r-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let s=Oi(t)?Oi(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=Yi.ignoreFieldNorm}){t.forEach((t=>{let n=1;t.matches.forEach((({key:t,norm:r,score:i})=>{const o=t?t.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(e?1:r))})),t.score=n}))}(s,{ignoreFieldNorm:a}),i&&s.sort(o),ji(e)&&e>-1&&(s=s.slice(0,e)),function(t,e,{includeMatches:n=Yi.includeMatches,includeScore:r=Yi.includeScore}={}){const i=[];return n&&i.push(mo),r&&i.push(vo),t.map((t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return i.length&&i.forEach((e=>{e(t,r)})),r}))}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=ho(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:t,i:n,n:i})=>{if(!Ii(t))return;const{isMatch:o,score:a,indices:s}=e.searchIn(t);o&&r.push({item:t,idx:n,matches:[{score:a,value:t,norm:i,indices:s}]})})),r}_searchLogical(t){const e=yo(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:i}=t,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:i});return o&&o.length?[{idx:r,item:e,matches:o}]:[]}const i=[];for(let o=0,a=t.children.length;o<a;o+=1){const a=t.children[o],s=n(a,e,r);if(s.length)i.push(...s);else if(t.operator===lo)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach((({$:t,i:r})=>{if(Ii(t)){let a=n(e,t,r);a.length&&(i[r]||(i[r]={idx:r,item:t,matches:[]},o.push(i[r])),a.forEach((({matches:t})=>{i[r].matches.push(...t)})))}})),o}_searchObjectList(t){const e=ho(t,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach((({$:t,i:r})=>{if(!Ii(t))return;let o=[];n.forEach(((n,r)=>{o.push(...this._findMatches({key:n,value:t[r],searcher:e}))})),o.length&&i.push({idx:r,item:t,matches:o})})),i}_findMatches({key:t,value:e,searcher:n}){if(!Ii(e))return[];let r=[];if(Ci(e))e.forEach((({v:e,i,n:o})=>{if(!Ii(e))return;const{isMatch:a,score:s,indices:c}=n.searchIn(e);a&&r.push({score:s,key:t,value:e,idx:i,norm:o,indices:c})}));else{const{v:i,n:o}=e,{isMatch:a,score:s,indices:c}=n.searchIn(i);a&&r.push({score:s,key:t,value:i,norm:o,indices:c})}return r}}wo.version="6.6.2",wo.createIndex=Vi,wo.parseIndex=function(t,{getFn:e=Yi.getFn,fieldNormWeight:n=Yi.fieldNormWeight}={}){const{keys:r,records:i}=t,o=new Hi({getFn:e,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},wo.config=Yi,wo.parseQuery=yo,function(...t){uo.push(...t)}(class{constructor(t,{isCaseSensitive:e=Yi.isCaseSensitive,includeMatches:n=Yi.includeMatches,minMatchCharLength:r=Yi.minMatchCharLength,ignoreLocation:i=Yi.ignoreLocation,findAllMatches:o=Yi.findAllMatches,location:a=Yi.location,threshold:s=Yi.threshold,distance:c=Yi.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:a,threshold:s,distance:c},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let n=t.trim().split(so).filter((t=>t&&!!t.trim())),r=[];for(let t=0,i=n.length;t<i;t+=1){const i=n[t];let o=!1,a=-1;for(;!o&&++a<ao;){const t=oo[a];let n=t.isMultiMatch(i);n&&(r.push(new t(n,e)),o=!0)}if(!o)for(a=-1;++a<ao;){const t=oo[a];let n=t.isSingleMatch(i);if(n){r.push(new t(n,e));break}}}return r}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let i=0,o=[],a=0;for(let r=0,s=e.length;r<s;r+=1){const s=e[r];o.length=0,i=0;for(let e=0,r=s.length;e<r;e+=1){const r=s[e],{isMatch:c,indices:u,score:h}=r.search(t);if(!c){a=0,i=0,o.length=0;break}if(i+=1,a+=h,n){const t=r.constructor.type;co.has(t)?o=[...o,...u]:o.push(u)}}if(i){let t={isMatch:!0,score:a/i};return n&&(t.indices=o),t}}return{isMatch:!1,score:1}}});var bo=new wo([],{includeScore:!1,keys:["label"]});function xo(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _o(t,e){if(t){if("string"==typeof t)return ko(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ko(t,e):void 0}}function ko(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eo(){var t,e=document.getElementById("index-counter"),n=document.querySelectorAll(".menu-types-list .badge"),r=0,i={},o=xo(data.nodes);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.hidden,c=a.type;!0!==s&&(r+=1,i[c]?i[c]+=1:i[c]=1)}}catch(t){o.e(t)}finally{o.f()}var u,h=xo(n);try{for(h.s();!(u=h.n()).done;){var l=u.value;Ao(l,i[l.previousElementSibling.name]||0)}}catch(t){h.e(t)}finally{h.f()}Ao(e,r)}function Ao(t,e){var n,r,i=(n=t.textContent.split("/",2),r=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(n,r)||_o(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];o=Number(o),a=Number(a)||o,t.textContent=e===a?a:"".concat(e,"/").concat(a)}function So(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}window.addEventListener("DOMContentLoaded",(function(){var t=[],e=0,n=document.getElementById("search"),r=document.getElementById("search-result-list");function i(){r.childNodes[e].classList.add("outline")}function o(){r.childNodes[e].classList.remove("outline")}n.addEventListener("focus",(function(){bo.setCollection(bi.filter((function(t){return 0===t.hidden}))),n.addEventListener("input",(function(){if(r.innerHTML="",e=0,t=[],""!==n.value&&0!==(t=bo.search(n.value)).length){for(var o=0;o<Math.min(5,t.length);o++){var a=t[o].item,s=a.id,c=a.label,u=a.types,h=document.createElement("li");h.classList.add("search-result-item"),h.innerHTML=\'\\n        <a href="#\'.concat(s,\'">\\n          <span class="record-type-points">\\n              \').concat(u.map((function(t){return\'<span style="color:var(--n_\'.concat(t,\')">â¬¤</span>\')})).join(" "),\'\\n          </span>\\n          <span class="record-title">\').concat(c,"</span>\\n        </a>"),r.appendChild(h)}i()}}))})),ti("s",(function(t){t.preventDefault(),n.focus()})),document.addEventListener("keydown",(function(r){if(0!==t.length)switch(r.key){case"ArrowUp":r.preventDefault(),e>0&&(o(),e--,i()),0===e&&n.focus();break;case"ArrowDown":if(r.preventDefault(),4===e||e===t.length-1)break;o(),e++,i(),1===e&&n.blur();break;case"Enter":r.preventDefault(),window.location.hash=t[e].item.id,n.blur()}}))})),n(942);var Lo=timeline,Mo=Lo.begin,Go=Lo.end;function No(t){return new Date(1e3*t).toLocaleDateString(graphProperties.lang)}function zo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||Co(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(t,e){if(t){if("string"==typeof t)return Oo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oo(t,e):void 0}}function Oo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jo(t,e){if(t){if("string"==typeof t)return Do(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Do(t,e):void 0}}function Do(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}window.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("timeline-checkbox"),e=document.getElementById("timeline-form"),n=document.getElementById("timeline-ticks");if(e){var r=e.querySelector("output"),i=e.querySelector(\'input[type="range"]\');t.checked=!1,t.addEventListener("change",(function(){t.checked?(e.classList.add("active"),a(),o(),window.addEventListener("resize",a),i.addEventListener("input",o)):(e.classList.remove("active"),window.removeEventListener("resize",a),i.removeEventListener("input",o),mi(ri.filteredByTimeline),Eo())}))}function o(){var t=i.value;r.value=No(t);var e,n=[],o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return So(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?So(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(data.nodes);try{for(o.s();!(e=o.n()).done;){var a=e.value,s=a.begin,c=a.end,u=a.id;void 0===c&&(c=Go),void 0===s&&(s=Mo),t>=s&&t<=c&&n.push(u)}}catch(t){o.e(t)}finally{o.f()}gi(n,ri.filteredByTimeline),Eo()}function a(){var t=Math.round(e.offsetWidth/100),r=Math.round((Go-Mo)/t);n.setAttribute("style","--list-length: ".concat(t+1,";")),n.innerHTML="";var a=function(t){var e=document.createElement("option");e.value=t,e.textContent=No(t),e.addEventListener("click",(function(){i.value=t,o()})),n.appendChild(e)};a(Mo);for(var s=1;s<=t;s++)a(s!==t?Mo+r*s:Go)}})),window.addEventListener("DOMContentLoaded",(function(){for(var t,e=document.getElementById("types-form"),n=e.querySelectorAll("input"),r=0,i=Object.entries(typeList);r<i.length;r++){var o=zo(i[r],2),a=o[0],s=o[1].active;e.querySelector(\'[name="\'.concat(a,\'"]\')).checked=s}f();var c,u=null===(t=new URL(window.location).searchParams.get("filters"))||void 0===t?void 0:t.split("-");if(null!=u&&u.length){for(var h=0,l=Object.entries(typeList);h<l.length;h++){var d=zo(l[h],1)[0];e.querySelector(\'[name="\'.concat(d,\'"]\')).checked=u.includes(d)}f()}function f(){var t=new FormData(e);t=Object.fromEntries(t);var n=new Set;t=Object.entries(typeList).filter((function(e){var n=zo(e,1)[0];return!!t[n]})).forEach((function(t){zo(t,2)[1].nodes.forEach((function(t){return n.add(t)}))})),gi(Array.from(n),ri.filteredByType)}e.addEventListener("change",f);var p,g=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Co(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(n);try{var y=function(){var t=p.value,r=t.name;t.checked,t.parentElement.addEventListener("click",(function(t){t.altKey&&(t.stopPropagation(),t.preventDefault(),c===r?(m(),c=void 0):(function(t){n.forEach((function(e){return e.checked=t===e.name})),e.dispatchEvent(new Event("change"))}(r),c=r))}))};for(g.s();!(p=g.n()).done;)y()}catch(t){g.e(t)}finally{g.f()}function m(){e.querySelectorAll("input:not(:checked)").forEach((function(t){return t.checked=!0})),e.dispatchEvent(new Event("change"))}hotkeys("alt+r",(function(t){t.preventDefault(),m()}))})),window.addEventListener("DOMContentLoaded",(function(){var t,e=document.getElementById("tags-form");if(e){var n=document.querySelector(".menu-tags .sorting-select"),r=sorting.tags;c(),u(),n.addEventListener("change",c),e.addEventListener("change",u);var i=null===(t=new URL(window.location).searchParams.get("tags"))||void 0===t?void 0:t.split("-");if(null!=i&&i.length){var o,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=jo(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;e.querySelector(\'input[name="\'.concat(s,\'"]\')).checked=!0}}catch(t){a.e(t)}finally{a.f()}e.dispatchEvent(new Event("change"))}ti("alt+r",(function(t){t.preventDefault(),e.querySelectorAll("input:checked").forEach((function(t){return t.checked=!1})),e.dispatchEvent(new Event("change"))})),window.activeTag=function(t){var n=e.querySelector(\'input[name="\'.concat(t,\'"]\'));n.checked=!n.checked,e.dispatchEvent(new Event("change"))}}function c(){for(var t=e.querySelectorAll("label"),i=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||jo(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.value.split(":"),2),o=i[0],a=i[1],s=0;s<t.length;s++){var c=r[s][o],u=t[s];"reverse"===a&&(c=t.length-1-c),u.style.order=c}}function u(){var t=new FormData(e);t=Object.fromEntries(t);var n=new Set;tagList.filter((function(e){var n=e.name;return!!t[n]})).forEach((function(t){t.nodes.forEach((function(t){return n.add(t)}))})),0!==n.size?gi(Array.from(n),ri.filteredByTag):mi(ri.filteredByTag)}}));var Io=n(934),Uo=n.n(Io),To=n(563);function Po(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ro(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ro(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ro(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $o=function(){var t,e=new(Uo()),n=Po(data.nodes);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.id,o=r.label;e.hasNode(i)||e.addNode(i,{label:o})}}catch(t){n.e(t)}finally{n.f()}var a,s=Po(data.links);try{for(s.s();!(a=s.n()).done;){var c=a.value,u=c.source,h=c.target;e.hasEdge(u.id,h.id)||e.addEdge(u.id,h.id)}}catch(t){s.e(t)}finally{s.f()}return e}();window.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("focus-check"),e=document.getElementById("focus-mode-select"),n=document.getElementById("focus-input");if(!1!==focusIsActive){var r;t.checked=!1;var i=new URL(window.location).searchParams,o=Number(i.get("focus"));!1===isNaN(o)&&o>0&&(n.value=o,a()),ti("f",(function(e){e.preventDefault(),t.checked=!t.checked,t.dispatchEvent(new Event("change"))})),ti("alt+r",(function(e){e.preventDefault(),t.checked=!1,t.dispatchEvent(new Event("change"))})),t.addEventListener("change",(function(){t.checked?a():(n.classList.remove("active"),n.removeEventListener("input",s),e.removeEventListener("change",c),mi(ri.filteredByFocus))}))}function a(){void 0!==Ni()?(c(),e.addEventListener("change",c),s(),n.classList.add("active"),n.addEventListener("input",s),n.focus()):t.checked=!1}function s(){var t=Ni(),e=[];(0,To.g)($o,t,(function(t,r,i){return e.push(t),i>=n.valueAsNumber}),{mode:r}),gi(e,ri.filteredByFocus)}function c(){r=e.value,s()}})),n(861)})()})();',favicon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAIGaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMDI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjEwMjQ8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KokyVsAAAAAlwSFlzAAALEwAACxMBAJqcGAAAATtQTFRFR3BMDVJzDFx+GHSUAP//DVByCVd3AAAAAAD/AIKBCXKSBFJ0F1x/GFZ2EGCANmF8D2+QGHaXFG6NAFh8EnaXG3aWLHCOE2iIH3mZAEx4AFV6AG2QAXOUOn+dprG8AHGSGmuLGWmJfZqtUoahprrGD1V4CVV4FHeWFnWWLmeIAFp8FWaGAFh7LmeGF2OGUHWNfZapAF+HUHSNfZaoAF6H/////Pz87O7x4uLio6Oj3t7eFWaJE16DGGCEIWuOAFqAGoCiADxyAFyHRG+MHoGjAGeQE3GUEG6S1tvhAH2iRX+cAG2Y5OjrAGWMiqCxoa+7iqGyobXBB2KGCF6DCGGFCl2DE4CiEX2gGXqdEX2fFX+iJHmcGXqcInmbAEx3aIWa193jAE12Z4Sa5ensZ5CmaZCn1t3j5Ons3t7fp3RRZgAAADV0Uk5TAHRwQQFHRAEBAkJ4+3h0eHBudPpy+3V1cvv7+vpy+/v7+/v7+52dmZl1+nX6dXX7+/v7+/siYXfnAAAA2ElEQVQYGQXBy07CUBRA0X1OD9zCQAloS4Nj40ii/gG/7UdoSYwxjowCgo9EQxrpfdS1wA0AAGDgEHcgO8qshw/xN+IscnG9tp6SfCjqp2hheHXrMhO6EB8Wr43Rz/qX2fSe+TbW0m8MlepMdvBVxCJTDHv/vkNulqs3fnaGIpJmqnWnOksiKKVIAoAkcoLR+fEGMWK3OfYJ5SWsJ2XlfVVOtmGFso+tP53AaOzbuMewqt4+Tj9pP0aH0lrJ/87nG1Elpa5cPufiDvTCUJWUGvM4cDkAAOSOf+M3WO+ZgJOzAAAAAElFTkSuQmCC",logo:'<?xml version="1.0" encoding="UTF-8"?>\n<svg enable-background="new 0 0 283.46 68" version="1.1" viewBox="0 0 283.46 68" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">\n<style type="text/css">\n\t.st0{fill:#147899;}\n\t.st1{fill:#02385C;}\n\t.st2{fill:#001A37;}\n</style>\n\t<path class="st0" d="m227.63 41.56v0.68-0.35-0.33m-15.62-15.3c-6.32 0-12.02 3.81-14.44 9.65s-1.08 12.56 3.39 17.03c2.99 2.99 6.98 4.58 11.05 4.58 2.01 0 4.04-0.39 5.98-1.19 0.26-0.11 0.52-0.22 0.77-0.34v-12.1c-0.86 2.91-3.56 5.03-6.75 5.03-2.85 0-5.41-1.71-6.5-4.34s-0.49-5.66 1.53-7.67c1.35-1.35 3.15-2.06 4.98-2.06 0.91 0 1.82 0.18 2.69 0.54 1.99 0.83 3.46 2.5 4.05 4.5v-12.09c-2.05-0.98-4.33-1.53-6.75-1.54"/>\n\t<path class="st0" d="m67.32 26.18c-4 0-8 1.53-11.05 4.58-6.1 6.1-6.1 16 0 22.1 3.05 3.05 7.05 4.58 11.05 4.58s8-1.53 11.05-4.58l-6.07-6.07c-1.31 1.32-3.1 2.06-4.96 2.06h-0.02c-3.19 0-5.97-2.14-6.8-5.22-0.82-3.08 0.52-6.32 3.28-7.92 1.1-0.63 2.31-0.94 3.52-0.94 1.82 0 3.62 0.71 4.98 2.06l6.07-6.07c-3.05-3.05-7.05-4.58-11.05-4.58"/>\n\t<path class="st0" d="m137.46 26.26h-12.18c-5.5 0-9.96 4.46-9.96 9.96s4.46 9.96 9.96 9.96h5.13c0.76 0 1.37 0.61 1.37 1.37s-0.61 1.37-1.37 1.37h-12.18v8.59h12.32c4-0.05 7.58-2.5 9.09-6.21s0.65-7.96-2.18-10.79c-1.86-1.87-4.38-2.92-7.01-2.92h-0.03-5.13c-0.76 0-1.37-0.62-1.37-1.38s0.62-1.37 1.37-1.37h12.18v-8.58"/>\n\t<path class="st0" d="m227.63 42.24c-0.13 5.9-3.58 11.21-8.88 13.74v1.49h8.88v-15.23m-8.87-2.36v4.01c0.19-0.64 0.29-1.31 0.29-2s-0.1-1.37-0.29-2.01m8.87-13.65h-8.88v1.57c5.15 2.48 8.74 7.69 8.88 13.76v-15.33"/>\n\t<path class="st1" d="m218.76 27.8v12.08c0.19 0.64 0.29 1.31 0.29 2 0 0.7-0.1 1.37-0.29 2v12.09c5.3-2.53 8.74-7.84 8.88-13.74v-0.68c-0.14-6.06-3.73-11.28-8.88-13.75"/>\n\t<path class="st0" d="m153.79 26.23h-8.52v31.24h8.52-8.52v-17.57-0.18c0.07-5.65 3.57-10.48 8.52-12.49v-1"/>\n\t<path class="st0" d="m177.75 26.23c-3.65 0-6.96 1.43-9.41 3.75 2.58 2.45 4.21 5.91 4.26 9.74v0.18c0-2.84 2.3-5.15 5.15-5.15 2.84 0 5.15 2.3 5.15 5.15v17.57h8.52v-17.57-0.18c-0.1-7.47-6.18-13.49-13.67-13.49"/>\n\t<path class="st0" d="m158.93 26.23c-1.82 0-3.56 0.36-5.15 1v30.24-17.57c0-2.84 2.3-5.15 5.15-5.15s5.15 2.3 5.15 5.15v-0.18c0.05-3.83 1.67-7.28 4.26-9.74-2.45-2.32-5.76-3.75-9.41-3.75"/>\n\t<path class="st1" d="m153.79 27.23c-4.94 2.01-8.45 6.84-8.52 12.49v0.18 17.57h8.52v-30.24"/>\n\t<path class="st1" d="m168.34 29.98c-2.58 2.45-4.21 5.91-4.26 9.74v0.18 17.57h8.52v-17.57-0.18c-0.05-3.83-1.68-7.28-4.26-9.74"/>\n\t<g id="cosma-roll">\n\t\t<path class="st0" d="m95.49 46.43-4.08 2.36v8.55h8.17v-8.55l-4.09-2.36m4.08-20.34h-8.17v8.55l4.09 2.36 4.08-2.36v-8.55"/>\n\t\t<path class="st0" d="m103.65 41.71-4.08 2.36v4.71l7.4 4.27 4.08-7.07-7.4-4.27m-19.65-11.34-4.08 7.07 7.4 4.27 4.08-2.36v-4.71l-7.4-4.27"/>\n\t\t<path class="st1" d="m99.57 44.07-4.08 2.36 4.08 2.36v-4.72m-8.17-9.43v4.71l4.09-2.35-4.09-2.36"/>\n\t\t<path class="st0" d="m87.32 41.71-7.4 4.27 4.08 7.08 7.4-4.27v-4.71l-4.08-2.37m19.65-11.34-7.4 4.27v4.71l4.08 2.36 7.4-4.27-4.08-7.07"/>\n\t\t<path class="st1" d="m91.4 44.07v4.71l4.08-2.36-4.08-2.35m8.17-9.43-4.08 2.36 4.08 2.36v-4.72"/>\n\t\t<path class="st1" d="m91.4 39.36-4.08 2.36 4.08 2.36v-4.72m8.17 0v4.71l4.08-2.36-4.08-2.35"/>\n\t\t<polyline class="st2" points="95.49 37 91.4 39.36 91.4 44.07 95.49 46.43 99.57 44.07 99.57 39.36 95.49 37"/>\n\t</g>\n\t<path class="st0" d="m50.43 16.17h-15c-0.69 0-1.25 0.56-1.25 1.25v48.56c0 0.69 0.56 1.25 1.25 1.25h15v-9.9h-5.09c-0.69 0-1.25-0.56-1.25-1.25v-28.74c0-0.69 0.56-1.25 1.25-1.25h5.09v-9.92"/>\n\t<path class="st0" d="m32.53 16.17h-15c-0.69 0-1.25 0.56-1.25 1.25v48.56c0 0.69 0.56 1.25 1.25 1.25h15v-9.9h-5.09c-0.69 0-1.25-0.56-1.25-1.25v-28.73c0-0.69 0.56-1.25 1.25-1.25h5.09v-9.93"/>\n\t<path class="st0" d="m247.89 16.17h-15v9.92h5.09c0.69 0 1.25 0.56 1.25 1.25v28.74c0 0.69-0.56 1.25-1.25 1.25h-5.09v9.9h15c0.69 0 1.25-0.56 1.25-1.25v-48.56c0.01-0.68-0.56-1.25-1.25-1.25"/>\n\t<path class="st0" d="m265.82 16.17h-15v9.92h5.09c0.69 0 1.25 0.56 1.25 1.25v28.74c0 0.69-0.56 1.25-1.25 1.25h-5.09v9.9h15c0.69 0 1.25-0.56 1.25-1.25v-48.55c0-0.69-0.56-1.26-1.25-1.26"/>\n</svg>'})}}const Wu=Hu,{log:Ku}=k()("cosma-cli",{suffix:""});class Xu extends C{static pathDir=w().join(Ku,"logs");static save(t){return new Promise(((e,i)=>{!1===a().existsSync(Xu.pathDir)&&i("Can not save report: dir does not exist");const n=w().join(Xu.pathDir,`${Xu.generateTimestamp()}.html`);a().writeFile(n,C.getAsHtmlFile(t),(t=>{t&&i(t.message),e(n)}))}))}static makeDir(){return new Promise(((t,e)=>{a().existsSync(Xu.pathDir)&&t(),a().mkdir(Xu.pathDir,{recursive:!0},(i=>{i&&e(i.message),t()}))}))}static generateTimestamp(){const t=new Date;return[t.getFullYear().toString().padStart(4,"0"),(t.getMonth()+1).toString().padStart(2,"0"),t.getDate().toString().padStart(2,"0"),t.getHours().toString().padStart(2,"0"),t.getMinutes().toString().padStart(2,"0"),t.getSeconds().toString().padStart(2,"0")].join("")}}const Yu=Xu,Ju=require("node:os"),Zu=async function(t){let e=H.get(H.configFilePath);t.citeproc=!!t.citeproc&&e.canCiteproc(),t.css_custom=!!t.customCss&&e.canCssCustom(),t=Object.entries(t).map((([t,e])=>({name:t,value:e}))).filter((({value:t})=>!0===t));const i=t.filter((({name:t})=>Sr.validParams.has(t))).map((({name:t})=>t)),n=t.filter((({name:t})=>Wu.validParams.has(t))).map((({name:t})=>t));i.includes("sample")&&(e=new H(H.getSampleConfig()));const{select_origin:r,files_origin:s,nodes_online:o,links_online:l,export_target:c,history:u}=e.opts;let h,{nodes_origin:p,links_origin:f}=e.opts;switch(console.log(e.getConfigConsolMessage()),r){case"directory":if(!1===e.canModelizeFromDirectory())return console.error(["[31m","Err.","[0m"].join(""),"Cannot modelize from directory with this config.");break;case"csv":if(!1===e.canModelizeFromCsvFiles())return console.error(["[31m","Err.","[0m"].join(""),"Cannot modelize from csv files with this config.");break;case"online":try{await e.canModelizeFromOnline()}catch(t){return console.error(["[31m","Err.","[0m"].join(""),"Cannot modelize from online csv files with this config.")}}switch(console.log(function(t,e,i){const n=[...t,...e];return`Building cosmoscopeâ¦ (source type: [1m${i}[0m${0===n.length?"":`; settings: [1m${n.join(", ")}[0m`})`}(i,n,r)),r){case"directory":const t=La.getFromPathFiles(s,e.opts);h=La.getRecordsFromFiles(t,n.includes("citeproc"),e.opts);break;case"online":const i=(0,Ju.tmpdir)();p=w().join(i,"cosma-nodes.csv"),f=w().join(i,"cosma-links.csv");try{await J(o,p),console.log("- Nodes file downloaded"),await J(l,f),console.log("- Links file downloaded")}catch(t){throw new B(t)}case"csv":let[r,a]=await La.getFromPathCsv(p,f);const c=I.formatedDatasetToLinks(a);h=Er.formatedDatasetToRecords(r,c,e)}const d=new La(h,e.opts,[]),{html:m}=new Wu(d,n);if(a().writeFile(w().join(c,"cosmoscope.html"),m,(t=>{if(t)return console.error(["[31m","Err.","[0m"].join(""),"write Cosmoscope file: "+t);console.log(["[34m","Cosmoscope generated","[0m"].join(""),`(${d.records.length} records)`)})),u){const t=H.configFilePath.includes(H.configDirPath)?"global":"local";(async function(t,e){let i;switch(e){case"global":i=w().join(it,t);break;case"local":i=w().join(process.cwd(),"history");break;default:throw new Error("Unknown project scope")}const n=w().join(i,`${Q().join("")}.html`);return new Promise((async(t,e)=>{!1===a().existsSync(i)&&a().mkdir(i,{recursive:!0},(i=>{i&&e(i.message),t(n)})),t(n)}))})(w().parse(H.configFilePath).name,t).then((t=>{a().writeFile(t,m,(t=>{t&&console.error(["[31m","Err.","[0m"].join(""),"cannot save Cosmoscope in history folder: "+t)}))}))}if(!1===Yu.isItEmpty())try{await Yu.makeDir();const t=await Yu.save(e.opts.title);console.log(Yu.getAsMessage()),console.log(["[2m",t,"[0m"].join(""))}catch(t){console.error(["[31m","Err.","[0m"].join(""),"cannot save log file in history folder: "+t)}},Qu=function(t="",e="undefined",i="",n,r=!0){if(n instanceof H==0)throw new Error("Need instance of Config to create record");e=e.split(",").map((t=>t.trim())),i=i.split(",").map((t=>t.trim()));const s=n.getTypesRecords(),o=[];for(const t of e)s.has(t)||(n.opts.record_types={...n.opts.record_types,[t]:n.opts.record_types.undefined},o.push(t));o.length>0&&console.log(["[33m","Warn.","[0m"].join(""),1===o.length?`type "${o[0]}" is`:`types "${o.join('","')}" are`,'not set in the configuration, will treat as "undefined"');const a=new Er(void 0,t,e,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n.opts);function l(){const{dir:t,base:e}=w().parse(a.path);console.log(["[32m","Record created","[0m"].join(""),`: ${["[2m",t,"/","[0m",e].join("")}`)}!1===r&&(a.id=void 0,a.ymlFrontMatter=a.getYamlFrontMatter()),a.saveAsFile().then((()=>{l()})).catch((t=>{const{message:e,type:i}=t;if("overwriting"===i)return rl=K().createInterface({input:process.stdin,output:process.stdout}),void rl.question(`Do you want to overwrite '${a.title}.md' ? (y/n) `,(async t=>{if("y"===t)try{await a.saveAsFile(!0),l()}catch(t){console.error(["[31m","Err.","[0m"].join(""),t.message)}rl.close()}));console.error(["[31m","Err.","[0m"].join(""),e)}))};process.title=U.name;const th=new g;function eh(t){if(t){const e=H.getConfigFilesListFromConfigDir().find((({name:e})=>e===t));e?H.configFilePath=e.filePath:(console.log(["[33m","Warn.","[0m"].join(""),`Project name "${t}" does not exist.`,'Check projects list with "cosma --list-projects"'),process.exit())}else a().existsSync(H.executionConfigPath)||(a().existsSync(H.defaultConfigPath)||(console.log(["[33m","Warn.","[0m"].join(""),"No default or local config file to use.",'Use "cosma config --help" for more info about create config file.'),process.exit()),H.configFilePath=H.defaultConfigPath)}th.version(U.version),th.name("cosma").description(U.description).usage("[command] [options]").option("--create-user-data-dir","Create user data directory.").option("-l, --list-projects","Display the names of projects (configuration files) saved in user data directory.").action((({createUserDataDir:t,listProjects:e})=>{if(t)a().existsSync(H.configDirPath)?console.log("User data directory already exists at",["[2m",H.configDirPath,"[0m"].join("")):a().mkdir(H.configDirPath,{recursive:!0},(t=>{t&&console.error(["[31m","Err.","[0m"].join(""),"cannot create user data directory: "+t),console.log(["[32m","User data directory created at","[0m"].join(""),["[2m",H.configDirPath,"[0m"].join(""))}));else if(e)try{const t=H.getConfigFilesListFromConfigDir().map((({name:t})=>t));t.length>0?console.log(t.join("\n")):console.log("No projects found from global directory.",'Use "cosma config --global <name>" to create project.')}catch(t){console.error(["[31m","Err.","[0m"].join(""),t.message)}else th.help()})).addHelpText("after",'\nExample call:\n  cosma modelize --citeproc --custom-css\n  cosma autorecord "My record" "concept" "tag 1,tag 2"\n  cosma batch ~/Documents/data.json\n\nDisplay command-specific help:\n  cosma [command] --help'),th.command("config").alias("c").description("Create a configuration file in the current directory.").argument("[name]","Configuration name.").option("-g, --global","Create the file in the user data directory.").action(((t,e)=>{!function(t,{global:e}){if((e=!!e)&&!1===a().existsSync(H.configDirPath))return console.log(["[31m","Err.","[0m"].join(""),"To create global configuration files, first create a user data directory by running",["[1m","cosma --create-user-data-dir","[0m"].join(""),".");if(process.cwd()===H.configDirPath&&!1===e)return console.log(["[31m","Err.","[0m"].join(""),"Can not create local config file in global config directory.",'To create global config file, use "cosma config --global".');let i,n;e&&!t?(i=H.base,n=H.defaultConfigPath):(i=H.get(H.defaultConfigPath).opts,n=e?w().join(H.configDirPath,et(t)+".yml"):H.executionConfigPath);const{dir:r,base:s}=w().parse(n);function o(){const t=new H(i);t.path=n,t.save()?console.log(["[32m","Configuration file created","[0m"].join(""),`: ${["[2m",r,"/","[0m",s].join("")}`):console.error(["[31m","Err.","[0m"].join(""),"could not save configuration file")}a().existsSync(n)?(rl=K().createInterface({input:process.stdin,output:process.stdout}),rl.question(`Do you want to overwrite '${s}' ? (y/n) `,(async t=>{"y"===t&&o(),rl.close()}))):o()}(t,e)})),th.command("modelize").alias("m").description("Create a cosmoscope.").option("-p, --project <name>","Use the configuration file for project <name> from the user data directory.").option("--citeproc","Process citations.").option("--custom-css","Apply custom CSS.").option("--sample","Create a sample cosmoscope.").option("--fake","Create a fake cosmoscope for testing purposes.").action((({project:t,...e})=>{eh(t),Zu(e)})),th.command("record").alias("r").description("Create a record. You will be prompted for a record title (mandatory), record type and list of comma-separated tags.").option("-p, --project <name>","Use the configuration file for project <name> from the user data directory.").action((({project:t})=>{eh(t),async function(){const t=H.get(H.configFilePath);if(console.log(t.getConfigConsolMessage()),!1===t.canSaveRecords())return void console.error(["[31m","Err.","[0m"].join(""),"Unable to create record: missing value for files_origin in the configuration file");const e={};let i="always"===t.opts.generate_id;const n=K().createInterface({input:process.stdin,output:process.stdout});try{"ask"===t.opts.generate_id&&await new Promise((t=>{n.question("Generate ID? (y/n): ",(e=>{"y"===e&&(i=!0),t(e)}))})),e.title=await new Promise(((t,e)=>{n.question(`${["[1m","title","[0m"].join("")} (required): `,(i=>{""===i.trim()&&e("Title is required"),t(i)}))})),e.type=await new Promise(((t,e)=>{n.question(`${["[1m","type","[0m"].join("")} (optional; enter as comma-separated values; if left blank, will be set as "undefined"): `,(e=>{""===e.trim()&&(e="undefined"),t(e)}))})),e.tags=await new Promise(((t,e)=>{n.question(`${["[1m","tags","[0m"].join("")} (optional; enter as comma-separated values): `,(e=>{t(e.trim())}))})),n.close(),Qu(e.title,e.type,e.tags,t,i)}catch(t){console.error(["[31m","Err.","[0m"].join(""),t),n.close()}}()})),th.command("autorecord").alias("a").description("Create a record (one-liner mode).").argument("<title>","(mandatory) Record title.").argument("[type]","Record type (default value if skipped: undefined).").argument("[tags]","List of comma-separated tags.").option("-id, --generate-id","If config option generate_id = ask, get record with timestamp as id.").option("-p, --project <name>","Use the configuration file for project <name> from the user data directory.").action(((t,e,i,{project:n,generateId:r})=>{eh(n),function(t="",e="undefined",i="",n){const r=H.get(H.configFilePath);console.log(r.getConfigConsolMessage()),!1!==r.canSaveRecords()?(n="never"!==r.opts.generate_id&&("always"===r.opts.generate_id||!!n),Qu(t,e,i,r,n)):console.error(["[31m","Err.","[0m"].join(""),"Unable to create record: missing value for files_origin in the configuration file")}(t,e,i,r)})).showHelpAfterError('("autorecord --help" for additional information)'),th.command("batch").alias("b").description("Create records (batch mode).").argument("<file>","Path to a JSON file containing a list of records to be created.").option("-id, --generate-id","If config option generate_id = ask, get record with timestamp as id.").option("-p, --project <name>","Use the configuration file for project <name> from the user data directory.").action(((t,{project:e,generateId:i})=>{eh(e),function(t,e){const i=H.get(H.configFilePath);if(console.log(i.getConfigConsolMessage()),e="never"!==i.opts.generate_id&&("always"===i.opts.generate_id||!!e),!1===a().existsSync(t))return console.error(["[31m","Err.","[0m"].join(""),"Data file does not exist.");a().readFile(t,"utf-8",((n,r)=>{if(n)return console.error(["[31m","Err.","[0m"].join(""),"Cannot read data file.");switch(w().extname(t)){case".json":try{r=JSON.parse(r)}catch(t){return console.error(["[31m","Err.","[0m"].join(""),"JSON data file is invalid.")}break;case".csv":try{r=function(t,e={}){"string"==typeof t&&(t=Buffer.from(t));const i=e&&e.objname?{}:[],n=Sa(e),r=t=>{void 0===n.options.objname?i.push(t):i[t[0]]=t[1]},s=()=>{},o=n.parse(t,!1,r,s);if(void 0!==o)throw o;const a=n.parse(void 0,!0,r,s);if(void 0!==a)throw a;return i}(r,{columns:!0,skip_empty_lines:!0}).map((t=>Er.getFormatedDataFromCsvLine(t)))}catch(t){return console.error(["[31m","Err.","[0m"].join(""),"CSV data file is invalid.")}break;default:return console.error(["[31m","Err.","[0m"].join(""),"Data file format unrecognized. Supported file extensions: .json, .csv.")}const{files_origin:s}=i.opts,o=La.getIndexToMassSave(s)+1;Er.massSave(r,o,i.opts,e).then((()=>console.log(["[32m","Records created","[0m"].join(""),`(${r.length})`,["[2m",s,"[0m"].join("")))).catch((t=>console.error(["[31m","Err.","[0m"].join(""),t)))}))}(t,i)})).showHelpAfterError('("batch --help" for additional information)'),th.showSuggestionAfterError(),th.parse()})()})();